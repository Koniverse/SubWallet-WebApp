"use strict";(("undefined"!=typeof self?self:this).webpackChunk_subwallet_web_runner=("undefined"!=typeof self?self:this).webpackChunk_subwallet_web_runner||[]).push([[425],{40425:(e,n,t)=>{t.r(n),t.d(n,{default:()=>T});var r=t(38014),o=t(51076),i=t(29709),s=t(92936),a=t(95798),l=t(99656),c=t(12798),d=t(19201),u=t(25356),m=t(92280),p=t(40194),k=t(72779),h=t.n(k),g=t(58584),f=t(75720),x=t(5373),y=t(2784),L=t(96217),j=t(35185),E=t(38338),W=t(80118),S=t(95023),H=t(52322);const w=(0,E.ZP)((e=>{const{accounts:n,className:t}=e,{t:r}=(0,L.$)();return(0,H.jsxs)("div",{className:h()(t),children:[(0,H.jsx)("div",{className:"page-icon",children:(0,H.jsx)(S.Z,{color:"var(--page-icon-color)",iconProps:{weight:"fill",phosphorIcon:f.Z}})}),(0,H.jsx)("div",{className:"title",children:r("All done!")}),(0,H.jsx)("div",{className:"description",children:r("You have successfully updated master password to all accounts")}),(0,H.jsxs)("div",{className:"account-container",children:[n.slice(0,2).map((e=>(0,H.jsx)(W.Z,{accountName:e.name,address:e.address,avatarSize:24,genesisHash:e.genesisHash,isSelected:!0},e.address))),n.length>2&&(0,H.jsxs)("div",{className:"and-more",children:[(0,H.jsx)("span",{children:"And other "}),(0,H.jsx)("span",{className:"highlight",children:String(n.length-2).padStart(2,"0")}),(0,H.jsx)("span",{children:" accounts"})]})]})]})})).withConfig({displayName:"Done__MigrateDone",componentId:"sc-1spq2zl-0"})((({theme:{token:e}})=>({padding:`0 ${e.padding}px`,textAlign:"center",".page-icon":{display:"flex",justifyContent:"center",marginTop:e.margin,marginBottom:e.margin,"--page-icon-color":e.colorSecondary},".title":{marginTop:e.margin,marginBottom:e.margin,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeHeading3,lineHeight:e.lineHeightHeading3,color:e.colorText},".description":{padding:`0 ${e.controlHeightLG-e.padding}px`,marginTop:e.margin,marginBottom:2*e.margin,fontSize:e.fontSizeHeading5,lineHeight:e.lineHeightHeading5,color:e.colorTextDescription,textAlign:"center"},".account-container":{display:"flex",flexDirection:"column",gap:e.sizeXS},".and-more":{fontSize:e.fontSizeHeading5,lineHeight:e.lineHeightHeading5,color:e.colorTextDescription,".highlight":{color:e.colorTextBase}}})));var M=t(70066);const Z=(0,E.ZP)((e=>{const{className:n}=e,{t}=(0,L.$)();return(0,H.jsxs)("div",{className:h()(n),children:[(0,H.jsx)("div",{className:"page-icon",children:(0,H.jsx)(S.Z,{color:"var(--page-icon-color)",iconProps:{weight:"fill",phosphorIcon:M.Z}})}),(0,H.jsx)("div",{className:"title",children:t("Apply master password")}),(0,H.jsx)("div",{className:"description",children:t("Master password created successfully. Please apply the master password to your existing accounts")})]})})).withConfig({displayName:"Introduction__IntroductionMigratePassword",componentId:"sc-1tlgtpi-0"})((({theme:{token:e}})=>({padding:`0 ${e.padding}px`,textAlign:"center",".page-icon":{display:"flex",justifyContent:"center",marginTop:e.margin,"--page-icon-color":e.colorSecondary},".title":{marginTop:e.margin,marginBottom:e.margin,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeHeading3,lineHeight:e.lineHeightHeading3,color:e.colorText},".description":{padding:`0 ${e.controlHeightLG-e.padding}px`,fontSize:e.fontSizeHeading5,lineHeight:e.lineHeightHeading5,color:e.colorTextDescription,textAlign:"center"},".form-item-no-error":{".ant-form-item-explain":{display:"none"}}})));var v=function(e){return e.PASSWORD="password",e}(v||{});const A=(0,H.jsx)(l.Z,{phosphorIcon:g.Z,weight:"fill"}),V=(0,H.jsx)(l.Z,{phosphorIcon:f.Z,weight:"fill"}),b=(0,H.jsx)(l.Z,{phosphorIcon:x.Z}),N="migrate-password-form",F=`${N}_${v.PASSWORD}`,I=()=>{setTimeout((()=>{const e=document.getElementById(F);e&&e.select()}),10)},T=(0,E.ZP)((e=>{const{className:n}=e,{t}=(0,L.$)(),{goHome:l}=(0,i.yu)(),k=(0,i.lm)(),{token:g}=(0,E.Fg)(),f=(0,i.ZR)(),{accounts:x}=(0,j.v9)((e=>e.accountState)),[W,S]=(0,y.useState)("Introduction"),[M]=c.Z.useForm(),[T,C]=(0,y.useState)(void 0),[D,P]=(0,y.useState)(!0),[z,B]=(0,y.useState)(!1),[_,R]=(0,y.useState)(!1),[$,O]=(0,y.useState)(!1),X=(0,y.useMemo)((()=>x.filter((e=>e.address!==r.Tt&&!e.isExternal&&e.isMasterPassword))),[]),q=(0,y.useMemo)((()=>x.filter((e=>e.address!==r.Tt&&!e.isExternal)).filter((e=>!X.find((n=>n.address===e.address))))),[x,X]),G=(0,y.useMemo)((()=>q.filter((e=>!e.isMasterPassword))),[q]),Y=(0,y.useCallback)((()=>{"Migrate"===W?S("Introduction"):l()}),[l,W]),J=(0,y.useCallback)(((e,n)=>{const{empty:t,error:r}=(0,a.ij)(n);P(r||t)}),[]),K=(0,y.useCallback)((e=>{const n=e[v.PASSWORD];null!=T&&T.address&&n&&(R(!0),setTimeout((()=>{(0,s.kT)({address:T.address,password:n}).then((e=>{null!=e&&e.status?B(!1):(M.setFields([{name:v.PASSWORD,errors:[e.errors[0]]}]),I(),B(!0))})).catch((e=>{B(!0),M.setFields([{name:v.PASSWORD,errors:[e.message]}]),I()})).finally((()=>{R(!1)}))}),500))}),[null==T?void 0:T.address,M]),Q=(0,y.useMemo)((()=>{const e=q.length-G.length;switch(W){case"Introduction":return t("Apply master password");case"Done":return t("Successful");case"Migrate":return`${String(e+1).padStart(2,"0")}/${String(q.length).padStart(2,"0")}`;default:return""}}),[t,W,G.length,q.length]),U=(0,y.useMemo)((()=>{switch(W){case"Introduction":return{children:t("Apply master password now"),onClick:()=>{S(G.length?"Migrate":"Done")},icon:A};case"Done":return{children:t("Finish"),onClick:()=>{l()},icon:V};case"Migrate":return{children:t("Next"),onClick:()=>{M.submit()},icon:A}}}),[M,l,G.length,W,t]),ee=(0,y.useCallback)((()=>{null!=T&&T.address&&f().then((()=>{O(!0),setTimeout((()=>{(0,s.a1)(T.address).then((()=>{B(!1)})).catch((e=>{k({message:e.message,type:"error"})})).finally((()=>{O(!1)}))}),500)})).catch((e=>{e&&k({message:e.message,type:"error"})}))}),[null==T?void 0:T.address,f,k]);return(0,y.useEffect)((()=>{S((e=>"Introduction"!==e?G.length?"Migrate":"Done":"Introduction"))}),[G.length,$]),(0,y.useEffect)((()=>{"Migrate"===W?(C((e=>{if($)return e;if(e){const n=G.find((n=>n.address===e.address));return M.resetFields(),P(!0),n?e:G[0]}return M.resetFields(),P(!0),G[0]})),setTimeout((()=>{const e=document.getElementById(F);e&&e.focus()}),10)):(B(!1),M.resetFields(),P(!0))}),[M,G,$,W]),(0,H.jsx)(o.FE,{animateOnce:!0,className:h()(n),children:(0,H.jsxs)(o.Ar.WithSubHeaderOnly,{disableBack:_,onBack:Y,rightFooterButton:{...U,disabled:"Migrate"===W&&(D||$),loading:"Migrate"===W&&_},showBackButton:"Introduction"!==W,subHeaderLeft:"Done"===W&&(0,H.jsx)(o.Tw,{}),title:Q,children:["Introduction"===W&&(0,H.jsx)(Z,{}),"Done"===W&&(0,H.jsx)(w,{accounts:q}),"Migrate"===W&&T&&(0,H.jsxs)("div",{className:"body-container",children:[(0,H.jsx)("div",{className:"account-avatar",children:(0,H.jsx)(p.Z,{size:4*g.sizeLG,theme:"ethereum"===T.type?"ethereum":"polkadot",value:T.address})}),(0,H.jsxs)(c.Z,{form:M,initialValues:{[v.PASSWORD]:""},name:N,onFieldsChange:J,onFinish:K,children:[(0,H.jsx)(c.Z.Item,{children:(0,H.jsx)(d.Z,{content:T.name||"",label:t("Account name"),placeholder:t("Account name")})}),(0,H.jsx)(c.Z.Item,{children:(0,H.jsx)(d.Z,{content:(0,a.pC)(T.address||"",15,17),label:t("Account address"),placeholder:t("Account address")})}),(0,H.jsx)(c.Z.Item,{name:v.PASSWORD,rules:[{message:"Current password is required",required:!0}],statusHelpAsTooltip:!0,children:(0,H.jsx)(u.Z,{label:t("Current password"),type:"password"})}),z&&(0,H.jsx)(c.Z.Item,{className:"form-item-button",children:(0,H.jsx)(m.Z,{icon:b,loading:$,onClick:ee,size:"xs",type:"ghost",children:t("Remove this account")})})]})]})]})})})).withConfig({displayName:"ApplyMasterPassword",componentId:"sc-dm26e8-0"})((({theme:{token:e}})=>({".body-container":{padding:`0 ${e.padding}px`,".account-avatar":{marginTop:e.margin,marginBottom:2*e.margin,display:"flex",flexDirection:"row",justifyContent:"center"},".ant-field-content-wrapper":{".ant-field-content":{color:e.colorTextDescription}},".ant-form-item":{marginBottom:e.marginXS},".form-item-no-error":{".ant-form-item-explain":{display:"none"}},".form-item-button":{paddingTop:e.marginXXS,marginBottom:0,".ant-form-item-control-input-content":{display:"flex",flexDirection:"row",justifyContent:"center"}}}})))},58584:(e,n,t)=>{t.d(n,{Z:()=>c});var r=t(2784),o=t(21890),i=t(76712),s=new Map;s.set("bold",(function(e){return r.createElement(r.Fragment,null,r.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("polyline",{points:"134.1 161.9 168 128 134.1 94.1",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("line",{x1:"88",y1:"128",x2:"168",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))})),s.set("duotone",(function(e){return r.createElement(r.Fragment,null,r.createElement("circle",{cx:"128",cy:"128",r:"96",opacity:"0.2"}),r.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeMiterlimit:"10",strokeWidth:"16"}),r.createElement("polyline",{points:"134.1 161.9 168 128 134.1 94.1",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"88",y1:"128",x2:"168",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))})),s.set("fill",(function(){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.2,104.2,0,0,0,128,24Zm47.4,107.1a8.7,8.7,0,0,1-1.8,2.6l-33.9,33.9a7.6,7.6,0,0,1-5.6,2.3,7.8,7.8,0,0,1-5.7-2.3,8,8,0,0,1,0-11.3L148.7,136H88a8,8,0,0,1,0-16h60.7L128.4,99.7a8,8,0,0,1,11.3-11.3l33.9,33.9a8.7,8.7,0,0,1,1.8,2.6A8.3,8.3,0,0,1,175.4,131.1Z"}))})),s.set("light",(function(e){return r.createElement(r.Fragment,null,r.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("polyline",{points:"134.1 161.9 168 128 134.1 94.1",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("line",{x1:"88",y1:"128",x2:"168",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))})),s.set("thin",(function(e){return r.createElement(r.Fragment,null,r.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("polyline",{points:"134.1 161.9 168 128 134.1 94.1",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("line",{x1:"88",y1:"128",x2:"168",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))})),s.set("regular",(function(e){return r.createElement(r.Fragment,null,r.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeMiterlimit:"10",strokeWidth:"16"}),r.createElement("polyline",{points:"134.1 161.9 168 128 134.1 94.1",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"88",y1:"128",x2:"168",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}));var a=function(e,n){return(0,o._)(e,n,s)},l=(0,r.forwardRef)((function(e,n){return r.createElement(i.Z,Object.assign({ref:n},e,{renderPath:a}))}));l.displayName="ArrowCircleRight";const c=l},5373:(e,n,t)=>{t.d(n,{Z:()=>c});var r=t(2784),o=t(21890),i=t(76712),s=new Map;s.set("bold",(function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"216",y1:"60",x2:"40",y2:"60",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("line",{x1:"104",y1:"104",x2:"104",y2:"168",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("line",{x1:"152",y1:"104",x2:"152",y2:"168",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("path",{d:"M200,60V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V60",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("path",{d:"M168,60V36a16,16,0,0,0-16-16H104A16,16,0,0,0,88,36V60",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))})),s.set("duotone",(function(e){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56Z",opacity:"0.2"}),r.createElement("line",{x1:"216",y1:"56",x2:"40",y2:"56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"104",y1:"104",x2:"104",y2:"168",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"152",y1:"104",x2:"152",y2:"168",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M168,56V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))})),s.set("fill",(function(){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M216,48H176V40a24.1,24.1,0,0,0-24-24H104A24.1,24.1,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM112,168a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm0-120H96V40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8Z"}))})),s.set("light",(function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"216",y1:"56",x2:"40",y2:"56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("line",{x1:"104",y1:"104",x2:"104",y2:"168",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("line",{x1:"152",y1:"104",x2:"152",y2:"168",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("path",{d:"M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("path",{d:"M168,56V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))})),s.set("thin",(function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"216",y1:"56",x2:"40",y2:"56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("line",{x1:"104",y1:"104",x2:"104",y2:"168",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("line",{x1:"152",y1:"104",x2:"152",y2:"168",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("path",{d:"M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("path",{d:"M168,56V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))})),s.set("regular",(function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"216",y1:"56",x2:"40",y2:"56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"104",y1:"104",x2:"104",y2:"168",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"152",y1:"104",x2:"152",y2:"168",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("path",{d:"M168,56V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}));var a=function(e,n){return(0,o._)(e,n,s)},l=(0,r.forwardRef)((function(e,n){return r.createElement(i.Z,Object.assign({ref:n},e,{renderPath:a}))}));l.displayName="Trash";const c=l}}]);