"use strict";(("undefined"!=typeof self?self:this).webpackChunk_subwallet_web_runner=("undefined"!=typeof self?self:this).webpackChunk_subwallet_web_runner||[]).push([[8614],{18614:(e,n,t)=>{t.r(n),t.d(n,{default:()=>S});var r,s=t(25601),o=t(13825),a=t(3612),i=t(33283),l=t(95798),c=t(12162),d=t(99656),u=t(17446),h=t(53828),k=t(90809),p=t(72779),g=t.n(p),m=t(50094),f=t(39359),x=t(2784),C=t(21427),E=t(73557),y=t(38338),b=t(61162),j=t(52322);!function(e){e.CONTACT="contact",e.RECENT="recent"}(r||(r={}));const w=(e,n)=>{const t=n.toLowerCase();return e.address.toLowerCase().includes(t)||!!e.name&&e.name.toLowerCase().includes(t)},L=e=>{switch(e.group){case r.CONTACT:return 1;case r.RECENT:default:return 0}},T=()=>(0,j.jsx)(s.$_,{}),N="manage-address-book-filter-modal",S=(0,y.ZP)((e=>{const{className:n}=e,{isWebUI:t}=(0,x.useContext)(a.sG),{t:p}=(0,C.$)(),y=(0,E.s0)(),{activeModal:S}=(0,x.useContext)(c.t),{contacts:v,recent:B}=(0,i.v9)((e=>e.accountState)),M=(0,x.useRef)(null),{filterSelectionMap:A,onApplyFilter:F,onChangeFilterOption:W,onCloseFilterModal:R,selectedFilters:_}=(0,i.RK)(N),H=(0,i.dB)(),Z=(0,x.useMemo)((()=>{const e=[];return(!_.length||_.includes(r.CONTACT))&&v.forEach((n=>{const t=(0,b.U)(n.address)?(0,l.k1)(n.address):n.address;e.push({...n,address:t,group:r.CONTACT})})),(!_.length||_.includes(r.RECENT))&&B.forEach((n=>{const t=(0,b.U)(n.address)?(0,l.k1)(n.address):n.address;e.push({...n,address:t,group:r.RECENT})})),e.sort(l.TR).sort(((e,n)=>L(n)-L(e)))}),[v,B,_]),O=(0,x.useMemo)((()=>[{label:p("Saved contacts"),value:r.CONTACT},{label:p("Recent"),value:r.RECENT}]),[p]),[I,z]=(0,x.useState)(),P=(0,x.useCallback)((()=>{S(o.UE)}),[S]),G=(0,x.useMemo)((()=>[{icon:(0,j.jsx)(d.Z,{phosphorIcon:m.Z,size:"md"}),onClick:P}]),[P]),U=(0,x.useCallback)((()=>{S(N)}),[S]),$=(0,x.useCallback)(((e,n,t)=>{let s="";switch(t){case r.CONTACT:s=p("Saved contacts");break;case r.RECENT:s=p("Recent")}return(0,j.jsxs)("div",{className:"address-book-group-separator",children:[(0,j.jsx)("span",{className:"address-book-group-label",children:s}),(0,j.jsxs)("span",{className:"address-book-group-counter",children:["Â (",e.length,")"]})]})}),[p]),D=(0,x.useCallback)((e=>()=>{z(e),setTimeout((()=>{S(o.GE)}),10)}),[S]),V=(0,x.useCallback)((e=>{const n=H(e);return e.group===r.RECENT?(0,j.jsx)(s.MG,{address:n,addressPreLength:8,addressSufLength:8,avatarSize:24,onClick:D(e)},e.address):(0,j.jsx)(s.HL,{accountName:e.name,address:n,avatarSize:24,onClick:D(e)},e.address)}),[H,D]),J=(0,x.useCallback)((()=>{y(t?"/settings":"/settings/list")}),[t,y]),K=(0,x.useMemo)((()=>(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(u.Z.Section,{actionBtnIcon:(0,j.jsx)(h.Z,{dot:!!_.length,children:(0,j.jsx)(d.Z,{phosphorIcon:f.Z,size:"sm",type:"phosphor",weight:"fill"})}),displayRow:!0,enableSearchInput:!0,groupBy:"group",groupSeparator:$,list:Z,onClickActionBtn:U,ref:M,renderItem:V,renderWhenEmpty:T,rowGap:"var(--row-gap)",searchFunction:w,searchMinCharactersCount:2,searchPlaceholder:p("Account name"),showActionBtn:!0}),(0,j.jsx)(s.Dd,{closeIcon:(0,j.jsx)(s.xC,{}),id:N,onApplyFilter:F,onCancel:R,onChangeOption:W,optionSelectionMap:A,options:O,title:p("Filter")}),(0,j.jsx)(s.xf,{}),I&&(0,j.jsx)(s.vg,{addressJson:I})]})),[O,A,$,Z,F,W,R,U,V,_.length,I,p]);return t?(0,j.jsxs)(s.Ar.Base,{showSubHeader:!0,subHeaderBackground:"transparent",withSideMenu:!0,children:[t&&(0,j.jsx)(k.Z,{background:"transparent",center:!1,onBack:J,rightButtons:G,showBackButton:!0,title:p("Manage address book")}),(0,j.jsx)("div",{style:{marginTop:32},children:K})]}):(0,j.jsx)(s.FE,{className:g()(n),children:(0,j.jsx)(s.Ar.WithSubHeaderOnly,{onBack:J,subHeaderIcons:G,title:p("Manage address book"),children:K})})})).withConfig({displayName:"AddressBook__ManageAddressBook",componentId:"sc-1g9lssa-0"})((({theme:{token:e}})=>({"--row-gap":e.sizeXS,".__web-ui":{marginTop:`${e.margin+24}px`},".ant-sw-screen-layout-body":{paddingTop:e.padding,height:"100%",display:"flex",flexDirection:"column"},".ant-sw-list-section":{flex:1,marginBottom:e.margin},".ant-account-item-address":{fontWeight:e.fontWeightStrong,fontSize:e.fontSizeHeading6,lineHeight:e.lineHeightHeading6,color:e.colorTextBase}})))},50094:(e,n,t)=>{t.d(n,{Z:()=>c});var r=t(2784),s=t(21890),o=t(76712),a=new Map;a.set("bold",(function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),r.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))})),a.set("duotone",(function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))})),a.set("fill",(function(){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M216,120H136V40a8,8,0,0,0-16,0v80H40a8,8,0,0,0,0,16h80v80a8,8,0,0,0,16,0V136h80a8,8,0,0,0,0-16Z"}))})),a.set("light",(function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),r.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))})),a.set("thin",(function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),r.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))})),a.set("regular",(function(e){return r.createElement(r.Fragment,null,r.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),r.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}));var i=function(e,n){return(0,s._)(e,n,a)},l=(0,r.forwardRef)((function(e,n){return r.createElement(o.Z,Object.assign({ref:n},e,{renderPath:i}))}));l.displayName="Plus";const c=l}}]);