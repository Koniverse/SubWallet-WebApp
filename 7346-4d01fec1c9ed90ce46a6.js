"use strict";(("undefined"!=typeof self?self:this).webpackChunk_subwallet_web_runner=("undefined"!=typeof self?self:this).webpackChunk_subwallet_web_runner||[]).push([[7346],{37346:(e,t,n)=>{n.r(t),n.d(t,{default:()=>R});var o=n(31101),s=n(64483),a=n(41803),r=n(26754),i=n(31343),c=n(75576),l=n(57190),d=n(3612),u=n(99828),p=n(43246),h=n(56547),g=n(25690),x=n(14993),m=n(92280),f=n(99656),y=n(4762),k=n(62982),_=n(90766),b=n(2784),w=n(38338),S=n(52322);const v=(0,w.ZP)((function({className:e="",isPriceDecrease:t,isShrink:n,onOpenBuyTokens:o,onOpenReceive:s,onOpenSendFund:a,totalChangePercent:r,totalChangeValue:i,totalValue:c}){return(0,S.jsxs)("div",{className:`tokens-upper-block ${e} ${n?"-shrink":""}`,children:[(0,S.jsx)(g.Z,{className:"__total-balance-value",decimal:0,decimalOpacity:.45,prefix:"$",size:38,subFloatNumber:!0,value:c}),!n&&(0,S.jsxs)("div",{className:"__balance-change-container",children:[(0,S.jsx)(g.Z,{className:"__balance-change-value",decimal:0,decimalOpacity:1,prefix:t?"- $":"+ $",value:i}),(0,S.jsx)(x.Z,{className:"__balance-change-percent "+(t?"-decrease":""),shape:"round",children:(0,S.jsx)(g.Z,{decimal:0,decimalOpacity:1,prefix:t?"-":"+",suffix:"%",value:r,weight:700})})]}),(0,S.jsxs)("div",{className:"__action-button-container",children:[(0,S.jsx)(m.Z,{icon:(0,S.jsx)(f.Z,{phosphorIcon:y.Z,size:n?"sm":"md",weight:"duotone"}),onClick:s,shape:"squircle",size:n?"xs":"sm"}),(0,S.jsx)("div",{className:"__button-space"}),(0,S.jsx)(m.Z,{icon:(0,S.jsx)(f.Z,{phosphorIcon:k.Z,size:n?"sm":"md",weight:"duotone"}),onClick:a,shape:"squircle",size:n?"xs":"sm"}),(0,S.jsx)("div",{className:"__button-space"}),(0,S.jsx)(m.Z,{icon:(0,S.jsx)(f.Z,{phosphorIcon:_.Z,size:n?"sm":"md",weight:"duotone"}),onClick:o,shape:"squircle",size:n?"xs":"sm"})]})]})})).withConfig({displayName:"UpperBlock",componentId:"sc-12e0a6v-0"})((({theme:{token:e}})=>({padding:"0px 8px 24px 8px",display:"flex",flexDirection:"column",".__total-balance-value":{textAlign:"center",padding:"0px 8px",lineHeight:e.lineHeightHeading1,fontSize:e.fontSizeHeading1,whiteSpace:"nowrap",overflow:"hidden",".ant-typography":{lineHeight:"inherit"}},".ant-btn":{transition:"width, height, padding 0s"},".__balance-change-container":{display:"flex",justifyContent:"center",alignItems:"flex-end",paddingTop:e.sizeSM,".ant-typography":{lineHeight:"inherit",color:"inherit !important",fontSize:"inherit !important"}},".__balance-change-value":{marginRight:e.sizeSM,lineHeight:e.lineHeight},".__balance-change-percent":{backgroundColor:e["cyan-6"],color:e["green-1"],marginInlineEnd:0,display:"flex","&.-decrease":{backgroundColor:e.colorError,color:e.colorTextLight1},".ant-number":{fontSize:e.fontSizeXS}},".__action-button-container":{display:"flex",justifyContent:"center",padding:"26px 8px 0 8px"},".__button-space":{width:e.size},"&.-shrink":{paddingBottom:32,flexDirection:"row",".__total-balance-value":{textAlign:"left",lineHeight:e.lineHeightHeading2,fontSize:e.fontSizeHeading2,flex:1,".ant-number-prefix, .ant-number-integer":{fontSize:"inherit !important"}},".__balance-change-container":{display:"none"},".__action-button-container":{paddingTop:0},".__button-space":{width:e.sizeXS}}})));var j=n(72779),C=n.n(j),z=n(75679),I=n(39359),T=n(35185),Z=n(73557),N=n(63220);const B=({columns:e,dataSource:t,onClick:n})=>(console.log("dataSource",t),(0,S.jsx)(N.Z,{dataSource:t,columns:e,pagination:!1,onRow:(e,t)=>({onClick:()=>{n&&n(e)}})})),$=()=>{const{t:e}=(0,p.Z)(),[t,n]=(0,b.useState)(!1),c=(0,Z.s0)(),g=(0,b.useRef)(null),x=(0,b.useRef)(null),{accountBalance:{tokenGroupBalanceMap:y,totalBalanceInfo:k},tokenGroupStructure:{sortedTokenGroups:_}}=(0,b.useContext)(l.Q),w=(0,T.v9)((e=>e.accountState.currentAccount)),{searchInput:j}=(0,Z.bx)(),N=(0,u.Z)(),{accountSelectorItems:$,onOpenReceive:R,openSelectAccount:H,openSelectToken:O,selectedAccount:P,selectedNetwork:L,tokenSelectorItems:M}=(0,h.Z)(),{isWebUI:D}=(0,b.useContext)(d.sG),E=(0,b.useCallback)((e=>{const t=e.currentTarget.scrollTop;n(t>80?e=>{if(!e&&x.current&&g.current){const e=g.current.getBoundingClientRect();x.current.style.position="fixed",x.current.style.top=`${e.top}px`,x.current.style.left=`${e.left}px`,x.current.style.right=`${e.right}px`,x.current.style.width=`${e.width}px`,x.current.style.opacity="0",x.current.style.paddingTop="0",setTimeout((()=>{x.current&&(x.current.style.opacity="1",x.current.style.paddingTop="32px")}),100)}return!0}:e=>(e&&x.current&&(x.current.style.position="absolute",x.current.style.top="0",x.current.style.left="0",x.current.style.right="0",x.current.style.width="100%",x.current.style.opacity="0",x.current.style.paddingTop="0",setTimeout((()=>{x.current&&(x.current.style.opacity="1",x.current.style.paddingTop="32px")}),100)),!1))}),[]),F=(0,b.useCallback)((()=>{var e;if(((null===(e=g.current)||void 0===e?void 0:e.scrollTop)||0)>80){if(x.current&&g.current){const e=g.current.getBoundingClientRect();x.current.style.top=`${e.top}px`,x.current.style.left=`${e.left}px`,x.current.style.right=`${e.right}px`,x.current.style.width=`${e.width}px`}}else x.current&&(x.current.style.top="0",x.current.style.left="0",x.current.style.right="0",x.current.style.width="100%")}),[]),A="decrease"===k.change.status,G=(0,b.useCallback)((e=>{c(`/home/tokens/detail/${e.slug}`)}),[c]),V=(0,b.useCallback)((()=>{c("/settings/tokens/manage")}),[c]),X=(0,b.useCallback)((()=>{w&&w.isReadOnly?N({message:e("The account you are using is read-only, you cannot send assets with it"),type:"info",duration:3}):c("/transaction/send-fund")}),[w,c,N,e]),q=(0,b.useCallback)((()=>{c("/buy-tokens")}),[c]),U=(0,b.useMemo)((()=>{const e=[],t=(null==j?void 0:j.toLowerCase())||"";return _.forEach((t=>{y[t]&&e.push(y[t])})),e.filter((e=>e.symbol.toLowerCase().includes(t)))}),[_,y,j]);return(0,b.useEffect)((()=>(window.addEventListener("resize",F),()=>{window.removeEventListener("resize",F)})),[F]),D?(0,S.jsx)(B,{columns:[{title:"Token name",dataIndex:"name",key:"name",render:(e,t)=>(0,S.jsx)(o.J9,{...t})},{title:"Portfolio %",dataIndex:"percentage",key:"percentage",render:()=>(0,S.jsx)(S.Fragment,{children:"85%"})},{title:"Price",dataIndex:"price",key:"price",render:(e,t)=>(0,S.jsx)(o.GI,{...t})},{title:"Balance",dataIndex:"balance",key:"balance",render:(e,t)=>(0,S.jsx)(o.F5,{...t})}],dataSource:U,onClick:G}):(0,S.jsxs)("div",{className:"tokens-screen-container",onScroll:E,ref:g,children:[(0,S.jsx)("div",{className:C()("__upper-block-wrapper",{"-is-shrink":t,"-decrease":A}),ref:x,children:(0,S.jsx)(v,{isPriceDecrease:A,isShrink:t,onOpenBuyTokens:q,onOpenReceive:R,onOpenSendFund:X,totalChangePercent:k.change.percent,totalChangeValue:k.change.value,totalValue:k.convertedValue})}),(0,S.jsxs)("div",{className:"__scroll-container",children:[U.map((e=>(0,S.jsx)(i.b,{...e,onPressItem:()=>G(e)},e.slug))),!U.length&&(0,S.jsx)(o.rf,{className:"__empty-list",emptyMessage:e("Add tokens to get started."),emptyTitle:e("No tokens found"),phosphorIcon:z.Z}),(0,S.jsx)("div",{className:"__scroll-footer",children:(0,S.jsx)(m.Z,{icon:(0,S.jsx)(f.Z,{phosphorIcon:I.Z}),onClick:V,size:"xs",type:"ghost",children:e("Manage token list")})})]}),(0,S.jsx)(s.C,{items:$,onSelectItem:H}),(0,S.jsx)(r.F,{address:P,items:M,onSelectItem:O}),(0,S.jsx)(a.Z,{address:P,selectedNetwork:L})]})},R=(0,w.ZP)((({className:e="",searchInput:t})=>{const n=(0,b.useContext)(c.R0);return(0,S.jsx)(o.FE,{className:`tokens ${e}`,resolve:n.awaitStores(["price","chainStore","assetRegistry","balance"]),children:(0,S.jsx)($,{})})})).withConfig({displayName:"Tokens",componentId:"sc-xas0kf-0"})((({theme:{extendToken:e,token:t}})=>({overflow:"hidden",".__empty-list":{marginTop:t.marginSM,marginBottom:t.marginSM},".tokens-screen-container":{height:"100%",color:t.colorTextLight1,fontSize:t.fontSizeLG,position:"relative",display:"flex",flexDirection:"column",overflowY:"auto",overflowX:"hidden",paddingTop:210},".__scroll-container":{paddingLeft:t.size,paddingRight:t.size},".__upper-block-wrapper":{backgroundColor:t.colorBgDefault,position:"absolute",paddingTop:"32px",height:210,zIndex:10,top:0,left:0,width:"100%",display:"flex",alignItems:"center",backgroundImage:e.tokensScreenSuccessBackgroundColor,transition:"opacity, padding-top 0.27s ease","&.-is-shrink":{height:104},"&.-decrease":{backgroundImage:e.tokensScreenDangerBackgroundColor}},".tokens-upper-block":{flex:1},".__scroll-footer":{display:"flex",justifyContent:"center",marginBottom:t.size},".token-group-balance-item":{marginBottom:t.sizeXS},".__upper-block-wrapper.-is-shrink":{".__static-block":{display:"none"},".__scrolling-block":{display:"flex"}}})))}}]);