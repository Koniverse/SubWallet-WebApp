"use strict";(("undefined"!=typeof self?self:this).webpackChunk_subwallet_web_runner=("undefined"!=typeof self?self:this).webpackChunk_subwallet_web_runner||[]).push([[7699],{47699:(e,n,t)=>{t.r(n),t.d(n,{default:()=>ce});var o=t(9661),r=t(56858),i=t(61162);function a(e){return(0,i.U)(e)?(0,r.k1)(e,42).toLowerCase():e}var s=t(53334),l=t(13825),c=t(75576),d=t(33283),u=t(95798),m=t(12162),k=t(99656),p=t(17446),h=t(90809),f=t(2784),v=t(21890),y=t(76712),E=new Map;E.set("bold",(function(e){return f.createElement(f.Fragment,null,f.createElement("line",{x1:"64",y1:"192",x2:"192",y2:"64",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),f.createElement("polyline",{points:"88 64 192 64 192 168",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))})),E.set("duotone",(function(e){return f.createElement(f.Fragment,null,f.createElement("line",{x1:"64",y1:"192",x2:"192",y2:"64",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),f.createElement("polyline",{points:"88 64 192 64 192 168",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))})),E.set("fill",(function(){return f.createElement(f.Fragment,null,f.createElement("path",{d:"M200,64V168a8,8,0,0,1-4.9,7.4,8.5,8.5,0,0,1-3.1.6,8.3,8.3,0,0,1-5.7-2.3L140,127.3,69.7,197.7a8.2,8.2,0,0,1-11.4,0,8.1,8.1,0,0,1,0-11.4L128.7,116,82.3,69.7a8.4,8.4,0,0,1-1.7-8.8A8,8,0,0,1,88,56H192A8,8,0,0,1,200,64Z"}))})),E.set("light",(function(e){return f.createElement(f.Fragment,null,f.createElement("line",{x1:"64",y1:"192",x2:"192",y2:"64",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),f.createElement("polyline",{points:"88 64 192 64 192 168",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))})),E.set("thin",(function(e){return f.createElement(f.Fragment,null,f.createElement("line",{x1:"64",y1:"192",x2:"192",y2:"64",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),f.createElement("polyline",{points:"88 64 192 64 192 168",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))})),E.set("regular",(function(e){return f.createElement(f.Fragment,null,f.createElement("line",{x1:"64",y1:"192",x2:"192",y2:"64",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),f.createElement("polyline",{points:"88 64 192 64 192 168",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}));var L=function(e,n){return(0,v._)(e,n,E)},N=(0,f.forwardRef)((function(e,n){return f.createElement(y.Z,Object.assign({ref:n},e,{renderPath:L}))}));N.displayName="ArrowUpRight";const x=N;var C=new Map;C.set("bold",(function(e){return f.createElement(f.Fragment,null,f.createElement("line",{x1:"192",y1:"64",x2:"64",y2:"192",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),f.createElement("polyline",{points:"168 192 64 192 64 88",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))})),C.set("duotone",(function(e){return f.createElement(f.Fragment,null,f.createElement("line",{x1:"192",y1:"64",x2:"64",y2:"192",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),f.createElement("polyline",{points:"168 192 64 192 64 88",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))})),C.set("fill",(function(){return f.createElement(f.Fragment,null,f.createElement("path",{d:"M197.7,69.7,127.3,140l46.4,46.3a8.4,8.4,0,0,1,1.7,8.8A8,8,0,0,1,168,200H64a8,8,0,0,1-8-8V88a8,8,0,0,1,4.9-7.4,8.4,8.4,0,0,1,8.8,1.7L116,128.7l70.3-70.4a8.1,8.1,0,0,1,11.4,11.4Z"}))})),C.set("light",(function(e){return f.createElement(f.Fragment,null,f.createElement("line",{x1:"192",y1:"64",x2:"64",y2:"192",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),f.createElement("polyline",{points:"168 192 64 192 64 88",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))})),C.set("thin",(function(e){return f.createElement(f.Fragment,null,f.createElement("line",{x1:"192",y1:"64",x2:"64",y2:"192",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),f.createElement("polyline",{points:"168 192 64 192 64 88",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))})),C.set("regular",(function(e){return f.createElement(f.Fragment,null,f.createElement("line",{x1:"192",y1:"64",x2:"64",y2:"192",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),f.createElement("polyline",{points:"168 192 64 192 64 88",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}));var j=function(e,n){return(0,v._)(e,n,C)},g=(0,f.forwardRef)((function(e,n){return f.createElement(y.Z,Object.assign({ref:n},e,{renderPath:j}))}));g.displayName="ArrowDownLeft";const A=g;var S=new Map;S.set("bold",(function(e){return f.createElement(f.Fragment,null,f.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),f.createElement("line",{x1:"169.6",y1:"152",x2:"128",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),f.createElement("polyline",{points:"71.8 99.7 31.8 99.7 31.8 59.7",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),f.createElement("path",{d:"M65.8,190.2a88,88,0,1,0,0-124.4l-34,33.9",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))})),S.set("duotone",(function(e){return f.createElement(f.Fragment,null,f.createElement("circle",{cx:"128",cy:"128",r:"88",opacity:"0.2"}),f.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),f.createElement("line",{x1:"169.6",y1:"152",x2:"128",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),f.createElement("polyline",{points:"71.8 99.7 31.8 99.7 31.8 59.7",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),f.createElement("path",{d:"M65.8,190.2a88,88,0,1,0,0-124.4l-34,33.9",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))})),S.set("fill",(function(){return f.createElement(f.Fragment,null,f.createElement("path",{d:"M136,80v43.4l37.6,21.7a8,8,0,0,1-4,14.9,7.1,7.1,0,0,1-4-1.1l-41.6-24h-.2l-.4-.2-.3-.3-.3-.2-.3-.3-.2-.2c-.2-.1-.3-.3-.4-.4l-.2-.2-.2-.4-.2-.3-.2-.3a.5.5,0,0,1-.2-.4l-.2-.3c0-.1-.1-.2-.1-.4a.4.4,0,0,1-.1-.3l-.2-.4a.4.4,0,0,0-.1-.3c0-.2,0-.3-.1-.4v-.4c0-.2-.1-.3-.1-.4V80a8,8,0,0,1,16,0Zm59.9-19.9a96.2,96.2,0,0,0-135.8,0l-8.3,8.3L37.5,54.1a8,8,0,0,0-8.7-1.8,8.2,8.2,0,0,0-5,7.4v40a8,8,0,0,0,8,8h40a8,8,0,0,0,5.7-13.6L63.1,79.7l8.3-8.3a80,80,0,1,1,0,113.2,7.9,7.9,0,0,0-11.3,0,8,8,0,0,0,0,11.3A96,96,0,0,0,195.9,60.1Z"}))})),S.set("light",(function(e){return f.createElement(f.Fragment,null,f.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),f.createElement("line",{x1:"169.6",y1:"152",x2:"128",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),f.createElement("polyline",{points:"71.8 99.7 31.8 99.7 31.8 59.7",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),f.createElement("path",{d:"M65.8,190.2a88,88,0,1,0,0-124.4l-34,33.9",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))})),S.set("thin",(function(e){return f.createElement(f.Fragment,null,f.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),f.createElement("line",{x1:"169.6",y1:"152",x2:"128",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),f.createElement("polyline",{points:"71.8 99.7 31.8 99.7 31.8 59.7",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),f.createElement("path",{d:"M65.8,190.2a88,88,0,1,0,0-124.4l-34,33.9",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))})),S.set("regular",(function(e){return f.createElement(f.Fragment,null,f.createElement("line",{x1:"128",y1:"80",x2:"128",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),f.createElement("line",{x1:"169.6",y1:"152",x2:"128",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),f.createElement("polyline",{points:"71.8 99.7 31.8 99.7 31.8 59.7",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),f.createElement("path",{d:"M65.8,190.2a88,88,0,1,0,0-124.4l-34,33.9",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}));var W=function(e,n){return(0,v._)(e,n,S)},I=(0,f.forwardRef)((function(e,n){return f.createElement(y.Z,Object.assign({ref:n},e,{renderPath:W}))}));I.displayName="ClockCounterClockwise";const _=I;var w=t(39886),T=t(5286),b=t(87427),V=t(46308),M=t(8234),F=t(39359),D=t(96217),R=t(73557),B=t(38338),O=t(6723),Z=t(92280),H=t(80039),K=t(58142),U=t(35185),G=t(72779),$=t.n(G),P=t(52322);const X=(0,B.ZP)((e=>{const{data:n}=e,{amount:t,type:r}=n,{t:i}=(0,D.$)(),a=(0,u.Tn)(n.type),l=n.type===o.Vv.CROWDLOAN,c=n.type===o.Vv.SEND_NFT,d=(0,f.useMemo)((()=>{switch(r){case o.Vv.STAKING_BOND:case o.Vv.STAKING_JOIN_POOL:return i("Staking value");case o.Vv.STAKING_WITHDRAW:case o.Vv.STAKING_POOL_WITHDRAW:return i("Withdraw value");case o.Vv.STAKING_UNBOND:return i("Unstake value");case o.Vv.STAKING_CANCEL_UNSTAKE:return i("Cancel unstake value");case o.Vv.CROWDLOAN:return i("Contribute balance");default:return i("Amount")}}),[i,r]);return(0,P.jsxs)(P.Fragment,{children:[(a||l||t)&&(0,P.jsx)(s.oB.Number,{decimals:(null==t?void 0:t.decimals)||void 0,label:d,suffix:(null==t?void 0:t.symbol)||void 0,value:(null==t?void 0:t.value)||"0"}),n.additionalInfo&&c&&(0,P.jsx)(s.oB.Default,{label:i("Collection Name"),children:n.additionalInfo.collectionName})]})})).withConfig({displayName:"Amount__HistoryDetailAmount",componentId:"sc-13nv896-0"})((({theme:{token:e}})=>({}))),Y=(0,B.ZP)((e=>{const{data:n}=e,{fee:t}=n,{t:r}=(0,D.$)(),i=(0,f.useMemo)((()=>{if((0,u.LB)(n.type)&&n.additionalInfo&&n.type===o.Vv.TRANSFER_XCM)return n.additionalInfo}),[n.additionalInfo,n.type]);var a,l,c;return i?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(s.oB.Number,{decimals:(null==t?void 0:t.decimals)||void 0,label:r("Origin Chain fee"),suffix:(null==t?void 0:t.symbol)||void 0,value:(null==t?void 0:t.value)||"0"}),i.fee&&(0,P.jsx)(s.oB.Number,{decimals:(null===(a=i.fee)||void 0===a?void 0:a.decimals)||void 0,label:r("Destination fee"),suffix:(null===(l=i.fee)||void 0===l?void 0:l.symbol)||void 0,value:(null===(c=i.fee)||void 0===c?void 0:c.value)||"0"})]}):(0,P.jsx)(s.oB.Number,{decimals:(null==t?void 0:t.decimals)||void 0,label:r("Network fee"),suffix:(null==t?void 0:t.symbol)||void 0,value:(null==t?void 0:t.value)||"0"})})).withConfig({displayName:"Fee__HistoryDetailFee",componentId:"sc-lf1su0-0"})((({theme:{token:e}})=>({})));var J=t(36926);const z=(0,B.ZP)((e=>{var n,t;const{data:r}=e,{t:i}=(0,D.$)(),{chainInfoMap:a}=(0,U.v9)((e=>e.chainStore)),l=(0,u.Tn)(r.type),c=(0,f.useMemo)((()=>{if((0,u.LB)(r.type)&&r.additionalInfo&&r.type===o.Vv.TRANSFER_XCM)return r.additionalInfo}),[r.additionalInfo,r.type]);return c?(0,P.jsx)(s.oB.Transfer,{destinationChain:{slug:c.destinationChain,name:(0,J.aG)(a[c.destinationChain])},originChain:{slug:r.chain,name:(0,J.aG)(a[r.chain])},recipientAddress:r.to,recipientName:r.toName,senderAddress:r.from,senderName:r.fromName}):(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(s.oB.Chain,{chain:r.chain,label:i("Network")}),l?(0,P.jsx)(s.oB.Account,{address:r.from,label:i("From account"),name:r.fromName,networkPrefix:null===(n=a[r.chain])||void 0===n||null===(t=n.substrateInfo)||void 0===t?void 0:t.addressPrefix}):(0,P.jsx)(s.oB.Transfer,{recipientAddress:r.to,recipientName:r.toName,senderAddress:r.from,senderName:r.fromName})]})})).withConfig({displayName:"Header__HistoryDetailHeader",componentId:"sc-4187my-0"})((({theme:{token:e}})=>({}))),Q=(0,B.ZP)((e=>{const{className:n,data:t}=e,{t:o}=(0,D.$)();return(0,P.jsxs)(s.oB,{className:$()(n),children:[(0,P.jsx)(s.oB.DisplayType,{label:o("Transaction type"),typeName:o(l.nl[t.type])}),(0,P.jsx)(z,{data:t}),(0,P.jsx)(s.oB.Status,{label:o("Transaction status"),statusIcon:l.HU[t.status].icon,statusName:o(l.HU[t.status].name),valueColorSchema:l.HU[t.status].schema}),(0,P.jsx)(s.oB.Default,{label:o("Extrinsic Hash"),children:(t.extrinsicHash||"").startsWith("0x")?(0,u.pC)(t.extrinsicHash,8,9):"..."}),(0,P.jsx)(s.oB.Default,{label:o("Transaction time"),children:(0,u.JK)(t.time,"#hhhh#:#mm# - #MMM# #DD#, #YYYY#")}),(0,P.jsx)(X,{data:t}),(0,P.jsx)(Y,{data:t})]})})).withConfig({displayName:"Layout__HistoryDetailLayout",componentId:"sc-gc3ie8-0"})((({theme:{token:e}})=>({}))),q=(0,B.ZP)((function({className:e="",data:n,onCancel:t}){var o;const r=(0,U.v9)((e=>e.chainStore.chainInfoMap)),{t:i}=(0,D.$)(),a=(0,f.useCallback)((e=>()=>{window.open(e,"_blank")}),[]),s=(0,f.useMemo)((()=>{if(!n)return null;const e=r[n.chain],t=n.extrinsicHash&&""!==n.extrinsicHash&&(0,O.E)(e,n.extrinsicHash,"tx");return(0,P.jsx)(Z.Z,{block:!0,disabled:!t,icon:(0,P.jsx)(k.Z,{phosphorIcon:K.Z,weight:"fill"}),onClick:a(t||""),children:i("View on explorer")})}),[r,n,a,i]);return(0,P.jsx)(H.ZP,{className:e,footer:s,id:l.lQ,onCancel:t,title:(null==n||null===(o=n.displayData)||void 0===o?void 0:o.title)||"",children:(0,P.jsx)("div",{className:"__layout-container",children:n&&(0,P.jsx)(Q,{data:n})})})})).withConfig({displayName:"Detail__HistoryDetailModal",componentId:"sc-5vqnl8-0"})((({theme:{token:e}})=>({".ant-sw-modal-body":{marginBottom:0},".ant-sw-modal-footer":{border:0}})));var ee=t(3612),ne=t(7419);const te={send:x,receive:A,claim_reward:_,staking:w.Z,crowdloan:T.Z,nft:b.Z,processing:V.Z,default:_};function oe(e){return e.status===o.A2.PROCESSING?te.processing:e.type===o.Vv.SEND_NFT?te.nft:e.type===o.Vv.CROWDLOAN?te.crowdloan:e.type===o.Vv.STAKING_CLAIM_REWARD?te.claim_reward:(0,u.Tn)(e.type)?te.staking:te.default}function re(e,n,t){let r;const i=(0,u.JK)(e.time,"#hhhh#:#mm#"),a=e.status===o.A2.FAIL?"fail":"";if(e.type===o.Vv.TRANSFER_BALANCE||e.type===o.Vv.TRANSFER_TOKEN||e.type===o.Vv.TRANSFER_XCM||e.type===o.Vv.EVM_EXECUTE)r=e.direction===o.Rg.RECEIVED?{className:`-receive -${e.status}`,title:t.received,name:n.received,typeName:`${n.received} ${a} - ${i}`,icon:te.receive}:{className:`-send -${e.status}`,title:t.send,name:n.send,typeName:`${n.send} ${a} - ${i}`,icon:te.send};else{const o=n[e.type]||n.default;r={className:`-${e.type} -${e.status}`,title:t[e.type],typeName:`${o} ${a} - ${i}`,name:n[e.type],icon:oe(e)}}return e.status===o.A2.PROCESSING&&(r.className="-processing",r.typeName=n.processing),r}const ie="history-filter-id";var ae=function(e){return e.SEND="send",e.RECEIVED="received",e.NFT="nft",e.STAKE="stake",e.CLAIM="claim",e.CROWDLOAN="crowdloan",e.SUCCESSFUL="successful",e.FAILED="failed",e}(ae||{});function se(e){return`${e.chain}-${e.address}-${e.transactionId||e.extrinsicHash}`}const le=l.lQ,ce=(0,B.ZP)((function({className:e=""}){const{t:n}=(0,D.$)(),t=(0,f.useContext)(c.R0),{isWebUI:i}=(0,f.useContext)(ee.sG),{activeModal:l,checkActive:v,inactiveModal:y}=(0,f.useContext)(m.t),{accounts:E,currentAccount:L}=(0,d.v9)((e=>e.accountState)),{historyList:N}=(0,d.v9)((e=>e.transactionHistory)),[x,C]=(0,f.useState)(""),{chainInfoMap:j}=(0,d.v9)((e=>e.chainStore)),g=v(le),{filterSelectionMap:A,onApplyFilter:S,onChangeFilterOption:W,onCloseFilterModal:I,selectedFilters:_}=(0,d.RK)(ie),w=(0,f.useMemo)((()=>e=>{if(!_.length)return!0;for(const n of _)if(n===ae.SEND){if((0,u.LB)(e.type)&&e.direction===o.Rg.SEND)return!0}else if(n===ae.RECEIVED){if((0,u.LB)(e.type)&&e.direction===o.Rg.RECEIVED)return!0}else if(n===ae.NFT){if(e.type===o.Vv.SEND_NFT)return!0}else if(n===ae.STAKE){if((0,u.Tn)(e.type))return!0}else if(n===ae.CLAIM){if(e.type===o.Vv.STAKING_CLAIM_REWARD)return!0}else if(n===ae.CROWDLOAN){if(e.type===o.Vv.CROWDLOAN)return!0}else if(n===ae.SUCCESSFUL){if(e.status===o.A2.SUCCESS)return!0}else if(n===ae.FAILED&&e.status===o.A2.FAIL)return!0;return!1}),[_]),T=(0,f.useMemo)((()=>[{label:n("Send token transaction"),value:ae.SEND},{label:n("Receive token transaction"),value:ae.RECEIVED},{label:n("NFT transaction"),value:ae.NFT},{label:n("Stake transaction"),value:ae.STAKE},{label:n("Claim reward transaction"),value:ae.CLAIM},{label:n("Successful transaction"),value:ae.SUCCESSFUL},{label:n("Failed transaction"),value:ae.FAILED}]),[n]),b=(0,f.useMemo)((()=>E.reduce(((e,n)=>(e[n.address.toLowerCase()]=n.name||"",e)),{})),[E]),V=(0,f.useMemo)((()=>({default:n("Transaction"),processing:n("Processing..."),send:n("Send"),received:n("Receive"),[o.Vv.SEND_NFT]:n("NFT"),[o.Vv.CROWDLOAN]:n("Crowdloan"),[o.Vv.STAKING_JOIN_POOL]:n("Stake"),[o.Vv.STAKING_LEAVE_POOL]:n("Unstake"),[o.Vv.STAKING_BOND]:n("Bond"),[o.Vv.STAKING_UNBOND]:n("Unbond"),[o.Vv.STAKING_CLAIM_REWARD]:n("Claim Reward"),[o.Vv.STAKING_WITHDRAW]:n("Withdraw"),[o.Vv.STAKING_CANCEL_UNSTAKE]:n("Cancel unstake"),[o.Vv.EVM_EXECUTE]:n("EVM Transaction")})),[n]),B=(0,f.useMemo)((()=>({default:n("Transaction"),send:n("Send transaction"),received:n("Receive transaction"),[o.Vv.SEND_NFT]:n("NFT transaction"),[o.Vv.CROWDLOAN]:n("Crowdloan transaction"),[o.Vv.STAKING_JOIN_POOL]:n("Stake transaction"),[o.Vv.STAKING_LEAVE_POOL]:n("Unstake transaction"),[o.Vv.STAKING_BOND]:n("Bond transaction"),[o.Vv.STAKING_UNBOND]:n("Unbond transaction"),[o.Vv.STAKING_CLAIM_REWARD]:n("Claim Reward transaction"),[o.Vv.STAKING_WITHDRAW]:n("Withdraw transaction"),[o.Vv.STAKING_CANCEL_UNSTAKE]:n("Cancel unstake transaction"),[o.Vv.EVM_EXECUTE]:n("EVM Transaction")})),[n]),O=(0,f.useMemo)((()=>{const e=(null==L?void 0:L.address)||"",n=e.toLowerCase(),t=(null==L?void 0:L.address)&&!(0,r.W_)(e),o={};return N.forEach((e=>{if(t&&n!==a(e.address))return;const r=b[a(e.from)||""],i=b[a(e.to)||""],s=se(e);o[s]={...e,fromName:r,toName:i,displayData:re(e,V,B)}})),o}),[b,N,V,B,null==L?void 0:L.address]),Z=(0,f.useMemo)((()=>Object.values(O).sort(((e,n)=>n.time-e.time))),[O]),[H]=(0,f.useState)(null==L?void 0:L.address),{chain:K,extrinsicHash:U}=(0,R.UO)(),[G,$]=(0,f.useState)(null),[X,Y]=(0,f.useState)(!!K&&!!U),J=(0,f.useCallback)((e=>()=>{$(e),l(le)}),[l]),z=(0,f.useCallback)((()=>{y(le),$(null),Y(!1)}),[y]),Q=(0,f.useCallback)((()=>{l(ie)}),[l]);(0,f.useEffect)((()=>{if(U&&K&&X){const e=Z.find((e=>e.chain===K&&e.extrinsicHash===U));e&&($(e),l(le))}}),[l,K,U,X,Z]),(0,f.useEffect)((()=>{g&&$((e=>{if(e){const n=se(e);return O[n]||null}return e}))}),[g,O]),(0,f.useEffect)((()=>{(null==L?void 0:L.address)!==H&&(y(le),$(null))}),[H,null==L?void 0:L.address,y]);const te=(0,f.useCallback)((()=>(0,P.jsx)(s.rf,{emptyMessage:n("Your transactions history will appear here!"),emptyTitle:n("No transactions yet"),phosphorIcon:M.Z})),[n]),oe=(0,f.useCallback)((e=>(0,P.jsx)(s.BN,{item:e,onClick:J(e)},`${e.extrinsicHash}-${e.address}`)),[J]),ce=(0,f.useCallback)(((e,n)=>{var t,o,r,i,a,s,l,c;const d=n.toLowerCase(),u=null===(t=e.fromName)||void 0===t?void 0:t.toLowerCase(),m=null===(o=e.toName)||void 0===o?void 0:o.toLowerCase(),k=null===(r=(null===(i=e.amount)||void 0===i?void 0:i.symbol)||(null===(a=e.fee)||void 0===a?void 0:a.symbol)||(null===(s=e.tip)||void 0===s?void 0:s.symbol))||void 0===r?void 0:r.toLowerCase(),p=null===(l=j[e.chain])||void 0===l||null===(c=l.name)||void 0===c?void 0:c.toLowerCase();return(null==u?void 0:u.includes(d))||(null==m?void 0:m.includes(d))||(null==k?void 0:k.includes(d))||(null==p?void 0:p.includes(d))}),[j]),de=(0,f.useCallback)((e=>(0,u.JK)(e.time,"#MMM# #DD#, #YYYY#")),[]),ue=(0,f.useCallback)(((e,n,t)=>(0,P.jsx)("div",{className:"__group-separator",children:t})),[]),me=(0,f.useMemo)((()=>i?(0,P.jsxs)("div",{className:"web-list",children:[(0,P.jsx)(ne.Z,{searchValue:x,placeholder:"Chain, Address, Type,...",onSearch:e=>C(e),onClickActionBtn:Q,actionBtnIcon:(0,P.jsx)(k.Z,{phosphorIcon:F.Z}),showActionBtn:!0,showExtraButton:!0}),(0,P.jsx)(p.Z,{filterBy:w,groupBy:de,groupSeparator:ue,list:Z,searchBy:ce,searchTerm:x,renderItem:oe,renderWhenEmpty:te})]}):(0,P.jsx)(p.Z.Section,{actionBtnIcon:(0,P.jsx)(k.Z,{phosphorIcon:F.Z}),enableSearchInput:!0,filterBy:w,groupBy:de,groupSeparator:ue,list:Z,onClickActionBtn:Q,renderItem:oe,renderWhenEmpty:te,searchFunction:ce,searchMinCharactersCount:2,searchPlaceholder:n("Search history"),showActionBtn:!0})),[i,x,_]);return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(s.FE,{className:`history ${e}`,resolve:t.awaitStores(["transactionHistory"]),children:[!i&&(0,P.jsx)(h.Z,{background:"transparent",center:!1,className:"history-header",paddingVertical:!0,showBackButton:!1,title:n("History")}),me]}),(0,P.jsx)(q,{data:G,onCancel:z}),(0,P.jsx)(s.Dd,{id:ie,onApplyFilter:S,onCancel:I,onChangeOption:W,optionSelectionMap:A,options:T})]})})).withConfig({displayName:"History",componentId:"sc-9sdid2-0"})((({theme:{token:e}})=>({display:"flex",flexDirection:"column",".history-header.ant-sw-sub-header-container":{marginBottom:0},".ant-sw-list-section":{flex:1},".ant-sw-sub-header-container":{marginBottom:e.marginXS},".history-item + .history-item, .history-item + .___list-separator":{marginTop:e.marginXS},".___list-separator":{fontSize:e.fontSizeSM,lineHeight:e.lineHeightSM,color:e.colorTextLight3,fontWeight:e.headingFontWeight,marginBottom:e.marginXS}})))},7419:(e,n,t)=>{t.d(n,{Z:()=>k});var o=t(92280),r=t(99656),i=t(25356),a=t(72779),s=t.n(a),l=t(13739),c=t(86267),d=t(2784),u=t(38338),m=t(52322);const k=(0,u.ZP)((({className:e,placeholder:n,searchValue:t,onSearch:a,onClickActionBtn:u,actionBtnIcon:k,showActionBtn:p,extraButton:h,showExtraButton:f=!1})=>{const v=(0,d.useMemo)((()=>h||(0,m.jsx)(o.Z,{type:"ghost",icon:(0,m.jsx)(r.Z,{phosphorIcon:l.Z,size:"sm"})})),[]);return(0,m.jsx)("div",{className:s()("container",e),children:(0,m.jsxs)("div",{className:"right-section",children:[f&&v,(0,m.jsx)(i.Z.Search,{className:"search-input",size:"md",placeholder:n,prefix:(0,m.jsx)(r.Z,{phosphorIcon:c.Z}),value:t,onChange:e=>{var n;const t=null==e||null===(n=e.target)||void 0===n?void 0:n.value;a(t)},suffix:p&&(0,m.jsx)(o.Z,{onClick:u,size:"xs",type:"ghost",icon:k})})]})})})).withConfig({displayName:"Search",componentId:"sc-1it0m7w-0"})((({})=>({display:"grid",width:"100%",".right-section":{justifySelf:"end",display:"flex",".search-input":{width:360,height:50}}})))},13739:(e,n,t)=>{t.d(n,{Z:()=>c});var o=t(2784),r=t(21890),i=t(76712),a=new Map;a.set("bold",(function(e){return o.createElement(o.Fragment,null,o.createElement("polyline",{points:"86 110 128 152 170 110",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),o.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"152",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),o.createElement("path",{d:"M216,152v56a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V152",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))})),a.set("duotone",(function(e){return o.createElement(o.Fragment,null,o.createElement("polyline",{points:"86 110 128 152 170 110",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),o.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"152",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),o.createElement("path",{d:"M216,152v56a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V152",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))})),a.set("fill",(function(){return o.createElement(o.Fragment,null,o.createElement("path",{d:"M80.3,115.7a8.2,8.2,0,0,1-1.7-8.7,8,8,0,0,1,7.4-5h34V40a8,8,0,0,1,16,0v62h34a8,8,0,0,1,7.4,5,8.2,8.2,0,0,1-1.7,8.7l-42,42a8.2,8.2,0,0,1-11.4,0ZM216,144a8,8,0,0,0-8,8v56H48V152a8,8,0,0,0-16,0v56a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V152A8,8,0,0,0,216,144Z"}))})),a.set("light",(function(e){return o.createElement(o.Fragment,null,o.createElement("polyline",{points:"86 110 128 152 170 110",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),o.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"152",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),o.createElement("path",{d:"M216,152v56a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V152",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))})),a.set("thin",(function(e){return o.createElement(o.Fragment,null,o.createElement("polyline",{points:"86 110 128 152 170 110",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),o.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"152",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),o.createElement("path",{d:"M216,152v56a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V152",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))})),a.set("regular",(function(e){return o.createElement(o.Fragment,null,o.createElement("polyline",{points:"86 110 128 152 170 110",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),o.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"152",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),o.createElement("path",{d:"M216,152v56a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V152",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}));var s=function(e,n){return(0,r._)(e,n,a)},l=(0,o.forwardRef)((function(e,n){return o.createElement(i.Z,Object.assign({ref:n},e,{renderPath:s}))}));l.displayName="DownloadSimple";const c=l}}]);