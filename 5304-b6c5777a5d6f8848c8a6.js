"use strict";(("undefined"!=typeof self?self:this).webpackChunk_subwallet_web_runner=("undefined"!=typeof self?self:this).webpackChunk_subwallet_web_runner||[]).push([[5304,7043],{15304:(e,t,n)=>{n.r(t),n.d(t,{default:()=>R});var i=n(6723),o=n(25601),r=n(75576),l=n(3612),a=n(33283),s=n(99828),c=n(43246),d=n(47088),m=n(71871),_=n(51952),f=n(95798),u=n(48685),h=n(99656),p=n(12162),x=n(66611),g=n(19138),k=n(92280),j=n(19201),w=n(80039),b=n(58094),y=n(74704),v=n(14546),C=n(72779),I=n.n(C),L=n(28394),S=n(78166),N=n(62982),Z=n(2784),E=n(35185),W=n(73557),T=n(38338),F=n(68774),z=n(55446),D=n(17043),H=n(52322);const B="transfer-nft-modal",P=(0,H.jsx)(h.Z,{customSize:"24px",phosphorIcon:L.Z,type:"phosphor",weight:"light"}),R=(0,T.ZP)((function({className:e=""}){var t;const n=(0,W.TH)(),{collectionInfo:C,nftItem:L}=n.state,R=(0,W.bx)(),{isWebUI:M}=(0,Z.useContext)(l.sG),{t:A}=(0,c.Z)(),U=(0,s.Z)(),X=(0,W.s0)(),{goBack:G}=(0,d.Z)(),{token:$}=(0,T.Fg)(),O=(0,Z.useContext)(r.R0),{activeModal:V,inactiveModal:Y}=(0,Z.useContext)(p.t),q=(0,E.v9)((e=>e.accountState.accounts)),K=(0,m.Z)(L.chain),Q=(0,_.Z)(L.owner||""),J=(0,i.E)(K,L.owner,"account");(0,a.qg)("/home/nfts/collections");const ee=(0,Z.useCallback)((()=>{if(L&&L.owner){const e=(0,u.Z)(L.owner,42),t=q.find((t=>t.address===e));if(null!=t&&t.isReadOnly)return void U({message:A("The NFT owner is a watch-only account, you cannot send the NFT with it"),type:"info",duration:3})}M?V(B):X(`/transaction/send-nft/${L.owner}/${L.chain}/${L.collectionId}/${L.id}`)}),[q,X,L,M,V,U,A]),te=[{children:A("Send"),onClick:ee}],ne=(0,Z.useCallback)((()=>{if(L.owner){var e;const t=(0,F.u)(L.owner)?"ethereum":"polkadot";return(0,H.jsx)(y.Z,{identPrefix:null===(e=K.substrateInfo)||void 0===e?void 0:e.addressPrefix,size:$.fontSizeXL,theme:t,value:L.owner})}return(0,H.jsx)("div",{})}),[L.owner,null===(t=K.substrateInfo)||void 0===t?void 0:t.addressPrefix,$.fontSizeXL]),ie=(0,Z.useCallback)((()=>(0,H.jsx)(x.Z,{network:K.slug,shape:"circle",size:$.fontSizeXL})),[K.slug,$.fontSizeXL]),oe=(0,Z.useCallback)((()=>(0,H.jsxs)("span",{children:[(0,H.jsx)("span",{children:null==Q?void 0:Q.name})," ",(0,H.jsxs)("span",{className:"nft_item_detail__owner_address",children:["(",`${null==L?void 0:L.owner.slice(0,4)}...${null==L?void 0:L.owner.slice(-4)}`,")"]})]})),[null==L?void 0:L.owner,null==Q?void 0:Q.name]),re=(0,Z.useCallback)((()=>{try{J?(0,f.YQ)(J)():console.log("error redirecting to a new tab")}catch(e){console.log("error redirecting to a new tab")}}),[J]),le=(0,Z.useCallback)((()=>{try{L.externalUrl?(0,f.YQ)(L.externalUrl)():console.log("error redirecting to a new tab")}catch(e){console.log("error redirecting to a new tab")}}),[L.externalUrl]),ae=(0,Z.useCallback)((e=>(0,H.jsx)("div",{className:"nft_item_detail__external_icon",onClick:"account"===e?re:le,children:(0,H.jsx)(h.Z,{customSize:"20px",phosphorIcon:S.Z,type:"phosphor",weight:"light"})})),[re,le]),se=(0,Z.useCallback)((()=>{null!=L&&L.description&&L.description.length>70&&V("nftItemDescription")}),[V,L.description]),ce=(0,Z.useCallback)((()=>{Y("nftItemDescription")}),[Y]),de=(0,Z.useCallback)((()=>{L.externalUrl&&chrome.tabs.create({url:L.externalUrl,active:!0}).then((()=>console.log("redirecting"))).catch(console.error)}),[L.externalUrl]);(0,Z.useEffect)((()=>{null==R||R.setDetailTitle(L.name||L.id)}),[L,R]);const me=(0,Z.useCallback)((()=>Y(B)),[Y]);return(0,H.jsx)(o.FE,{className:`${e}`,resolve:O.awaitStores(["nft","accountState","chainStore"]),children:(0,H.jsxs)(o.Ar.Base,{...!M&&{onBack:G,showBackButton:!0,showSubHeader:!0,subHeaderBackground:"transparent",subHeaderCenter:!1,subHeaderIcons:te,subHeaderPaddingVertical:!0,title:L.name||L.id},children:[(0,H.jsxs)("div",{className:I()("nft_item_detail__container",{"__web-ui":M}),children:[(0,H.jsxs)("div",{className:"nft_item_detail__nft_image",children:[(0,H.jsx)(g.Z,{className:I()({clickable:L.externalUrl}),height:358,onClick:de,src:L.image}),M&&(0,H.jsx)(k.Z,{block:!0,icon:(0,H.jsx)(h.Z,{phosphorIcon:N.Z,type:"phosphor",weight:"fill"}),onClick:ee,children:(0,H.jsx)("span",{className:"nft_item_detail__send_text",children:"Send"})})]}),(0,H.jsxs)("div",{className:"nft_item_detail_field_container",children:[(0,H.jsxs)("div",{className:"nft_item_detail__info_container",children:[!M&&(0,H.jsx)("div",{className:"nft_item_detail__section_title",children:A("NFT information")}),L.description&&(0,H.jsxs)("div",{className:"nft_item_detail__description_container",onClick:se,style:{cursor:L.description.length>70?"pointer":"auto"},children:[(0,H.jsx)("div",{className:"nft_item_detail__description_content",children:L.description.length>70?`${L.description.slice(0,70)}...`:L.description}),(0,H.jsxs)("div",{className:"nft_item_detail__description_title",children:[(0,H.jsx)(h.Z,{iconColor:$.colorIcon,phosphorIcon:S.Z,type:"phosphor",weight:"fill"}),(0,H.jsx)("div",{children:A("Description")})]})]}),(0,H.jsxs)("div",{className:"nft_item_detail__info_field_container",children:[(0,H.jsx)(j.Z,{content:C.collectionName||C.collectionId,label:A("NFT collection name"),suffix:L.externalUrl&&ae("collection")}),(0,H.jsx)(j.Z,{content:oe(),label:A("Owned by"),prefix:L.owner&&ne(),suffix:ae("account")}),M&&(0,H.jsx)(j.Z,{content:"created by...",label:A("Created By"),prefix:L.owner&&ne(),suffix:ae("account")}),(0,H.jsx)(j.Z,{content:K.name,label:A("Chain"),prefix:ie()})]})]}),L.properties&&L.properties.length>0&&(0,H.jsxs)("div",{className:"nft_item_detail__prop_section",children:[(0,H.jsx)("div",{className:"nft_item_detail__section_title",children:A("Properties")}),(0,H.jsx)("div",{className:"nft_item_detail__atts_container",children:Object.entries(L.properties).map((([e,t],n)=>{const{value:i}=t;return(0,H.jsx)(j.Z,{content:i.toString(),label:e,width:"fit-content"},n)}))})]})]}),!M&&(0,H.jsx)(k.Z,{block:!0,icon:(0,H.jsx)(h.Z,{phosphorIcon:N.Z,type:"phosphor",weight:"fill"}),onClick:ee,children:(0,H.jsx)("span",{className:"nft_item_detail__send_text",children:"Send"})})]}),(0,H.jsx)(o.P0,{id:B,onCancel:me,title:A("Transfer"),children:(0,H.jsx)(z.default,{modalContent:!0,children:(0,H.jsx)(D.default,{modalContent:!0,nftDetail:L})})}),(0,H.jsx)(w.ZP,{className:I()("nft_item_detail__description_modal"),closeIcon:P,id:"nftItemDescription",onCancel:ce,title:A("Description"),wrapClassName:e,children:(0,H.jsxs)("div",{className:"nft_item_detail__description_modal_content",children:[(0,H.jsx)("div",{className:"nft_item_detail__description_modal_left_icon",children:(0,H.jsx)(b.Z,{backgroundColor:(0,v.If)($.colorLink,.1),iconColor:$.colorLink,phosphorIcon:S.Z,size:"lg",type:"phosphor",weight:"fill"})}),(0,H.jsxs)("div",{className:"nft_item_detail_description_modal_container",children:[(0,H.jsx)("div",{className:"nft_item_detail__description_modal_title",children:L.name||L.id}),(0,H.jsx)("div",{className:"nft_item_detail__description_modal_detail",children:(0,H.jsx)("pre",{children:L.description})})]})]})})]})})})).withConfig({displayName:"NftItemDetail",componentId:"sc-1ffl3tk-0"})((({theme:{token:e}})=>({".nft_item_detail__container":{marginTop:e.marginSM,paddingRight:e.margin,paddingLeft:e.margin,paddingBottom:e.margin,".nft_item_detail__info_field_container":{gap:8,display:"flex",flexDirection:"column"},"&.__web-ui":{display:"flex",gap:16,paddingRight:0,".nft_item_detail__nft_image":{gap:16,flex:0,display:"flex",flexDirection:"column",justifyContent:"stretch",maxWidth:358,img:{aspectRatio:"1",objectFit:"cover"}},".nft_item_detail_field_container":{flex:1,".nft_item_detail__info_container":{margin:0,marginBottom:16,".nft_item_detail__info_field_container":{gap:8,display:"flex",flexWrap:"wrap",flexDirection:"row",".ant-field-container":{flex:"0 1",minWidth:"calc(50% - 4px)"}}}}}},".clickable":{cursor:"pointer"},".nft_item_detail__info_container":{display:"flex",flexDirection:"column",gap:e.marginXS,marginTop:e.margin,marginBottom:e.margin},".nft_item_detail__atts_container":{marginTop:e.margin,display:"flex",flexWrap:"wrap",gap:e.marginXS,overflow:"hidden"},".ant-field-container":{overflow:"hidden"},".nft_item_detail__section_title":{fontSize:e.fontSizeLG,color:e.colorTextHeading,lineHeight:e.lineHeightLG},".nft_item_detail__send_text":{fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG,color:e.colorTextLight1},".nft_item_detail__prop_section":{marginBottom:e.margin},".nft_item_detail__owner_address":{color:e.colorTextDescription},".nft_item_detail__external_icon":{cursor:"pointer"},".nft_item_detail__description_container":{padding:e.paddingSM,backgroundColor:e.colorBgSecondary,borderRadius:e.borderRadiusLG},".nft_item_detail__description_content":{color:e.colorTextDescription,fontSize:e.fontSize,fontWeight:e.bodyFontWeight,lineHeight:e.lineHeight,wordBreak:"break-all"},".nft_item_detail__description_title":{marginTop:e.margin,display:"flex",alignItems:"center",gap:e.marginXXS,color:e.colorTextLabel,fontSize:e.fontSize,fontWeight:e.headingFontWeight,lineHeight:e.lineHeight},".nft_item_detail__description_modal_content":{display:"flex",gap:e.marginXS,padding:e.paddingSM,backgroundColor:e.colorBgSecondary,borderRadius:e.borderRadiusLG},".nft_item_detail__description_modal_left_icon":{display:"flex",alignItems:"center"},".nft_item_detail__description_modal_title":{textAlign:"left",fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG,fontWeight:e.bodyFontWeight,color:e.colorTextLight1,wordBreak:"break-all"},".nft_item_detail__description_modal_detail":{textAlign:"justify",fontWeight:e.bodyFontWeight,fontSize:e.fontSizeHeading6,color:e.colorTextTertiary,wordBreak:"break-word"},".nft_item_detail__nft_image":{display:"flex",justifyContent:"center",width:"100%"}})))},17043:(e,t,n)=>{n.r(t),n.d(t,{default:()=>E});var i,o=n(56858),r=n(25601),l=n(75576),a=n(33283),s=n(92936),c=n(95798),d=n(12798),m=n(19138),_=n(99338),f=n(92280),u=n(99656),h=n(72779),p=n.n(h),x=n(58584),g=n(2784),k=n(21427),j=n(73557),w=n(38338),b=n(61162),y=n(68774),v=n(52274),C=n(94684),I=n(55446),L=n(52322);!function(e){e.TO="to"}(i||(i={}));const S={collectionId:"unknown",chain:"unknown"},N={collectionId:"unknown",chain:"unknown",owner:"unknown",id:"unknown"},Z=({modalContent:e=!1,nftDetail:t=N})=>{const{t:n}=(0,k.$)(),i=(0,j.s0)(),{chain:l="",collectionId:h,itemId:w,owner:Z=""}=(0,j.UO)(),{chainInfoMap:E}=(0,a.v9)((e=>e.chainStore)),{nftCollections:W,nftItems:T}=(0,a.v9)((e=>e.nft)),[F,z]=(0,g.useState)(!0),D=(0,g.useMemo)((()=>e?{nftChain:t.chain,collectionId:t.collectionId,itemId:t.id,owner:t.owner}:{nftChain:l,collectionId:h,itemId:w,owner:Z}),[h,w,l,Z,e,t]),H=(0,g.useMemo)((()=>{const{collectionId:e,itemId:t,nftChain:n,owner:i}=D;return T.find((r=>(0,o.Wr)(r.owner,i)&&n===r.chain&&r.collectionId===e&&r.id===t))||N}),[D,T]),B=(0,g.useMemo)((()=>{const{collectionId:e,nftChain:t}=D;return W.find((n=>t===n.chain&&n.collectionId===e))||S}),[D,W]),P=(0,g.useMemo)((()=>E[D.nftChain]),[E,D]),R=(0,a.xo)(D.nftChain),{chain:M,from:A,onDone:U,setChain:X,setFrom:G}=(0,g.useContext)(I.TransactionContext),{onError:$,onSuccess:O}=(0,a.Ls)(U),[V]=d.Z.useForm(),Y=(0,g.useMemo)((()=>({from:A,chain:M,to:""})),[M,A]),[q,K]=(0,g.useState)(!0),[Q,J]=(0,g.useState)(!1),ee=(0,g.useCallback)((({getFieldValue:e})=>({validator:(e,t)=>{if(!t)return Promise.reject(n("The recipient address is required"));if(!(0,b.U)(t))return Promise.reject(n("Invalid recipient address"));if((0,o.Wr)(t,A))return Promise.reject(n("The recipient address can not be the same as the sender address"));if((0,y.u)(t)!==(0,y.u)(A)){const e=(0,y.u)(A)?n("Receive address must be of evm account."):n("Receive address must be of substrate account.");return Promise.reject(e)}return Promise.resolve()}})),[n,A]),te=(0,g.useCallback)(((e,t)=>{const{error:n}=(0,c.ij)(t);K(n)}),[]),ne=(0,g.useCallback)((e=>{const t=(0,y.u)(A),{to:n}=e,i=(0,v.bO)(H,M);let o;o=t?(0,s.Y5)({senderAddress:A,networkKey:M,recipientAddress:n,nftItemName:null==H?void 0:H.name,params:i,nftItem:H}):(0,s.GW)({networkKey:M,recipientAddress:n,senderAddress:A,nftItemName:null==H?void 0:H.name,params:i,nftItem:H}),J(!0),setTimeout((()=>{o.then(O).catch($).finally((()=>{J(!1)}))}),300)}),[M,A,H,$,O]),ie=(0,a.Ey)(A);return(0,g.useEffect)((()=>{X(D.nftChain),G(D.owner)}),[D,X,G]),(0,g.useEffect)((()=>{H!==N&&B!==S||i("/home/nfts/collections")}),[B,i,H]),(0,a.uy)(V,"to"),(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)(C.tc,{className:p()("-transaction-content"),children:[(0,L.jsxs)("div",{className:p()("nft_item_detail text-center",{"__modal-ui":e}),children:[(0,L.jsx)(m.Z,{height:e?180:120,src:H.image}),(0,L.jsx)(_.Z.Title,{level:5,children:H.name})]}),(0,L.jsxs)(d.Z,{className:p()("form-container form-space-sm",{"__modal-ui":e}),form:V,initialValues:Y,onFieldsChange:te,onFinish:ne,children:[(0,L.jsx)(d.Z.Item,{name:"to",rules:[ee],statusHelpAsTooltip:!0,children:(0,L.jsx)(r.Jg,{addressPrefix:R,label:n("Send to"),placeholder:n("Account address"),saveAddress:!0,showAddressBook:!0,showScanner:!0})}),(0,L.jsx)(d.Z.Item,{children:(0,L.jsx)(r.oT,{disabled:!0,items:P?[{name:P.name,slug:P.slug}]:[],label:n("Network"),value:B.chain})})]}),(0,L.jsx)(C.ZL,{address:A,chain:M,label:n("Sender transferable balance")+":",onBalanceReady:z})]}),(0,L.jsx)(C.Xd,{className:p()("send-nft-transaction-footer",{"__modal-ui":e}),errors:[],warnings:[],children:(0,L.jsx)(f.Z,{disabled:q||!F,icon:(0,L.jsx)(u.Z,{phosphorIcon:x.Z,weight:"fill"}),loading:Q,onClick:ie(V.submit),children:n("Next")})})]})},E=(0,w.ZP)((e=>{const{className:t}=e,n=(0,g.useContext)(l.R0);return(0,L.jsx)(r.FE,{className:t,resolve:n.awaitStores(["nft"]),children:(0,L.jsx)(Z,{modalContent:e.modalContent,nftDetail:e.nftDetail})})})).withConfig({displayName:"SendNFT",componentId:"sc-13wb87a-0"})((({theme:{token:e}})=>({flex:1,display:"flex",flexDirection:"column",overflow:"hidden",".nft_item_detail h5":{marginTop:e.marginXS,marginBottom:e.margin},".__modal-ui":{"&.form-container":{display:"flex",flexDirection:"column-reverse"},"&.send-nft-transaction-footer":{"& > .ant-btn":{width:"100%"}},"&.nft_item_detail":{img:{aspectRatio:"1"}}}})))},58584:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(2784),o=n(21890),r=n(76712),l=new Map;l.set("bold",(function(e){return i.createElement(i.Fragment,null,i.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),i.createElement("polyline",{points:"134.1 161.9 168 128 134.1 94.1",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),i.createElement("line",{x1:"88",y1:"128",x2:"168",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))})),l.set("duotone",(function(e){return i.createElement(i.Fragment,null,i.createElement("circle",{cx:"128",cy:"128",r:"96",opacity:"0.2"}),i.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeMiterlimit:"10",strokeWidth:"16"}),i.createElement("polyline",{points:"134.1 161.9 168 128 134.1 94.1",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),i.createElement("line",{x1:"88",y1:"128",x2:"168",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))})),l.set("fill",(function(){return i.createElement(i.Fragment,null,i.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.2,104.2,0,0,0,128,24Zm47.4,107.1a8.7,8.7,0,0,1-1.8,2.6l-33.9,33.9a7.6,7.6,0,0,1-5.6,2.3,7.8,7.8,0,0,1-5.7-2.3,8,8,0,0,1,0-11.3L148.7,136H88a8,8,0,0,1,0-16h60.7L128.4,99.7a8,8,0,0,1,11.3-11.3l33.9,33.9a8.7,8.7,0,0,1,1.8,2.6A8.3,8.3,0,0,1,175.4,131.1Z"}))})),l.set("light",(function(e){return i.createElement(i.Fragment,null,i.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),i.createElement("polyline",{points:"134.1 161.9 168 128 134.1 94.1",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),i.createElement("line",{x1:"88",y1:"128",x2:"168",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))})),l.set("thin",(function(e){return i.createElement(i.Fragment,null,i.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),i.createElement("polyline",{points:"134.1 161.9 168 128 134.1 94.1",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),i.createElement("line",{x1:"88",y1:"128",x2:"168",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))})),l.set("regular",(function(e){return i.createElement(i.Fragment,null,i.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeMiterlimit:"10",strokeWidth:"16"}),i.createElement("polyline",{points:"134.1 161.9 168 128 134.1 94.1",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),i.createElement("line",{x1:"88",y1:"128",x2:"168",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}));var a=function(e,t){return(0,o._)(e,t,l)},s=(0,i.forwardRef)((function(e,t){return i.createElement(r.Z,Object.assign({ref:t},e,{renderPath:a}))}));s.displayName="ArrowCircleRight";const c=s}}]);