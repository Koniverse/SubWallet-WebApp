"use strict";(("undefined"!=typeof self?self:this).webpackChunk_subwallet_web_runner=("undefined"!=typeof self?self:this).webpackChunk_subwallet_web_runner||[]).push([[2151],{60241:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(6302),a=(n(2784),n(52322));const s=({columns:e,dataSource:t,onClick:n})=>(0,a.jsx)(o.Z,{columns:e,dataSource:t,onRow:e=>({onClick:()=>{n&&n(e)}}),pagination:!1,rowKey:e=>e.slug})},22151:(e,t,n)=>{n.r(t),n.d(t,{default:()=>D});var o=n(25601),a=n(64483),s=n(17774),i=n(26754),l=n(33624),r=n(31343),c=n(75576),p=n(57190),u=n(3612),d=n(99828),h=n(43246),g=n(56547),m=n(33283),x=n(25690),f=n(14993),y=n(92280),k=n(99656),b=n(4762),v=n(62982),_=n(90766),w=n(2784),S=n(38338),j=n(52322);const C=(0,S.ZP)((function({className:e="",isPriceDecrease:t,isShrink:n,onOpenBuyTokens:o,onOpenReceive:a,onOpenSendFund:s,totalChangePercent:i,totalChangeValue:l,totalValue:r}){const{t:c}=(0,m.$G)();return(0,j.jsxs)("div",{className:`tokens-upper-block ${e} ${n?"-shrink":""}`,children:[(0,j.jsx)(x.Z,{className:"__total-balance-value",decimal:0,decimalOpacity:.45,prefix:"$",size:38,subFloatNumber:!0,value:r}),!n&&(0,j.jsxs)("div",{className:"__balance-change-container",children:[(0,j.jsx)(x.Z,{className:"__balance-change-value",decimal:0,decimalOpacity:1,prefix:t?"- $":"+ $",value:l}),(0,j.jsx)(f.Z,{className:"__balance-change-percent "+(t?"-decrease":""),shape:"round",children:(0,j.jsx)(x.Z,{decimal:0,decimalOpacity:1,prefix:t?"-":"+",suffix:"%",value:i,weight:700})})]}),(0,j.jsxs)("div",{className:"__action-button-container",children:[(0,j.jsx)(y.Z,{icon:(0,j.jsx)(k.Z,{phosphorIcon:b.Z,size:n?"sm":"md",weight:"duotone"}),onClick:a,shape:"squircle",size:n?"xs":"sm",tooltip:c("Get address")}),(0,j.jsx)("div",{className:"__button-space"}),(0,j.jsx)(y.Z,{icon:(0,j.jsx)(k.Z,{phosphorIcon:v.Z,size:n?"sm":"md",weight:"duotone"}),onClick:s,shape:"squircle",size:n?"xs":"sm",tooltip:c("Send tokens")}),(0,j.jsx)("div",{className:"__button-space"}),(0,j.jsx)(y.Z,{icon:(0,j.jsx)(k.Z,{phosphorIcon:_.Z,size:n?"sm":"md",weight:"duotone"}),onClick:o,shape:"squircle",size:n?"xs":"sm",tooltip:c("Buy token")})]})]})})).withConfig({displayName:"UpperBlock",componentId:"sc-12e0a6v-0"})((({theme:{token:e}})=>({padding:"0px 8px 24px 8px",display:"flex",flexDirection:"column",".__total-balance-value":{textAlign:"center",padding:"0px 8px",lineHeight:e.lineHeightHeading1,fontSize:e.fontSizeHeading1,whiteSpace:"nowrap",overflow:"hidden",".ant-typography":{lineHeight:"inherit"}},".ant-btn":{transition:"width, height, padding 0s"},".__balance-change-container":{display:"flex",justifyContent:"center",alignItems:"flex-end",paddingTop:e.sizeSM,".ant-typography":{lineHeight:"inherit",color:"inherit !important",fontSize:"inherit !important"}},".__balance-change-value":{marginRight:e.sizeSM,lineHeight:e.lineHeight},".__balance-change-percent":{backgroundColor:e["cyan-6"],color:e["green-1"],marginInlineEnd:0,display:"flex","&.-decrease":{backgroundColor:e.colorError,color:e.colorTextLight1},".ant-number":{fontSize:e.fontSizeXS}},".__action-button-container":{display:"flex",justifyContent:"center",padding:"26px 8px 0 8px"},".__button-space":{width:e.size},"&.-shrink":{paddingBottom:32,flexDirection:"row",".__total-balance-value":{textAlign:"left",lineHeight:e.lineHeightHeading2,fontSize:e.fontSizeHeading2,flex:1,".ant-number-prefix, .ant-number-integer":{fontSize:"inherit !important"}},".__balance-change-container":{display:"none"},".__action-button-container":{paddingTop:0},".__button-space":{width:e.sizeXS}}})));var N=n(72779),Z=n.n(N),T=n(74711),I=n(75679),z=n(39359),R=n(35185),O=n(73557),B=n(60241);const H=()=>{const{t:e}=(0,h.Z)(),[t,n]=(0,w.useState)(!1),c=(0,O.s0)(),m=(0,w.useRef)(null),x=(0,w.useRef)(null),{accountBalance:{tokenGroupBalanceMap:f,totalBalanceInfo:b},tokenGroupStructure:{sortedTokenGroups:v}}=(0,w.useContext)(p.Q),_=(0,R.v9)((e=>e.accountState.currentAccount)),S=(0,O.bx)(),N=(0,R.v9)((e=>e.assetRegistry.assetRegistry)),H=(0,R.v9)((e=>e.assetRegistry.multiChainAssetMap));(0,w.useEffect)((()=>{(null==S?void 0:S.setSearchPlaceholder)&&S.setSearchPlaceholder("Token name")}),[S,null==S?void 0:S.setSearchPlaceholder]);const D=(0,d.Z)(),{accountSelectorItems:$,onOpenReceive:P,openSelectAccount:A,openSelectToken:E,selectedAccount:M,selectedNetwork:G,tokenSelectorItems:L}=(0,g.Z)(),{isWebUI:V}=(0,w.useContext)(u.sG),Y=(0,w.useCallback)((e=>{const t=e.currentTarget.scrollTop;n(t>80?e=>{if(!e&&x.current&&m.current){const e=m.current.getBoundingClientRect();x.current.style.position="fixed",x.current.style.top=`${Math.floor(e.top)}px`,x.current.style.left=`${e.left}px`,x.current.style.right=`${e.right}px`,x.current.style.width=`${e.width}px`,x.current.style.opacity="0",x.current.style.paddingTop="0",setTimeout((()=>{x.current&&(x.current.style.opacity="1",x.current.style.paddingTop="32px")}),100)}return!0}:e=>(e&&x.current&&(x.current.style.position="absolute",x.current.style.top="0",x.current.style.left="0",x.current.style.right="0",x.current.style.width="100%",x.current.style.opacity="0",x.current.style.paddingTop="0",setTimeout((()=>{x.current&&(x.current.style.opacity="1",x.current.style.paddingTop="32px")}),100)),!1))}),[]),F=(0,w.useCallback)((()=>{var e;if(((null===(e=m.current)||void 0===e?void 0:e.scrollTop)||0)>80){if(x.current&&m.current){const e=m.current.getBoundingClientRect();x.current.style.top=`${Math.floor(e.top)}px`,x.current.style.left=`${e.left}px`,x.current.style.right=`${e.right}px`,x.current.style.width=`${e.width}px`}}else x.current&&(x.current.style.top="0",x.current.style.left="0",x.current.style.right="0",x.current.style.width="100%")}),[]),K="decrease"===b.change.status,X=(0,w.useCallback)((e=>{c(`/home/tokens/detail/${e.slug}`)}),[c]),q=(0,w.useCallback)((()=>{c("/settings/tokens/manage")}),[c]),W=(0,w.useCallback)((()=>{_&&_.isReadOnly?D({message:e("The account you are using is watch-only, you cannot send assets with it"),type:"info",duration:3}):c("/transaction/send-fund")}),[_,c,D,e]),U=(0,w.useCallback)((()=>{c("/buy-tokens")}),[c]),J=(0,w.useMemo)((()=>{var e;const t=[],n=(null==S||null===(e=S.searchInput)||void 0===e?void 0:e.toLowerCase())||"";return v.forEach((e=>{if(f[e]){const n=f[e],o=H[n.slug]||N[n.slug];if(o){const e=o.name;t.push({...n,chainDisplayName:e})}else console.warn("Not found chain asset for token slug: ",n.slug),t.push({...n})}})),t.filter((e=>e.symbol.toLowerCase().includes(n)))}),[null==S?void 0:S.searchInput,v,f,H,N]);return(0,w.useEffect)((()=>(window.addEventListener("resize",F),()=>{window.removeEventListener("resize",F)})),[F]),V?(0,j.jsxs)("div",{className:"token-table",children:[J.length<=0?(0,j.jsx)(l.Z,{pageType:l.G.TOKEN}):(0,j.jsx)(B.Z,{columns:[{title:"Token name",dataIndex:"name",key:"name",render:(e,t)=>(0,j.jsx)(o.J9,{chain:t.chain,chainDisplayName:t.chainDisplayName||"",logoKey:t.logoKey,slug:t.slug,symbol:t.symbol})},{title:"Portfolio %",dataIndex:"percentage",key:"percentage",render:()=>(0,j.jsx)("p",{children:"85%"})},{title:"Price",dataIndex:"price",key:"price",render:(e,t)=>(0,j.jsx)(o.GI,{pastValue:t.price24hValue,priceChangeStatus:t.priceChangeStatus,value:t.priceValue})},{title:"Balance",dataIndex:"balance",key:"balance",render:(e,t)=>(0,j.jsx)(o.F5,{convertedValue:t.total.convertedValue,symbol:t.symbol,value:t.total.value})}],dataSource:J,onClick:X}),(0,j.jsx)(y.Z,{block:!0,icon:(0,j.jsx)(k.Z,{phosphorIcon:T.Z,size:"md"}),onClick:q,type:"ghost",children:e("Manage token list")})]}):(0,j.jsxs)("div",{className:"tokens-screen-container",onScroll:Y,ref:m,children:[(0,j.jsx)("div",{className:Z()("__upper-block-wrapper",{"-is-shrink":t,"-decrease":K}),ref:x,children:(0,j.jsx)(C,{isPriceDecrease:K,isShrink:t,onOpenBuyTokens:U,onOpenReceive:P,onOpenSendFund:W,totalChangePercent:b.change.percent,totalChangeValue:b.change.value,totalValue:b.convertedValue})}),(0,j.jsxs)("div",{className:"__scroll-container",children:[J.map((e=>(0,j.jsx)(r.b,{...e,onPressItem:()=>X(e)},e.slug))),!J.length&&(0,j.jsx)(o.rf,{className:"__empty-list",emptyMessage:e("Add tokens to get started."),emptyTitle:e("No tokens found"),phosphorIcon:I.Z}),(0,j.jsx)("div",{className:"__scroll-footer",children:(0,j.jsx)(y.Z,{icon:(0,j.jsx)(k.Z,{phosphorIcon:z.Z}),onClick:q,size:"xs",type:"ghost",children:e("Manage tokens")})})]}),(0,j.jsx)(a.C,{items:$,onSelectItem:A}),(0,j.jsx)(i.F,{address:M,items:L,onSelectItem:E}),(0,j.jsx)(s.Z,{address:M,selectedNetwork:G})]})},D=(0,S.ZP)((({className:e=""})=>{const t=(0,w.useContext)(c.R0);return(0,j.jsx)(o.FE,{className:`tokens ${e}`,resolve:t.awaitStores(["price","chainStore","assetRegistry","balance"]),children:(0,j.jsx)(H,{})})})).withConfig({displayName:"Tokens",componentId:"sc-xas0kf-0"})((({theme:{extendToken:e,token:t}})=>({overflow:"hidden","token-table":{".token-group-balance-item":{marginBottom:"0px !important"}},".__empty-list":{marginTop:t.marginSM,marginBottom:t.marginSM},".tokens-screen-container":{height:"100%",color:t.colorTextLight1,fontSize:t.fontSizeLG,position:"relative",display:"flex",flexDirection:"column",overflowY:"auto",overflowX:"hidden",paddingTop:210},".__scroll-container":{paddingLeft:t.size,paddingRight:t.size},".__upper-block-wrapper":{backgroundColor:t.colorBgDefault,position:"absolute",paddingTop:"32px",height:210,zIndex:10,top:0,left:0,width:"100%",display:"flex",alignItems:"center",backgroundImage:e.tokensScreenSuccessBackgroundColor,transition:"opacity, padding-top 0.27s ease","&.-is-shrink":{height:104},"&.-decrease":{backgroundImage:e.tokensScreenDangerBackgroundColor}},".tokens-upper-block":{flex:1},".__scroll-footer":{display:"flex",justifyContent:"center",marginBottom:t.size},".token-group-balance-item":{marginBottom:t.sizeXS},".__upper-block-wrapper.-is-shrink":{".__static-block":{display:"none"},".__scrolling-block":{display:"flex"}}})))},33624:(e,t,n)=>{n.d(t,{G:()=>x,Z:()=>y});var o=n(99656),a=n(99338),s=n(72779),i=n.n(s),l=n(82524),r=n(1780),c=n(86267),p=n(74711),u=n(95414),d=n(56899),h=n(69339),g=(n(2784),n(38338)),m=n(52322);let x;!function(e){e.NFT="nft",e.TOKEN="token",e.SEARCH="search",e.CROWDLOANS="crowdloans",e.HISTORY="history",e.STAKING="staking"}(x||(x={}));const f={[x.NFT]:{icon:l.Z,title:"No collectible found",content:"Your collectibles will appear here"},[x.TOKEN]:{icon:r.Z,title:"No token found",content:"Your token will appear here"},[x.SEARCH]:{icon:c.Z,title:"No results found",content:"Please change your search criteria and try again",button:{label:"Manage token list",icon:p.Z}},[x.CROWDLOANS]:{icon:u.Z,title:"You’ve not participated in any crowdloans",content:"Your crowdloans portfolio will appear here"},[x.HISTORY]:{icon:d.Z,title:"No transaction yet",content:"Your transaction history will appear here"},[x.STAKING]:{icon:h.Z,title:"No staking",content:"Your staking accounts will appear here"}},y=(0,g.ZP)((({className:e,pageType:t})=>{const{content:n,icon:s,title:l}=f[t];return(0,m.jsx)("div",{className:i()(e),children:(0,m.jsxs)("div",{className:i()("message-wrapper"),children:[(0,m.jsxs)("div",{className:"message-icon",children:[(0,m.jsx)(o.Z,{iconColor:"#737373",phosphorIcon:s,weight:"fill"}),(0,m.jsx)("div",{className:"shape"})]}),(0,m.jsxs)("div",{className:i()("flex-col","message-content"),children:[(0,m.jsx)(a.Z.Title,{className:"title",children:l}),n&&(0,m.jsx)(a.Z.Text,{className:"content",children:n})]})]})})})).withConfig({displayName:"NoContent",componentId:"sc-oeplvg-0"})((()=>({height:"100%",".message-wrapper":{height:"100%",flex:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"50px 0 40px",".message-icon":{display:"flex",justifyContent:"center",alignItems:"center",fontSize:60,height:"fit-content",width:"fit-content",padding:"28px",position:"relative",".shape":{opacity:.3,background:"#4D4D4D",borderRadius:"50%",position:"absolute",top:0,left:0,bottom:0,right:0}},".message-content":{marginTop:16,justifyContent:"center",alignItems:"center",display:"flex",flexDirection:"column","& > *":{margin:0},".title":{fontSize:16,lineHeight:"24px"},".content":{fontSize:14,lineHeight:"22px",color:"rgba(255, 255, 255, 0.45)"}}},".action-button":{opacity:.45}})))}}]);