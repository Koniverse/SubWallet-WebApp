"use strict";(("undefined"!=typeof self?self:this).webpackChunk_subwallet_web_runner=("undefined"!=typeof self?self:this).webpackChunk_subwallet_web_runner||[]).push([[5072],{5072:(e,t,n)=>{n.r(t),n.d(t,{default:()=>H});var s=n(3401),o=n(18488),a=n(68627),i=n(67145),r=n(3612),l=n(43246),c=n(70497),d=n(92936),p=n(48062),u=n(96701),h=n(33932),m=n(99656),g=n(12162),w=n(12798),f=n(95023),x=n(25356),S=n(92280),y=n(80039),j=n(72779),C=n.n(j),b=n(75720),v=n(31053),Z=n(28394),I=n(2784),P=n(35185),k=n(73557),A=n(38338),N=n(48118),W=n(52322),_=function(e){return e.PASSWORD="password",e.CONFIRM_PASSWORD="confirm_password",e}(_||{});const R=(0,W.jsx)(m.Z,{phosphorIcon:b.Z,weight:"fill"}),D=(0,h.tK)("Password"),O=(0,h._B)(_.PASSWORD),F="create-password-instruction-modal",H=(0,A.ZP)((({className:e})=>{const{t}=(0,l.Z)(),{activeModal:n,checkActive:h,inactiveModal:j}=(0,I.useContext)(g.t),{isWebUI:b}=(0,I.useContext)(r.sG),A=(0,k.s0)(),H=(0,k.TH)().state,{accounts:B}=(0,P.v9)((e=>e.accountState)),[M]=(0,I.useState)((0,p.MS)(B)),[T]=w.Z.useForm(),[z,E]=(0,I.useState)(!0),[V,Y]=(0,I.useState)(""),[$,G]=(0,I.useState)(!1),K=(0,I.useMemo)((()=>[{title:"Why do I need to enter a password?",description:"For your wallet protection, SubWallet locks your wallet after 15 minutes of inactivity. You will need this password to unlock it.",type:b?"warning":"info"},{title:"Can I recover a password?",description:"The password is stored securely on your device. We will not be able to recover it for you, so make sure you remember it!",type:b?"warning":"info"}]),[b]),L=(0,I.useCallback)((()=>{null!=H&&H.prevPathname?A(H.prevPathname,{state:H.prevState}):A(i.Y)}),[A,null==H?void 0:H.prevPathname,null==H?void 0:H.prevState]),U=(0,I.useCallback)((e=>{const t=e[_.PASSWORD];t&&(G(!0),(0,d.jS)({createNew:!0,newPassword:t}).then((e=>{null!=e&&e.status?L():Y(e.errors[0])})).catch((e=>{Y(e.message)})).finally((()=>{G(!1)})))}),[L]),X=(0,I.useCallback)(((e,t)=>{const{empty:n,error:s}=(0,u.ij)(t);Y(""),E(s||n)}),[]),q=(0,I.useCallback)((()=>{T.setFields([{name:_.CONFIRM_PASSWORD,value:"",errors:[]}])}),[T]),J=(0,I.useCallback)((()=>{n(F)}),[n]),Q=(0,I.useCallback)((()=>{j(F)}),[j]);return(0,I.useEffect)((()=>{M||n(a.hD)}),[n,M]),(0,c.Z)(T,_.PASSWORD,!h(a.hD)),(0,W.jsx)(s.FE,{className:C()(e),children:(0,W.jsx)(s.Ar.Base,{...b?{headerList:["Simple"]}:{rightFooterButton:{children:t("Continue"),onClick:T.submit,loading:$,disabled:z,icon:R},showBackButton:!0,subHeaderPaddingVertical:!0,showSubHeader:!0,subHeaderCenter:!0,subHeaderBackground:"transparent"},subHeaderIcons:[{icon:(0,W.jsx)(o.Z,{}),onClick:J}],title:t("Create a password"),children:(0,W.jsxs)("div",{className:C()("body-container",{"__web-ui":b}),children:[!b&&(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)("div",{className:"page-icon",children:(0,W.jsx)(f.Z,{color:"var(--page-icon-color)",iconProps:{weight:"fill",phosphorIcon:v.Z}})}),(0,W.jsx)("div",{className:"title",children:t("Create a password")})]}),(0,W.jsx)("div",{className:"form-container",children:(0,W.jsxs)(w.Z,{form:T,initialValues:{[_.PASSWORD]:"",[_.CONFIRM_PASSWORD]:""},name:"create-password-form",onFieldsChange:X,onFinish:U,children:[(0,W.jsx)(w.Z.Item,{name:_.PASSWORD,rules:D,statusHelpAsTooltip:!0,children:(0,W.jsx)(x.Z,{onChange:q,placeholder:t("Enter password"),type:"password"})}),(0,W.jsx)(w.Z.Item,{name:_.CONFIRM_PASSWORD,rules:O,statusHelpAsTooltip:!0,children:(0,W.jsx)(x.Z,{placeholder:t("Confirm password"),type:"password"})}),(0,W.jsx)(w.Z.Item,{children:(0,W.jsx)(s.e3,{description:t("Recommended security practice"),title:t("Always choose a strong password!"),type:"warning"})}),V&&(0,W.jsx)(w.Z.Item,{help:V,validateStatus:"error"}),b&&(0,W.jsx)(S.Z,{onClick:T.submit,loading:$,disabled:z,icon:R,children:t("Import Account")})]})}),(0,W.jsx)("div",{className:"instruction-container",children:b?(0,W.jsx)(N.Z,{contents:K}):(0,W.jsx)(y.ZP,{closeIcon:(0,W.jsx)(m.Z,{phosphorIcon:Z.Z,size:"sm"}),id:F,onCancel:Q,rightIconProps:{icon:(0,W.jsx)(o.Z,{})},title:t("Instructions"),wrapClassName:e,children:(0,W.jsx)(N.Z,{contents:K})})})]})})})})).withConfig({displayName:"CreatePassword",componentId:"sc-y8wcce-0"})((({theme:{token:e}})=>({".__web-ui":{display:"flex",justifyContent:"center",gap:16,"& > *":{flex:1},".form-container":{".ant-btn":{width:"100%"}}},".body-container":{padding:`0 ${e.padding}px`,textAlign:"center",maxWidth:768,margin:"0 auto",".page-icon":{display:"flex",justifyContent:"center",marginTop:e.margin,"--page-icon-color":e.colorSecondary},".title":{marginTop:e.margin,marginBottom:2*e.margin,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeHeading3,lineHeight:e.lineHeightHeading3,color:e.colorTextBase}},".instruction-container":{display:"flex",flexDirection:"column",gap:e.sizeXS}})))},48118:(e,t,n)=>{n.d(t,{Z:()=>c});var s=n(3401),o=n(72779),a=n.n(o),i=n(96217),r=n(38338),l=n(52322);const c=(0,r.ZP)((({className:e,contents:t})=>{const{t:n}=(0,i.$)();return t.length<=0?(0,l.jsx)(l.Fragment,{}):(0,l.jsx)("div",{className:a()("instruction-container",e),children:t.map(((e,t)=>(0,l.jsx)(s.e3,{title:n(e.title),description:"string"==typeof e.description?n(e.description):e.description,type:e.type||"warning"})))})})).withConfig({displayName:"InstructionContainer",componentId:"sc-1tjn6f7-0"})((({theme:{token:e}})=>({display:"flex",flexDirection:"column",gap:10})))}}]);