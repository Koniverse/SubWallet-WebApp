"use strict";(("undefined"!=typeof self?self:this).webpackChunk_subwallet_web_runner=("undefined"!=typeof self?self:this).webpackChunk_subwallet_web_runner||[]).push([[9786],{79786:(e,t,n)=>{n.r(t),n.d(t,{default:()=>O});var o=n(31101),s=n(18608),a=n(64483),l=n(41803),i=n(26754),r=n(66846),c=n(75576),u=n(57190),d=n(3612),p=n(33283),m=n(43246),g=n(80039),x=n(25690),h=n(72558),b=n(2784),k=n(38338),y=n(52322);const f=(0,k.ZP)((function({className:e="",currentTokenInfo:t,id:n,onCancel:o,tokenBalanceMap:s}){const{t:a}=(0,m.Z)(),l=(()=>{const e=(null==t?void 0:t.symbol)||"",n=t?s[t.slug]:void 0;return[{key:"transferable",symbol:e,label:a("Transferable"),value:n?n.free.value:new h.Z(0)},{key:"locked",symbol:e,label:a("Locked"),value:n?n.locked.value:new h.Z(0)}]})();return(0,y.jsx)(g.ZP,{className:e,id:n,onCancel:o,title:a("Token details"),children:(0,y.jsx)("div",{className:"__container",children:l.map((e=>(0,y.jsxs)("div",{className:"__row",children:[(0,y.jsx)("div",{className:"__label",children:e.label}),(0,y.jsx)(x.Z,{className:"__value",decimal:0,decimalOpacity:.45,intOpacity:.85,size:14,suffix:e.symbol,unitOpacity:.85,value:e.value})]},e.key)))})})})).withConfig({displayName:"DetailModal",componentId:"sc-6oss6y-0"})((({theme:{token:e}})=>({".__container":{borderRadius:e.borderRadiusLG,backgroundColor:e.colorBgSecondary,padding:"12px 12px 4px"},".__row":{display:"flex",justifyContent:"space-between",marginBottom:e.marginSM},".__label":{paddingRight:e.paddingSM}})));var v=n(71846),_=n(48062),w=n(92280),T=n(99656),S=n(28394),N=n(4762),j=n(62982),C=n(90766),R=n(35185);const E=(0,k.ZP)((function({balanceValue:e,className:t="",isShrink:n,onClickBack:o,onOpenBuyTokens:s,onOpenReceive:a,onOpenSendFund:l,symbol:i}){const{t:r}=(0,m.Z)(),c=(0,R.v9)((e=>e.accountState.accounts)),u=(0,R.v9)((e=>e.accountState.currentAccount)),d=(0,R.v9)((e=>e.accountState.isAllAccount)),p=(0,b.useMemo)((()=>{if(v.r[i]){const e=v.r[i].support;if(d){for(const t of c)if(e===(0,_.lx)(t.address))return!0}else if(null!=u&&u.address&&e===(0,_.lx)(null==u?void 0:u.address))return!0}return!1}),[c,null==u?void 0:u.address,d,i]);return(0,y.jsxs)("div",{className:`tokens-upper-block ${t} ${n?"-shrink":""}`,children:[(0,y.jsxs)("div",{className:"__top",children:[(0,y.jsx)(w.Z,{className:"__back-button",icon:(0,y.jsx)(T.Z,{customSize:"24px",phosphorIcon:S.Z}),onClick:o,size:"xs",type:"ghost"}),(0,y.jsxs)("div",{className:"__token-display",children:[r("Token"),": ",i]})]}),(0,y.jsxs)("div",{className:"__bottom",children:[(0,y.jsx)(x.Z,{className:"__balance-value",decimal:0,decimalOpacity:.45,prefix:"$",size:38,subFloatNumber:!0,value:e}),(0,y.jsxs)("div",{className:"__action-button-container",children:[(0,y.jsx)(w.Z,{icon:(0,y.jsx)(T.Z,{phosphorIcon:N.Z,size:n?"sm":"md",weight:"duotone"}),onClick:a,shape:"squircle",size:n?"xs":"sm"}),(0,y.jsx)("div",{className:"__button-space"}),(0,y.jsx)(w.Z,{icon:(0,y.jsx)(T.Z,{phosphorIcon:j.Z,size:n?"sm":"md",weight:"duotone"}),onClick:l,shape:"squircle",size:n?"xs":"sm"}),(0,y.jsx)("div",{className:"__button-space"}),(0,y.jsx)(w.Z,{disabled:!p,icon:(0,y.jsx)(T.Z,{phosphorIcon:C.Z,size:n?"sm":"md",weight:"duotone"}),onClick:s,shape:"squircle",size:n?"xs":"sm"})]})]})]})})).withConfig({displayName:"DetailUpperBlock",componentId:"sc-bgq49z-0"})((({theme:{token:e}})=>({padding:"0px 8px 24px 8px",display:"flex",flexDirection:"column",".__top":{display:"flex",marginBottom:16,alignItems:"center"},".__token-display":{textAlign:"center",flex:1,fontSize:e.fontSizeHeading4,lineHeight:e.lineHeightHeading4,marginRight:40},".ant-btn":{transition:"width, height, padding 0s"},".__back-button":{color:e.colorTextLight1,"&:hover":{color:e.colorTextLight3},"&:active":{color:e.colorTextLight4}},".__balance-value":{textAlign:"center",padding:"0px 8px",lineHeight:e.lineHeightHeading1,fontSize:e.fontSizeHeading1,whiteSpace:"nowrap",overflow:"hidden",".ant-typography":{lineHeight:"inherit"}},".__action-button-container":{display:"flex",justifyContent:"center",padding:"24px 8px 0 8px"},".__button-space":{width:e.size},"&.-shrink":{".__bottom":{display:"flex"},".__balance-value":{textAlign:"left",lineHeight:e.lineHeightHeading2,fontSize:e.fontSizeHeading2,flex:1,".ant-number-prefix, .ant-number-integer":{fontSize:"inherit !important"}},".__action-button-container":{paddingTop:0},".__button-space":{width:e.sizeXS}}})));var I=n(12162),z=n(72779),M=n.n(z),B=n(96217),Z=n(73557),A=n(60241);const H="tokenDetailModalId";function V(){const{slug:e}=(0,Z.UO)(),t=(0,Z.bx)(),n=(0,p.lm)(),{t:s}=(0,B.$)(),c=(0,Z.s0)(),{goHome:m}=(0,p.yu)(),{activeModal:g,inactiveModal:x}=(0,b.useContext)(I.t),{isWebUI:h}=(0,b.useContext)(d.sG),{accountBalance:{tokenBalanceMap:k,tokenGroupBalanceMap:v},tokenGroupStructure:{tokenGroupMap:_}}=(0,b.useContext)(u.Q),w=(0,p.v9)((e=>e.assetRegistry.assetRegistry)),T=(0,p.v9)((e=>e.assetRegistry.multiChainAssetMap)),S=(0,p.v9)((e=>e.accountState.currentAccount)),N=(0,b.useRef)(null),j=(0,b.useRef)(null),{accountSelectorItems:C,onOpenReceive:R,openSelectAccount:z,openSelectToken:V,selectedAccount:O,selectedNetwork:L,tokenSelectorItems:D}=(0,p.gV)(e);(0,p.qg)("/home/tokens");const $=(0,b.useMemo)((()=>{if(e){if(T[e])return T[e].symbol;if(w[e])return w[e].symbol}return""}),[e,w,T]),U=(0,b.useMemo)((()=>{if(e){if(v[e])return v[e].total.convertedValue;if(k[e])return k[e].total.convertedValue}return"0"}),[e,k,v]),G=(0,b.useMemo)((()=>{if(e){if(_[e]){const t=[];return _[e].forEach((e=>{k[e]&&t.push(k[e])})),t}if(k[e])return[k[e]]}return[]}),[e,_,k]),[F,K]=(0,b.useState)(void 0),[q,P]=(0,b.useState)(!1),X=(0,b.useCallback)((e=>{const t=e.currentTarget.scrollTop;P(t>60?e=>{if(!e&&j.current&&N.current){const e=N.current.getBoundingClientRect();j.current.style.position="fixed",j.current.style.opacity="0",j.current.style.paddingTop="0",j.current.style.top=`${e.top}px`,j.current.style.left=`${e.left}px`,j.current.style.right=`${e.right}px`,j.current.style.width=`${e.width}px`,setTimeout((()=>{j.current&&(j.current.style.paddingTop="8px",j.current.style.opacity="1")}),100)}return!0}:e=>(e&&j.current&&(j.current.style.position="absolute",j.current.style.top="0",j.current.style.left="0",j.current.style.right="0",j.current.style.width="100%",j.current.style.opacity="0",setTimeout((()=>{j.current&&(j.current.style.opacity="1")}),100)),!1))}),[]),J=(0,b.useCallback)((()=>{var e;if(((null===(e=N.current)||void 0===e?void 0:e.scrollTop)||0)>60){if(j.current&&N.current){const e=N.current.getBoundingClientRect();j.current.style.top=`${e.top}px`,j.current.style.left=`${e.left}px`,j.current.style.right=`${e.right}px`,j.current.style.width=`${e.width}px`}}else j.current&&(j.current.style.top="0",j.current.style.left="0",j.current.style.right="0",j.current.style.width="100%")}),[]),Q=(0,b.useCallback)((()=>{K(void 0)}),[]),W=(0,b.useCallback)((e=>{console.log("%c Rainbowww!","font-weight: bold; font-size: 50px;color: red; text-shadow: 3px 3px 0 rgb(217,31,38) , 6px 6px 0 rgb(226,91,14) , 9px 9px 0 rgb(245,221,8) , 12px 12px 0 rgb(5,148,68) , 15px 15px 0 rgb(2,135,206) , 18px 18px 0 rgb(4,77,145) , 21px 21px 0 rgb(42,21,113); margin-bottom: 12px; padding: 5%;"),console.log("item",e),K({slug:e.slug,symbol:e.symbol})}),[]),Y=(0,b.useCallback)((()=>{S&&S.isReadOnly?n({message:s("The account you are using is read-only, you cannot send assets with it"),type:"info",duration:3}):c("/transaction/send-fund",e?{state:{slug:e}}:void 0)}),[S,c,n,s,e]),ee=(0,b.useCallback)((()=>{c("/buy-tokens",{state:{symbol:$}})}),[c,$]);return(0,b.useEffect)((()=>{F?g(H):x(H)}),[g,F,x]),(0,b.useEffect)((()=>{P(!1)}),[e]),(0,b.useEffect)((()=>{G.length||m()}),[m,G.length]),(0,b.useEffect)((()=>(window.addEventListener("resize",J),()=>{window.removeEventListener("resize",J)})),[J]),(0,b.useEffect)((()=>{null==t||t.setDetailTitle((0,y.jsxs)("div",{className:"header-content",children:[s("Token"),": ",$]}))}),[$,t]),(0,y.jsxs)("div",{className:M()("token-detail-container",{"__web-ui":h}),onScroll:X,ref:N,children:[!h&&(0,y.jsx)("div",{className:M()("__upper-block-wrapper",{"-is-shrink":q}),ref:j,children:(0,y.jsx)(E,{balanceValue:U,className:"__static-block",isShrink:q,onClickBack:m,onOpenBuyTokens:ee,onOpenReceive:R,onOpenSendFund:Y,symbol:$})}),h?(0,y.jsx)(A.Z,{columns:[{title:"Token name",dataIndex:"name",key:"name",render:(e,t)=>(0,y.jsx)(o.J9,{logoKey:t.logoKey,symbol:t.symbol,chainDisplayName:t.chainDisplayName||"",chain:t.chain,slug:t.slug})},{title:"Transferable",dataIndex:"percentage",key:"percentage",render:(e,t)=>(0,y.jsx)(o.F5,{value:t.free.value,convertedValue:t.free.convertedValue,symbol:t.symbol})},{title:"Locked",dataIndex:"price",key:"price",render:(e,t)=>(0,y.jsx)(o.F5,{value:t.locked.value,convertedValue:t.locked.convertedValue,symbol:t.symbol})},{title:"Balance",dataIndex:"balance",key:"balance",render:(e,t)=>(0,y.jsx)(o.F5,{value:t.total.value,convertedValue:t.total.convertedValue,symbol:t.symbol})}],dataSource:G,onClick:W}):(0,y.jsx)("div",{className:"__scroll-container",children:G.map((e=>(0,y.jsx)(r.H,{...e,onClick:()=>W(e)},e.slug)))}),(0,y.jsx)(f,{currentTokenInfo:F,id:H,onCancel:Q,tokenBalanceMap:k}),(0,y.jsx)(a.C,{items:C,onSelectItem:z}),(0,y.jsx)(i.F,{address:O,items:D,onSelectItem:V}),(0,y.jsx)(l.Z,{address:O,selectedNetwork:L})]})}const O=(0,k.ZP)((function({className:e=""}){const t=(0,b.useContext)(c.R0);return(0,y.jsx)(s.Z,{className:`tokens ${e}`,resolve:t.awaitStores(["price","chainStore","assetRegistry","balance"]),children:(0,y.jsx)(V,{})})})).withConfig({displayName:"DetailList__Tokens",componentId:"sc-9cj0x6-0"})((({theme:{extendToken:e,token:t}})=>({overflow:"hidden",".token-detail-container":{height:"100%",overflow:"auto",color:t.colorTextLight1,fontSize:t.fontSizeLG,position:"relative",display:"flex",flexDirection:"column","&.__web-ui":{padding:0}},".__scroll-container":{flex:1,paddingLeft:t.size,paddingRight:t.size},".__upper-block-wrapper":{position:"absolute",backgroundColor:t.colorBgDefault,zIndex:10,height:206,paddingTop:8,top:0,left:0,right:0,display:"flex",alignItems:"center",backgroundImage:e.tokensScreenInfoBackgroundColor,transition:"opacity, padding-top 0.27s ease","&.-is-shrink":{height:128}},".tokens-upper-block":{flex:1},".__scrolling-block":{display:"none"},".token-balance-detail-item":{marginBottom:t.sizeXS}})))},60241:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(63220),s=n(52322);const a=({columns:e,dataSource:t,onClick:n})=>(0,s.jsx)(o.Z,{rowKey:e=>e.slug,dataSource:t,columns:e,pagination:!1,onRow:(e,t)=>({onClick:()=>{n&&n(e)}})})},71846:(e,t,n)=>{n.d(t,{V:()=>s,r:()=>o});const o={DOT:{transakNetwork:"mainnet",chain:"polkadot",slug:"polkadot-NATIVE-DOT",symbol:"DOT",support:"SUBSTRATE"},KSM:{transakNetwork:"mainnet",chain:"kusama",slug:"kusama-NATIVE-KSM",symbol:"KSM",support:"SUBSTRATE"},ASTR:{transakNetwork:"astar",chain:"astar",slug:"astar-NATIVE-ASTR",symbol:"ASTR",support:"SUBSTRATE"},GLMR:{transakNetwork:"mainnet",chain:"moonbeam",slug:"moonbeam-NATIVE-GLMR",symbol:"GLMR",support:"ETHEREUM"},MOVR:{transakNetwork:"moonriver",chain:"moonriver",slug:"moonriver-NATIVE-MOVR",symbol:"MOVR",support:"ETHEREUM"},ETH:{transakNetwork:"ethereum",chain:"ethereum",slug:"ethereum-NATIVE-ETH",symbol:"ETH",support:"ETHEREUM"},BNB:{transakNetwork:"bsc",chain:"binance",slug:"binance-NATIVE-BNB",symbol:"BNB",support:"ETHEREUM"}},s=Object.fromEntries(Object.values(o).map((e=>[e.slug,e])))}}]);