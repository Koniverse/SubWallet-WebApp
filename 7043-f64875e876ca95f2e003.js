"use strict";(("undefined"!=typeof self?self:this).webpackChunk_subwallet_web_runner=("undefined"!=typeof self?self:this).webpackChunk_subwallet_web_runner||[]).push([[7043],{17043:(e,n,t)=>{t.r(n),t.d(n,{default:()=>F});var o=t(56858),r=t(53334),i=t(75576),s=t(33283),l=t(92936),a=t(95798),c=t(12798),d=t(88976),u=t(96562),m=t(92280),f=t(99656),h=t(72779),k=t.n(h),p=t(58584),x=t(2784),g=t(96217),w=t(73557),j=t(38338),y=t(61162),b=t(68774),L=t(52274),E=t(94684),I=t(55446),C=t(52322);const _={collectionId:"unknown",chain:"unknown"},v={collectionId:"unknown",chain:"unknown",owner:"unknown",id:"unknown"},W=({nftDetail:e=v,modalContent:n=!1})=>{const{t}=(0,g.$)(),i=(0,w.s0)(),{chain:h="",collectionId:j,itemId:W,owner:F=""}=(0,w.UO)(),{chainInfoMap:Z}=(0,s.v9)((e=>e.chainStore)),{nftCollections:N,nftItems:M}=(0,s.v9)((e=>e.nft)),[S,A]=(0,x.useState)(!0),T=(0,x.useMemo)((()=>n?{nftChain:e.chain,collectionId:e.collectionId,itemId:e.id,owner:e.owner}:{nftChain:h,collectionId:j,itemId:W,owner:F}),[j,W,h,M,F,n,e]),P=(0,x.useMemo)((()=>{const{nftChain:e,collectionId:n,itemId:t,owner:r}=T;return M.find((i=>(0,o.Wr)(i.owner,r)&&e===i.chain&&i.collectionId===n&&i.id===t))||v}),[T]),R=(0,x.useMemo)((()=>{const{nftChain:e,collectionId:n}=T;return N.find((t=>e===t.chain&&t.collectionId===n))||_}),[T,N]),D=(0,x.useMemo)((()=>Z[h]),[Z,h]),B=(0,s.xo)(h),{chain:O,from:H,onDone:K,setChain:U,setFrom:V}=(0,x.useContext)(I.TransactionContext);console.log("%c Rainbowww!","font-weight: bold; font-size: 50px;color: red; text-shadow: 3px 3px 0 rgb(217,31,38) , 6px 6px 0 rgb(226,91,14) , 9px 9px 0 rgb(245,221,8) , 12px 12px 0 rgb(5,148,68) , 15px 15px 0 rgb(2,135,206) , 18px 18px 0 rgb(4,77,145) , 21px 21px 0 rgb(42,21,113); margin-bottom: 12px; padding: 5%;"),console.log("==>>",{chain:O,from:H,onDone:K,setChain:U,setFrom:V});const{onError:X,onSuccess:q}=(0,s.Ls)(K),[z]=c.Z.useForm(),G=(0,x.useMemo)((()=>({from:H,chain:O,to:""})),[O,H]),[J,Y]=(0,x.useState)(!0),[$,Q]=(0,x.useState)(!1),ee=(0,x.useCallback)((({getFieldValue:e})=>({validator:(e,n)=>{if(!n)return Promise.reject(t("The recipient address is required"));if(!(0,y.U)(n))return Promise.reject(t("Invalid recipient address"));if((0,o.Wr)(n,H))return Promise.reject(t("The recipient address can not be the same as the sender address"));if((0,b.u)(n)!==(0,b.u)(H)){const e=(0,b.u)(H)?t("Receive address must be of evm account."):t("Receive address must be of substrate account.");return Promise.reject(e)}return Promise.resolve()}})),[t,H]),ne=(0,x.useCallback)(((e,n)=>{const{error:t}=(0,a.ij)(n);Y(t)}),[]),te=(0,x.useCallback)((e=>{const n=(0,b.u)(H),{to:t}=e,o=(0,L.bO)(P,O);let r;r=n?(0,l.Y5)({senderAddress:H,networkKey:O,recipientAddress:t,nftItemName:null==P?void 0:P.name,params:o,nftItem:P}):(0,l.GW)({networkKey:O,recipientAddress:t,senderAddress:H,nftItemName:null==P?void 0:P.name,params:o,nftItem:P}),Q(!0),setTimeout((()=>{r.then(q).catch(X).finally((()=>{Q(!1)}))}),300)}),[O,H,P,X,q]),oe=(0,s.Ey)(H);return(0,x.useEffect)((()=>{U(h),V(F)}),[h,F,U,V]),(0,x.useEffect)((()=>{P!==v&&R!==_||i("/home/nfts/collections")}),[R,i,P]),(0,s.uy)(z,"to"),(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(E.tc,{className:k()("-transaction-content"),children:[(0,C.jsxs)("div",{className:k()("nft_item_detail text-center",{"__modal-ui":n}),children:[(0,C.jsx)(d.Z,{height:n?180:120,src:P.image}),(0,C.jsx)(u.Z.Title,{level:5,children:P.name})]}),(0,C.jsxs)(c.Z,{className:k()("form-container form-space-sm",{"__modal-ui":n}),form:z,initialValues:G,onFieldsChange:ne,onFinish:te,children:[(0,C.jsx)(c.Z.Item,{name:"to",rules:[ee],statusHelpAsTooltip:!0,children:(0,C.jsx)(r.Jg,{addressPrefix:B,label:t("Send to account"),showAddressBook:!0,showScanner:!0})}),(0,C.jsx)(c.Z.Item,{children:(0,C.jsx)(r.oT,{disabled:!0,items:D?[{name:D.name,slug:D.slug}]:[],label:t("Network"),value:R.chain})})]}),(0,C.jsx)(E.ZL,{address:H,chain:O,onBalanceReady:A})]}),(0,C.jsx)(E.Xd,{className:k()("send-nft-transaction-footer",{"__modal-ui":n}),errors:[],warnings:[],children:(0,C.jsx)(m.Z,{disabled:J||!S,icon:(0,C.jsx)(f.Z,{phosphorIcon:p.Z,weight:"fill"}),loading:$,onClick:oe(z.submit),children:t("Next")})})]})},F=(0,j.ZP)((e=>{const{className:n}=e,t=(0,x.useContext)(i.R0);return(0,C.jsx)(r.FE,{className:n,resolve:t.awaitStores(["nft"]),children:(0,C.jsx)(W,{nftDetail:e.nftDetail,modalContent:e.modalContent})})})).withConfig({displayName:"SendNFT",componentId:"sc-13wb87a-0"})((({theme:{token:e}})=>({flex:1,display:"flex",flexDirection:"column",overflow:"hidden",".nft_item_detail h5":{marginTop:e.marginXS,marginBottom:e.margin},".__modal-ui":{"&.form-container":{display:"flex",flexDirection:"column-reverse"},"&.send-nft-transaction-footer":{"& > .ant-btn":{width:"100%"}},"&.nft_item_detail":{img:{aspectRatio:"1"}}}})))},58584:(e,n,t)=>{t.d(n,{Z:()=>c});var o=t(2784),r=t(21890),i=t(76712),s=new Map;s.set("bold",(function(e){return o.createElement(o.Fragment,null,o.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),o.createElement("polyline",{points:"134.1 161.9 168 128 134.1 94.1",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),o.createElement("line",{x1:"88",y1:"128",x2:"168",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))})),s.set("duotone",(function(e){return o.createElement(o.Fragment,null,o.createElement("circle",{cx:"128",cy:"128",r:"96",opacity:"0.2"}),o.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeMiterlimit:"10",strokeWidth:"16"}),o.createElement("polyline",{points:"134.1 161.9 168 128 134.1 94.1",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),o.createElement("line",{x1:"88",y1:"128",x2:"168",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))})),s.set("fill",(function(){return o.createElement(o.Fragment,null,o.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.2,104.2,0,0,0,128,24Zm47.4,107.1a8.7,8.7,0,0,1-1.8,2.6l-33.9,33.9a7.6,7.6,0,0,1-5.6,2.3,7.8,7.8,0,0,1-5.7-2.3,8,8,0,0,1,0-11.3L148.7,136H88a8,8,0,0,1,0-16h60.7L128.4,99.7a8,8,0,0,1,11.3-11.3l33.9,33.9a8.7,8.7,0,0,1,1.8,2.6A8.3,8.3,0,0,1,175.4,131.1Z"}))})),s.set("light",(function(e){return o.createElement(o.Fragment,null,o.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),o.createElement("polyline",{points:"134.1 161.9 168 128 134.1 94.1",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),o.createElement("line",{x1:"88",y1:"128",x2:"168",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))})),s.set("thin",(function(e){return o.createElement(o.Fragment,null,o.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),o.createElement("polyline",{points:"134.1 161.9 168 128 134.1 94.1",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),o.createElement("line",{x1:"88",y1:"128",x2:"168",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))})),s.set("regular",(function(e){return o.createElement(o.Fragment,null,o.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeMiterlimit:"10",strokeWidth:"16"}),o.createElement("polyline",{points:"134.1 161.9 168 128 134.1 94.1",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),o.createElement("line",{x1:"88",y1:"128",x2:"168",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}));var l=function(e,n){return(0,r._)(e,n,s)},a=(0,o.forwardRef)((function(e,n){return o.createElement(i.Z,Object.assign({ref:n},e,{renderPath:l}))}));a.displayName="ArrowCircleRight";const c=a}}]);