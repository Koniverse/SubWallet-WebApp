"use strict";(("undefined"!=typeof self?self:this).webpackChunk_subwallet_web_runner=("undefined"!=typeof self?self:this).webpackChunk_subwallet_web_runner||[]).push([[5072],{5072:(e,t,s)=>{s.r(t),s.d(t,{default:()=>H});var n=s(31101),o=s(18488),a=s(68627),i=s(67145),r=s(3612),l=s(43246),c=s(70497),d=s(92936),p=s(48062),u=s(96701),h=s(33932),m=s(99656),w=s(12162),g=s(12798),f=s(95023),x=s(25356),S=s(92280),y=s(80039),j=s(72779),C=s.n(j),b=s(75720),v=s(31053),Z=s(28394),I=s(2784),P=s(35185),k=s(73557),W=s(38338),A=s(48118),N=s(52322),_=function(e){return e.PASSWORD="password",e.CONFIRM_PASSWORD="confirm_password",e}(_||{});const R=(0,N.jsx)(m.Z,{phosphorIcon:b.Z,weight:"fill"}),D=(0,h.tK)("Password"),O=(0,h._B)(_.PASSWORD),F="create-password-instruction-modal",H=(0,W.ZP)((({className:e})=>{const{t}=(0,l.Z)(),{activeModal:s,checkActive:h,inactiveModal:j}=(0,I.useContext)(w.t),{isWebUI:b}=(0,I.useContext)(r.sG),W=(0,k.s0)(),H=(0,k.TH)().state,{accounts:B}=(0,P.v9)((e=>e.accountState)),[M]=(0,I.useState)((0,p.MS)(B)),[T]=g.Z.useForm(),[z,E]=(0,I.useState)(!0),[V,Y]=(0,I.useState)(""),[$,G]=(0,I.useState)(!1),K=(0,I.useMemo)((()=>[{title:"Why do I need to enter a password?",description:"For your wallet protection, SubWallet locks your wallet after 15 minutes of inactivity. You will need this password to unlock it.",type:b?"warning":"info"},{title:"Can I recover a password?",description:"The password is stored securely on your device. We will not be able to recover it for you, so make sure you remember it!",type:b?"warning":"info"}]),[b]),L=(0,I.useCallback)((()=>{null!=H&&H.prevPathname?W(H.prevPathname,{state:H.prevState}):W(i.Y)}),[W,null==H?void 0:H.prevPathname,null==H?void 0:H.prevState]),U=(0,I.useCallback)((e=>{const t=e[_.PASSWORD];t&&(G(!0),(0,d.jS)({createNew:!0,newPassword:t}).then((e=>{null!=e&&e.status?L():Y(e.errors[0])})).catch((e=>{Y(e.message)})).finally((()=>{G(!1)})))}),[L]),X=(0,I.useCallback)(((e,t)=>{const{empty:s,error:n}=(0,u.ij)(t);Y(""),E(n||s)}),[]),q=(0,I.useCallback)((()=>{T.setFields([{name:_.CONFIRM_PASSWORD,value:"",errors:[]}])}),[T]),J=(0,I.useCallback)((()=>{s(F)}),[s]),Q=(0,I.useCallback)((()=>{j(F)}),[j]);return(0,I.useEffect)((()=>{M||s(a.hD)}),[s,M]),(0,c.Z)(T,_.PASSWORD,!h(a.hD)),(0,N.jsx)(n.FE,{className:C()(e),children:(0,N.jsx)(n.Ar.Base,{...b?{headerList:["Simple"],showWebHeader:!0}:{rightFooterButton:{children:t("Continue"),onClick:T.submit,loading:$,disabled:z,icon:R},showBackButton:!0,subHeaderPaddingVertical:!0,showSubHeader:!0,subHeaderCenter:!0,subHeaderBackground:"transparent"},subHeaderIcons:[{icon:(0,N.jsx)(o.Z,{}),onClick:J}],title:t("Create a password"),children:(0,N.jsxs)("div",{className:C()("body-container",{"__web-ui":b}),children:[!b&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("div",{className:"page-icon",children:(0,N.jsx)(f.Z,{color:"var(--page-icon-color)",iconProps:{weight:"fill",phosphorIcon:v.Z}})}),(0,N.jsx)("div",{className:"title",children:t("Create a password")})]}),(0,N.jsx)("div",{className:"form-container",children:(0,N.jsxs)(g.Z,{form:T,initialValues:{[_.PASSWORD]:"",[_.CONFIRM_PASSWORD]:""},name:"create-password-form",onFieldsChange:X,onFinish:U,children:[(0,N.jsx)(g.Z.Item,{name:_.PASSWORD,rules:D,statusHelpAsTooltip:!0,children:(0,N.jsx)(x.Z,{onChange:q,placeholder:t("Enter password"),type:"password"})}),(0,N.jsx)(g.Z.Item,{name:_.CONFIRM_PASSWORD,rules:O,statusHelpAsTooltip:!0,children:(0,N.jsx)(x.Z,{placeholder:t("Confirm password"),type:"password"})}),(0,N.jsx)(g.Z.Item,{children:(0,N.jsx)(n.e3,{description:t("Recommended security practice"),title:t("Always choose a strong password!"),type:"warning"})}),V&&(0,N.jsx)(g.Z.Item,{help:V,validateStatus:"error"}),b&&(0,N.jsx)(S.Z,{onClick:T.submit,loading:$,disabled:z,icon:R,children:t("Import Account")})]})}),(0,N.jsx)("div",{className:"instruction-container",children:b?(0,N.jsx)(A.Z,{contents:K}):(0,N.jsx)(y.ZP,{closeIcon:(0,N.jsx)(m.Z,{phosphorIcon:Z.Z,size:"sm"}),id:F,onCancel:Q,rightIconProps:{icon:(0,N.jsx)(o.Z,{})},title:t("Instructions"),wrapClassName:e,children:(0,N.jsx)(A.Z,{contents:K})})})]})})})})).withConfig({displayName:"CreatePassword",componentId:"sc-y8wcce-0"})((({theme:{token:e}})=>({".__web-ui":{display:"flex",justifyContent:"center",gap:16,"& > *":{flex:1},".form-container":{".ant-btn":{width:"100%"}}},".body-container":{padding:`0 ${e.padding}px`,textAlign:"center",maxWidth:768,margin:"0 auto",".page-icon":{display:"flex",justifyContent:"center",marginTop:e.margin,"--page-icon-color":e.colorSecondary},".title":{marginTop:e.margin,marginBottom:2*e.margin,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeHeading3,lineHeight:e.lineHeightHeading3,color:e.colorTextBase}},".instruction-container":{display:"flex",flexDirection:"column",gap:e.sizeXS}})))},48118:(e,t,s)=>{s.d(t,{Z:()=>c});var n=s(31101),o=s(72779),a=s.n(o),i=s(96217),r=s(38338),l=s(52322);const c=(0,r.ZP)((({className:e,contents:t})=>{const{t:s}=(0,i.$)();return t.length<=0?(0,l.jsx)(l.Fragment,{}):(0,l.jsx)("div",{className:a()("instruction-container",e),children:t.map(((e,t)=>(0,l.jsx)(n.e3,{title:s(e.title),description:"string"==typeof e.description?s(e.description):e.description,type:e.type||"warning"})))})})).withConfig({displayName:"InstructionContainer",componentId:"sc-1tjn6f7-0"})((({theme:{token:e}})=>({display:"flex",flexDirection:"column",gap:10})))}}]);