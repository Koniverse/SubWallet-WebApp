"use strict";(("undefined"!=typeof self?self:this).webpackChunk_subwallet_web_runner=("undefined"!=typeof self?self:this).webpackChunk_subwallet_web_runner||[]).push([[9786],{79786:(e,t,n)=>{n.r(t),n.d(t,{default:()=>A});var o=n(25601),r=n(41477),i=n(64483),s=n(17774),l=n(26754),a=n(66846),c=n(75576),u=n(57190),d=n(3612),p=n(33283),k=n(43246),m=n(80039),f=n(25690),h=n(72558),y=n(2784),x=n(38338),g=n(52322);const b=(0,x.ZP)((function({className:e="",currentTokenInfo:t,id:n,onCancel:o,tokenBalanceMap:r}){const{t:i}=(0,k.Z)(),s=(()=>{const e=(null==t?void 0:t.symbol)||"",n=t?r[t.slug]:void 0;return[{key:"transferable",symbol:e,label:i("Transferable"),value:n?n.free.value:new h.Z(0)},{key:"locked",symbol:e,label:i("Locked"),value:n?n.locked.value:new h.Z(0)}]})();return(0,g.jsx)(m.ZP,{className:e,id:n,onCancel:o,title:i("Token details"),children:(0,g.jsx)("div",{className:"__container",children:s.map((e=>(0,g.jsxs)("div",{className:"__row",children:[(0,g.jsx)("div",{className:"__label",children:e.label}),(0,g.jsx)(f.Z,{className:"__value",decimal:0,decimalOpacity:.45,intOpacity:.85,size:14,suffix:e.symbol,unitOpacity:.85,value:e.value})]},e.key)))})})})).withConfig({displayName:"DetailModal",componentId:"sc-6oss6y-0"})((({theme:{token:e}})=>({".__container":{borderRadius:e.borderRadiusLG,backgroundColor:e.colorBgSecondary,padding:"12px 12px 4px"},".__row":{display:"flex",justifyContent:"space-between",marginBottom:e.marginSM},".__label":{paddingRight:e.paddingSM}})));var v=n(71846),_=n(48062),j=n(92280),w=n(99656),L=n(28394),S=n(4762),C=n(62982),E=n(90766),N=n(35185);const Z=(0,x.ZP)((function({balanceValue:e,className:t="",isShrink:n,onClickBack:o,onOpenBuyTokens:r,onOpenReceive:i,onOpenSendFund:s,symbol:l}){const{t:a}=(0,k.Z)(),c=(0,N.v9)((e=>e.accountState.accounts)),u=(0,N.v9)((e=>e.accountState.currentAccount)),d=(0,N.v9)((e=>e.accountState.isAllAccount)),p=(0,y.useMemo)((()=>{if(v.r[l]){const e=v.r[l].support;if(d){for(const t of c)if(e===(0,_.lx)(t.address))return!0}else if(null!=u&&u.address&&e===(0,_.lx)(null==u?void 0:u.address))return!0}return!1}),[c,null==u?void 0:u.address,d,l]);return(0,g.jsxs)("div",{className:`tokens-upper-block ${t} ${n?"-shrink":""}`,children:[(0,g.jsxs)("div",{className:"__top",children:[(0,g.jsx)(j.Z,{className:"__back-button",icon:(0,g.jsx)(w.Z,{customSize:"24px",phosphorIcon:L.Z}),onClick:o,size:"xs",type:"ghost"}),(0,g.jsxs)("div",{className:"__token-display",children:[a("Token"),": ",l]})]}),(0,g.jsxs)("div",{className:"__bottom",children:[(0,g.jsx)(f.Z,{className:"__balance-value",decimal:0,decimalOpacity:.45,prefix:"$",size:38,subFloatNumber:!0,value:e}),(0,g.jsxs)("div",{className:"__action-button-container",children:[(0,g.jsx)(j.Z,{icon:(0,g.jsx)(w.Z,{phosphorIcon:S.Z,size:n?"sm":"md",weight:"duotone"}),onClick:i,shape:"squircle",size:n?"xs":"sm",tooltip:a("Get address")}),(0,g.jsx)("div",{className:"__button-space"}),(0,g.jsx)(j.Z,{icon:(0,g.jsx)(w.Z,{phosphorIcon:C.Z,size:n?"sm":"md",weight:"duotone"}),onClick:s,shape:"squircle",size:n?"xs":"sm",tooltip:a("Send tokens")}),(0,g.jsx)("div",{className:"__button-space"}),(0,g.jsx)(j.Z,{disabled:!p,icon:(0,g.jsx)(w.Z,{phosphorIcon:E.Z,size:n?"sm":"md",weight:"duotone"}),onClick:r,shape:"squircle",size:n?"xs":"sm",tooltip:a("Buy token")})]})]})]})})).withConfig({displayName:"DetailUpperBlock",componentId:"sc-bgq49z-0"})((({theme:{token:e}})=>({padding:"0px 8px 24px 8px",display:"flex",flexDirection:"column",".__top":{display:"flex",marginBottom:16,alignItems:"center"},".__token-display":{textAlign:"center",flex:1,fontSize:e.fontSizeHeading4,lineHeight:e.lineHeightHeading4,marginRight:40},".ant-btn":{transition:"width, height, padding 0s"},".__back-button":{color:e.colorTextLight1,"&:hover":{color:e.colorTextLight3},"&:active":{color:e.colorTextLight4}},".__balance-value":{textAlign:"center",padding:"0px 8px",lineHeight:e.lineHeightHeading1,fontSize:e.fontSizeHeading1,whiteSpace:"nowrap",overflow:"hidden",".ant-typography":{lineHeight:"inherit"}},".__action-button-container":{display:"flex",justifyContent:"center",padding:"24px 8px 0 8px"},".__button-space":{width:e.size},"&.-shrink":{".__bottom":{display:"flex"},".__balance-value":{textAlign:"left",lineHeight:e.lineHeightHeading2,fontSize:e.fontSizeHeading2,flex:1,".ant-number-prefix, .ant-number-integer":{fontSize:"inherit !important"}},".__action-button-container":{paddingTop:0},".__button-space":{width:e.sizeXS}}})));var T=n(12162),z=n(72779),I=n.n(z),M=n(21427),B=n(73557),R=n(60241);const H="tokenDetailModalId";function W(){const{slug:e}=(0,B.UO)(),t=(0,B.bx)(),n=(0,p.lm)(),{t:r}=(0,M.$)(),c=(0,B.s0)(),{goHome:k}=(0,p.yu)(),{activeModal:m,inactiveModal:f}=(0,y.useContext)(T.t),{isWebUI:h}=(0,y.useContext)(d.sG),{accountBalance:{tokenBalanceMap:x,tokenGroupBalanceMap:v},tokenGroupStructure:{tokenGroupMap:_}}=(0,y.useContext)(u.Q),j=(0,p.v9)((e=>e.assetRegistry.assetRegistry)),w=(0,p.v9)((e=>e.assetRegistry.multiChainAssetMap)),L=(0,p.v9)((e=>e.accountState.currentAccount)),S=(0,y.useRef)(null),C=(0,y.useRef)(null),{accountSelectorItems:E,onOpenReceive:N,openSelectAccount:z,openSelectToken:W,selectedAccount:A,selectedNetwork:F,tokenSelectorItems:O}=(0,p.gV)(e);(0,p.qg)("/home/tokens");const $=(0,y.useMemo)((()=>{if(e){if(w[e])return w[e].symbol;if(j[e])return j[e].symbol}return""}),[e,j,w]),V=(0,y.useMemo)((()=>{if(e){if(v[e])return v[e].total.convertedValue;if(x[e])return x[e].total.convertedValue}return"0"}),[e,x,v]),D=(0,y.useMemo)((()=>{if(e){if(_[e]){const t=[];return _[e].forEach((e=>{x[e]&&t.push(x[e])})),t}if(x[e])return[x[e]]}return[]}),[e,_,x]),[G,q]=(0,y.useState)(void 0),[P,K]=(0,y.useState)(!1),U=(0,y.useCallback)((e=>{const t=e.currentTarget.scrollTop;K(t>60?e=>{if(!e&&C.current&&S.current){const e=S.current.getBoundingClientRect();C.current.style.position="fixed",C.current.style.opacity="0",C.current.style.paddingTop="0",C.current.style.top=`${Math.floor(e.top)}px`,C.current.style.left=`${e.left}px`,C.current.style.right=`${e.right}px`,C.current.style.width=`${e.width}px`,setTimeout((()=>{C.current&&(C.current.style.paddingTop="8px",C.current.style.opacity="1")}),100)}return!0}:e=>(e&&C.current&&(C.current.style.position="absolute",C.current.style.top="0",C.current.style.left="0",C.current.style.right="0",C.current.style.width="100%",C.current.style.opacity="0",setTimeout((()=>{C.current&&(C.current.style.opacity="1")}),100)),!1))}),[]),X=(0,y.useCallback)((()=>{var e;if(((null===(e=S.current)||void 0===e?void 0:e.scrollTop)||0)>60){if(C.current&&S.current){const e=S.current.getBoundingClientRect();C.current.style.top=`${Math.floor(e.top)}px`,C.current.style.left=`${e.left}px`,C.current.style.right=`${e.right}px`,C.current.style.width=`${e.width}px`}}else C.current&&(C.current.style.top="0",C.current.style.left="0",C.current.style.right="0",C.current.style.width="100%")}),[]),J=(0,y.useCallback)((()=>{q(void 0)}),[]),Q=(0,y.useCallback)((e=>{q({slug:e.slug,symbol:e.symbol})}),[]),Y=(0,y.useCallback)((()=>{L&&L.isReadOnly?n({message:r("The account you are using is watch-only, you cannot send assets with it"),type:"info",duration:3}):c("/transaction/send-fund",e?{state:{slug:e}}:void 0)}),[L,c,n,r,e]),ee=(0,y.useCallback)((()=>{c("/buy-tokens",{state:{symbol:$}})}),[c,$]);return(0,y.useEffect)((()=>{G?m(H):f(H)}),[m,G,f]),(0,y.useEffect)((()=>{K(!1)}),[e]),(0,y.useEffect)((()=>{D.length||k()}),[k,D.length]),(0,y.useEffect)((()=>(window.addEventListener("resize",X),()=>{window.removeEventListener("resize",X)})),[X]),(0,y.useEffect)((()=>{null==t||t.setDetailTitle((0,g.jsxs)("div",{className:"header-content",children:[r("Token"),": ",$]}))}),[$]),(0,g.jsxs)("div",{className:I()("token-detail-container",{"__web-ui":h}),onScroll:U,ref:S,children:[!h&&(0,g.jsx)("div",{className:I()("__upper-block-wrapper",{"-is-shrink":P}),ref:C,children:(0,g.jsx)(Z,{balanceValue:V,className:"__static-block",isShrink:P,onClickBack:k,onOpenBuyTokens:ee,onOpenReceive:N,onOpenSendFund:Y,symbol:$})}),h?(0,g.jsx)(R.Z,{columns:[{title:"Token name",dataIndex:"name",key:"name",render:(e,t)=>(0,g.jsx)(o.J9,{chain:t.chain,chainDisplayName:t.chainDisplayName||"",logoKey:t.logoKey,slug:t.slug,symbol:t.symbol})},{title:"Transferable",dataIndex:"percentage",key:"percentage",render:(e,t)=>(0,g.jsx)(o.F5,{convertedValue:t.free.convertedValue,symbol:t.symbol,value:t.free.value})},{title:"Locked",dataIndex:"price",key:"price",render:(e,t)=>(0,g.jsx)(o.F5,{convertedValue:t.locked.convertedValue,symbol:t.symbol,value:t.locked.value})},{title:"Balance",dataIndex:"balance",key:"balance",render:(e,t)=>(0,g.jsx)(o.F5,{convertedValue:t.total.convertedValue,symbol:t.symbol,value:t.total.value})}],dataSource:D,onClick:Q}):(0,g.jsx)("div",{className:"__scroll-container",children:D.map((e=>(0,g.jsx)(a.H,{...e,onClick:()=>Q(e)},e.slug)))}),(0,g.jsx)(b,{currentTokenInfo:G,id:H,onCancel:J,tokenBalanceMap:x}),(0,g.jsx)(i.C,{items:E,onSelectItem:z}),(0,g.jsx)(l.F,{address:A,items:O,onSelectItem:W}),(0,g.jsx)(s.Z,{address:A,selectedNetwork:F})]})}const A=(0,x.ZP)((function({className:e=""}){const t=(0,y.useContext)(c.R0);return(0,g.jsx)(r.Z,{className:`tokens ${e}`,resolve:t.awaitStores(["price","chainStore","assetRegistry","balance"]),children:(0,g.jsx)(W,{})})})).withConfig({displayName:"DetailList__Tokens",componentId:"sc-9cj0x6-0"})((({theme:{extendToken:e,token:t}})=>({overflow:"hidden",".token-detail-container":{height:"100%",overflow:"auto",color:t.colorTextLight1,fontSize:t.fontSizeLG,position:"relative",display:"flex",flexDirection:"column",paddingTop:210,"&.__web-ui":{padding:0}},".__scroll-container":{flex:1,paddingLeft:t.size,paddingRight:t.size},".__upper-block-wrapper":{position:"absolute",backgroundColor:t.colorBgDefault,zIndex:10,height:206,paddingTop:8,top:0,left:0,right:0,display:"flex",alignItems:"center",backgroundImage:e.tokensScreenInfoBackgroundColor,transition:"opacity, padding-top 0.27s ease","&.-is-shrink":{height:128}},".tokens-upper-block":{flex:1},".__scrolling-block":{display:"none"},".token-balance-detail-item":{marginBottom:t.sizeXS}})))},60241:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(6302),r=(n(2784),n(52322));const i=({columns:e,dataSource:t,onClick:n})=>(0,r.jsx)(o.Z,{columns:e,dataSource:t,onRow:e=>({onClick:()=>{n&&n(e)}}),pagination:!1,rowKey:e=>e.slug})},4762:(e,t,n)=>{n.d(t,{Z:()=>c});var o=n(2784),r=n(21890),i=n(76712),s=new Map;s.set("bold",(function(e){return o.createElement(o.Fragment,null,o.createElement("polygon",{points:"32 136 128 232 224 136 176 136 176 116 80 116 80 136 32 136",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),o.createElement("line",{x1:"176",y1:"44",x2:"80",y2:"44",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),o.createElement("line",{x1:"176",y1:"80",x2:"80",y2:"80",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))})),s.set("duotone",(function(e){return o.createElement(o.Fragment,null,o.createElement("polygon",{points:"32 136 128 232 224 136 176 136 176 104 80 104 80 136 32 136",opacity:"0.2"}),o.createElement("polygon",{points:"32 136 128 232 224 136 176 136 176 104 80 104 80 136 32 136",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),o.createElement("line",{x1:"176",y1:"40",x2:"80",y2:"40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),o.createElement("line",{x1:"176",y1:"72",x2:"80",y2:"72",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))})),s.set("fill",(function(){return o.createElement(o.Fragment,null,o.createElement("path",{d:"M229.7,141.7l-96,96a8.1,8.1,0,0,1-11.4,0l-96-96a8.4,8.4,0,0,1-1.7-8.8A8,8,0,0,1,32,128H72V104a8,8,0,0,1,8-8h96a8,8,0,0,1,8,8v24h40a8,8,0,0,1,7.4,4.9A8.4,8.4,0,0,1,229.7,141.7ZM184,40a8,8,0,0,0-8-8H80a8,8,0,0,0,0,16h96A8,8,0,0,0,184,40Zm0,32a8,8,0,0,0-8-8H80a8,8,0,0,0,0,16h96A8,8,0,0,0,184,72Z"}))})),s.set("light",(function(e){return o.createElement(o.Fragment,null,o.createElement("polygon",{points:"32 136 128 232 224 136 176 136 176 104 80 104 80 136 32 136",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),o.createElement("line",{x1:"176",y1:"40",x2:"80",y2:"40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),o.createElement("line",{x1:"176",y1:"72",x2:"80",y2:"72",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))})),s.set("thin",(function(e){return o.createElement(o.Fragment,null,o.createElement("polygon",{points:"32 136 128 232 224 136 176 136 176 104 80 104 80 136 32 136",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),o.createElement("line",{x1:"176",y1:"40",x2:"80",y2:"40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),o.createElement("line",{x1:"176",y1:"72",x2:"80",y2:"72",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))})),s.set("regular",(function(e){return o.createElement(o.Fragment,null,o.createElement("polygon",{points:"32 136 128 232 224 136 176 136 176 104 80 104 80 136 32 136",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),o.createElement("line",{x1:"176",y1:"40",x2:"80",y2:"40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),o.createElement("line",{x1:"176",y1:"72",x2:"80",y2:"72",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}));var l=function(e,t){return(0,r._)(e,t,s)},a=(0,o.forwardRef)((function(e,t){return o.createElement(i.Z,Object.assign({ref:t},e,{renderPath:l}))}));a.displayName="ArrowFatLinesDown";const c=a}}]);