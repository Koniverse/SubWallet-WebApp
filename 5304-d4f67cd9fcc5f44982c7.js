"use strict";(("undefined"!=typeof self?self:this).webpackChunk_subwallet_web_runner=("undefined"!=typeof self?self:this).webpackChunk_subwallet_web_runner||[]).push([[5304,7043],{15304:(e,n,t)=>{t.r(n),t.d(n,{default:()=>R});var i=t(6723),o=t(25601),r=t(75576),l=t(3612),a=t(33283),s=t(99828),c=t(43246),d=t(47088),m=t(71871),f=t(51952),_=t(95798),u=t(48685),h=t(99656),p=t(12162),x=t(66611),g=t(19138),k=t(92280),w=t(19201),j=t(80039),b=t(58094),v=t(74704),y=t(14546),C=t(72779),I=t.n(C),L=t(28394),S=t(78166),N=t(62982),Z=t(2784),E=t(35185),W=t(73557),T=t(38338),F=t(68774),H=t(55446),z=t(17043),D=t(52322);const B="transfer-nft-modal",P=(0,D.jsx)(h.Z,{customSize:"24px",phosphorIcon:L.Z,type:"phosphor",weight:"light"}),R=(0,T.ZP)((function({className:e=""}){var n;const t=(0,W.TH)(),{collectionInfo:C,nftItem:L}=t.state,R=(0,W.bx)(),{isWebUI:M}=(0,Z.useContext)(l.sG),{t:A}=(0,c.Z)(),G=(0,s.Z)(),U=(0,W.s0)(),{goBack:X}=(0,d.Z)(),{token:$}=(0,T.Fg)(),O=(0,Z.useContext)(r.R0),{activeModal:Y,inactiveModal:V}=(0,Z.useContext)(p.t),q=(0,E.v9)((e=>e.accountState.accounts)),J=(0,m.Z)(L.chain),K=(0,f.Z)(L.owner||""),Q=(0,i.E)(J,L.owner,"account");(0,a.qg)("/home/nfts/collections");const ee=(0,Z.useCallback)((()=>{if(L&&L.owner){const e=(0,u.Z)(L.owner,42),n=q.find((n=>n.address===e));if(null!=n&&n.isReadOnly)return void G({message:A("The NFT owner is a watch-only account, you cannot send the NFT with it"),type:"info",duration:3})}M?Y(B):U(`/transaction/send-nft/${L.owner}/${L.chain}/${L.collectionId}/${L.id}`)}),[q,U,L,M,Y,G,A]),ne=[{children:A("Send"),onClick:ee}],te=(0,Z.useCallback)((()=>{if(L.owner){var e;const n=(0,F.u)(L.owner)?"ethereum":"polkadot";return(0,D.jsx)(v.Z,{identPrefix:null===(e=J.substrateInfo)||void 0===e?void 0:e.addressPrefix,size:$.fontSizeXL,theme:n,value:L.owner})}return(0,D.jsx)("div",{})}),[L.owner,null===(n=J.substrateInfo)||void 0===n?void 0:n.addressPrefix,$.fontSizeXL]),ie=(0,Z.useCallback)((()=>(0,D.jsx)(x.Z,{network:J.slug,shape:"circle",size:$.fontSizeXL})),[J.slug,$.fontSizeXL]),oe=(0,Z.useCallback)((()=>(0,D.jsxs)("span",{children:[(0,D.jsx)("span",{children:null==K?void 0:K.name})," ",(0,D.jsxs)("span",{className:"nft_item_detail__owner_address",children:["(",`${null==L?void 0:L.owner.slice(0,4)}...${null==L?void 0:L.owner.slice(-4)}`,")"]})]})),[null==L?void 0:L.owner,null==K?void 0:K.name]),re=(0,Z.useCallback)((()=>{try{Q?(0,_.YQ)(Q)():console.log("error redirecting to a new tab")}catch(e){console.log("error redirecting to a new tab")}}),[Q]),le=(0,Z.useCallback)((()=>{try{L.externalUrl?(0,_.YQ)(L.externalUrl)():console.log("error redirecting to a new tab")}catch(e){console.log("error redirecting to a new tab")}}),[L.externalUrl]),ae=(0,Z.useCallback)((e=>(0,D.jsx)("div",{className:"nft_item_detail__external_icon",onClick:"account"===e?re:le,children:(0,D.jsx)(h.Z,{customSize:"20px",phosphorIcon:S.Z,type:"phosphor",weight:"light"})})),[re,le]),se=(0,Z.useCallback)((()=>{null!=L&&L.description&&L.description.length>70&&Y("nftItemDescription")}),[Y,L.description]),ce=(0,Z.useCallback)((()=>{V("nftItemDescription")}),[V]),de=(0,Z.useCallback)((()=>{L.externalUrl&&chrome.tabs.create({url:L.externalUrl,active:!0}).then((()=>console.log("redirecting"))).catch(console.error)}),[L.externalUrl]);(0,Z.useEffect)((()=>{null==R||R.setDetailTitle(L.name||L.id)}),[L,R]);const me=(0,Z.useCallback)((()=>V(B)),[V]);return(0,D.jsx)(o.FE,{className:`${e}`,resolve:O.awaitStores(["nft","accountState","chainStore"]),children:(0,D.jsxs)(o.Ar.Base,{...!M&&{onBack:X,showBackButton:!0,showSubHeader:!0,subHeaderBackground:"transparent",subHeaderCenter:!1,subHeaderIcons:ne,subHeaderPaddingVertical:!0,title:L.name||L.id},children:[(0,D.jsxs)("div",{className:I()("nft_item_detail__container",{"__web-ui":M}),children:[(0,D.jsxs)("div",{className:"nft_item_detail__nft_image",children:[(0,D.jsx)(g.Z,{className:I()({clickable:L.externalUrl}),height:358,onClick:de,src:L.image}),M&&(0,D.jsx)(k.Z,{block:!0,icon:(0,D.jsx)(h.Z,{phosphorIcon:N.Z,type:"phosphor",weight:"fill"}),onClick:ee,children:(0,D.jsx)("span",{className:"nft_item_detail__send_text",children:"Send"})})]}),(0,D.jsxs)("div",{className:"nft_item_detail_field_container",children:[(0,D.jsxs)("div",{className:"nft_item_detail__info_container",children:[!M&&(0,D.jsx)("div",{className:"nft_item_detail__section_title",children:A("NFT information")}),L.description&&(0,D.jsxs)("div",{className:"nft_item_detail__description_container",onClick:se,style:{cursor:L.description.length>70?"pointer":"auto"},children:[(0,D.jsx)("div",{className:"nft_item_detail__description_content",children:L.description.length>70?`${L.description.slice(0,70)}...`:L.description}),(0,D.jsxs)("div",{className:"nft_item_detail__description_title",children:[(0,D.jsx)(h.Z,{iconColor:$.colorIcon,phosphorIcon:S.Z,type:"phosphor",weight:"fill"}),(0,D.jsx)("div",{children:A("Description")})]})]}),(0,D.jsxs)("div",{className:"nft_item_detail__info_field_container",children:[(0,D.jsx)(w.Z,{content:C.collectionName||C.collectionId,label:A("NFT collection name"),suffix:L.externalUrl&&ae("collection")}),(0,D.jsx)(w.Z,{content:oe(),label:A("Owned by"),prefix:L.owner&&te(),suffix:ae("account")}),M&&(0,D.jsx)(w.Z,{content:"created by...",label:A("Created By"),prefix:L.owner&&te(),suffix:ae("account")}),(0,D.jsx)(w.Z,{content:J.name,label:A("Chain"),prefix:ie()})]})]}),L.properties&&L.properties.length>0&&(0,D.jsxs)("div",{className:"nft_item_detail__prop_section",children:[(0,D.jsx)("div",{className:"nft_item_detail__section_title",children:A("Properties")}),(0,D.jsx)("div",{className:"nft_item_detail__atts_container",children:Object.entries(L.properties).map((([e,n],t)=>{const{value:i}=n;return(0,D.jsx)(w.Z,{content:i.toString(),label:e,width:"fit-content"},t)}))})]})]}),!M&&(0,D.jsx)(k.Z,{block:!0,icon:(0,D.jsx)(h.Z,{phosphorIcon:N.Z,type:"phosphor",weight:"fill"}),onClick:ee,children:(0,D.jsx)("span",{className:"nft_item_detail__send_text",children:"Send"})})]}),(0,D.jsx)(o.P0,{id:B,onCancel:me,title:A("Transfer"),children:(0,D.jsx)(H.default,{modalContent:!0,children:(0,D.jsx)(z.default,{modalContent:!0,nftDetail:L})})}),(0,D.jsx)(j.ZP,{className:I()("nft_item_detail__description_modal"),closeIcon:P,id:"nftItemDescription",onCancel:ce,title:A("Description"),wrapClassName:e,children:(0,D.jsxs)("div",{className:"nft_item_detail__description_modal_content",children:[(0,D.jsx)("div",{className:"nft_item_detail__description_modal_left_icon",children:(0,D.jsx)(b.Z,{backgroundColor:(0,y.If)($.colorLink,.1),iconColor:$.colorLink,phosphorIcon:S.Z,size:"lg",type:"phosphor",weight:"fill"})}),(0,D.jsxs)("div",{className:"nft_item_detail_description_modal_container",children:[(0,D.jsx)("div",{className:"nft_item_detail__description_modal_title",children:L.name||L.id}),(0,D.jsx)("div",{className:"nft_item_detail__description_modal_detail",children:(0,D.jsx)("pre",{children:L.description})})]})]})})]})})})).withConfig({displayName:"NftItemDetail",componentId:"sc-1ffl3tk-0"})((({theme:{token:e}})=>({".nft_item_detail__container":{marginTop:e.marginSM,paddingRight:e.margin,paddingLeft:e.margin,paddingBottom:e.margin,".nft_item_detail__info_field_container":{gap:8,display:"flex",flexDirection:"column"},"&.__web-ui":{display:"flex",gap:16,paddingRight:0,".nft_item_detail__nft_image":{gap:16,flex:0,display:"flex",flexDirection:"column",justifyContent:"stretch",maxWidth:358,img:{aspectRatio:"1",objectFit:"cover"}},".nft_item_detail_field_container":{flex:1,".nft_item_detail__info_container":{margin:0,marginBottom:16,".nft_item_detail__info_field_container":{gap:8,display:"flex",flexWrap:"wrap",flexDirection:"row",".ant-field-container":{flex:"0 1",minWidth:"calc(50% - 4px)"}}}}}},".clickable":{cursor:"pointer"},".nft_item_detail__info_container":{display:"flex",flexDirection:"column",gap:e.marginXS,marginTop:e.margin,marginBottom:e.margin},".nft_item_detail__atts_container":{marginTop:e.margin,display:"flex",flexWrap:"wrap",gap:e.marginXS,overflow:"hidden"},".ant-field-container":{overflow:"hidden"},".nft_item_detail__section_title":{fontSize:e.fontSizeLG,color:e.colorTextHeading,lineHeight:e.lineHeightLG},".nft_item_detail__send_text":{fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG,color:e.colorTextLight1},".nft_item_detail__prop_section":{marginBottom:e.margin},".nft_item_detail__owner_address":{color:e.colorTextDescription},".nft_item_detail__external_icon":{cursor:"pointer"},".nft_item_detail__description_container":{padding:e.paddingSM,backgroundColor:e.colorBgSecondary,borderRadius:e.borderRadiusLG},".nft_item_detail__description_content":{color:e.colorTextDescription,fontSize:e.fontSize,fontWeight:e.bodyFontWeight,lineHeight:e.lineHeight,wordBreak:"break-all"},".nft_item_detail__description_title":{marginTop:e.margin,display:"flex",alignItems:"center",gap:e.marginXXS,color:e.colorTextLabel,fontSize:e.fontSize,fontWeight:e.headingFontWeight,lineHeight:e.lineHeight},".nft_item_detail__description_modal_content":{display:"flex",gap:e.marginXS,padding:e.paddingSM,backgroundColor:e.colorBgSecondary,borderRadius:e.borderRadiusLG},".nft_item_detail__description_modal_left_icon":{display:"flex",alignItems:"center"},".nft_item_detail__description_modal_title":{textAlign:"left",fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG,fontWeight:e.bodyFontWeight,color:e.colorTextLight1,wordBreak:"break-all"},".nft_item_detail__description_modal_detail":{textAlign:"justify",fontWeight:e.bodyFontWeight,fontSize:e.fontSizeHeading6,color:e.colorTextTertiary,wordBreak:"break-word"},".nft_item_detail__nft_image":{display:"flex",justifyContent:"center",width:"100%"}})))},17043:(e,n,t)=>{t.r(n),t.d(n,{default:()=>E});var i,o=t(56858),r=t(25601),l=t(75576),a=t(33283),s=t(92936),c=t(95798),d=t(12798),m=t(19138),f=t(99338),_=t(92280),u=t(99656),h=t(72779),p=t.n(h),x=t(58584),g=t(2784),k=t(21427),w=t(73557),j=t(38338),b=t(61162),v=t(68774),y=t(52274),C=t(94684),I=t(55446),L=t(52322);!function(e){e.TO="to"}(i||(i={}));const S={collectionId:"unknown",chain:"unknown"},N={collectionId:"unknown",chain:"unknown",owner:"unknown",id:"unknown"},Z=({modalContent:e=!1,nftDetail:n=N})=>{var t,i;const{t:l}=(0,k.$)(),h=(0,w.s0)(),{chain:j="",collectionId:Z,itemId:E,owner:W=""}=(0,w.UO)(),{chainInfoMap:T}=(0,a.v9)((e=>e.chainStore)),{nftCollections:F,nftItems:H}=(0,a.v9)((e=>e.nft)),{accounts:z}=(0,a.v9)((e=>e.accountState)),[D,B]=(0,g.useState)(!0),P=(0,g.useMemo)((()=>e?{nftChain:n.chain,collectionId:n.collectionId,itemId:n.id,owner:n.owner}:{nftChain:j,collectionId:Z,itemId:E,owner:W}),[Z,E,j,W,e,n]),R=(0,g.useMemo)((()=>{const{collectionId:e,itemId:n,nftChain:t,owner:i}=P;return H.find((r=>(0,o.Wr)(r.owner,i)&&t===r.chain&&r.collectionId===e&&r.id===n))||N}),[P,H]),M=(0,g.useMemo)((()=>{const{collectionId:e,nftChain:n}=P;return F.find((t=>n===t.chain&&t.collectionId===e))||S}),[P,F]),A=(0,g.useMemo)((()=>T[P.nftChain]),[T,P]),G=(0,a.xo)(P.nftChain),U=(null===(t=T[P.nftChain])||void 0===t||null===(i=t.substrateInfo)||void 0===i?void 0:i.genesisHash)||"",{chain:X,from:$,onDone:O,setChain:Y,setFrom:V}=(0,g.useContext)(I.TransactionContext),{onError:q,onSuccess:J}=(0,a.Ls)(O),[K]=d.Z.useForm(),Q=(0,g.useMemo)((()=>({from:$,chain:X,to:""})),[X,$]),[ee,ne]=(0,g.useState)(!0),[te,ie]=(0,g.useState)(!1),oe=(0,g.useCallback)((({getFieldValue:e})=>({validator:(e,n)=>{if(!n)return Promise.reject(l("The recipient address is required"));if(!(0,b.U)(n))return Promise.reject(l("Invalid recipient address"));if((0,o.Wr)(n,$))return Promise.reject(l("The recipient address can not be the same as the sender address"));if((0,v.u)(n)!==(0,v.u)($)){const e=(0,v.u)($)?l("Receive address must be of evm account."):l("Receive address must be of substrate account.");return Promise.reject(e)}const t=(0,c.Jd)(z,n);if(t&&t.isHardware){var i;const e=T[X];if(t.originGenesisHash!==(null==e||null===(i=e.substrateInfo)||void 0===i?void 0:i.genesisHash)){const n=(null==e?void 0:e.name)||"Unknown";return Promise.reject(l("Wrong network. Your Ledger account is not supported by {{network}}. Please choose another receiving account and try again.",{replace:{network:n}}))}}return Promise.resolve()}})),[$,z,l,T,X]),re=(0,g.useCallback)(((e,n)=>{const{error:t}=(0,c.ij)(n);ne(t)}),[]),le=(0,g.useCallback)((e=>{const n=(0,v.u)($),{to:t}=e,i=(0,y.bO)(R,X);let o;o=n?(0,s.Y5)({senderAddress:$,networkKey:X,recipientAddress:t,nftItemName:null==R?void 0:R.name,params:i,nftItem:R}):(0,s.GW)({networkKey:X,recipientAddress:t,senderAddress:$,nftItemName:null==R?void 0:R.name,params:i,nftItem:R}),ie(!0),setTimeout((()=>{o.then(J).catch(q).finally((()=>{ie(!1)}))}),300)}),[X,$,R,q,J]),ae=(0,a.Ey)($);return(0,g.useEffect)((()=>{Y(P.nftChain),V(P.owner)}),[P,Y,V]),(0,g.useEffect)((()=>{R!==N&&M!==S||h("/home/nfts/collections")}),[M,h,R]),(0,a.uy)(K,"to"),(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)(C.tc,{className:p()("-transaction-content",{"__web-content":e}),children:[(0,L.jsxs)("div",{className:p()("nft_item_detail text-center",{"__modal-ui":e}),children:[(0,L.jsx)(m.Z,{height:e?180:120,src:R.image}),(0,L.jsx)(f.Z.Title,{level:5,children:R.name})]}),(0,L.jsxs)(d.Z,{className:p()("form-container form-space-sm",{"__modal-ui":e}),form:K,initialValues:Q,onFieldsChange:re,onFinish:le,children:[(0,L.jsx)(d.Z.Item,{name:"to",rules:[oe],statusHelpAsTooltip:!0,children:(0,L.jsx)(r.Jg,{addressPrefix:G,label:l("Send to"),networkGenesisHash:U,placeholder:l("Account address"),saveAddress:!0,showAddressBook:!0,showScanner:!0})}),(0,L.jsx)(d.Z.Item,{children:(0,L.jsx)(r.oT,{disabled:!0,items:A?[{name:A.name,slug:A.slug}]:[],label:l("Network"),value:M.chain})})]}),(0,L.jsx)(C.ZL,{address:$,chain:X,label:l("Sender transferable balance")+":",onBalanceReady:B})]}),(0,L.jsx)(C.Xd,{className:p()("send-nft-transaction-footer",{"__modal-ui":e}),errors:[],warnings:[],children:(0,L.jsx)(_.Z,{disabled:ee||!D,icon:(0,L.jsx)(u.Z,{phosphorIcon:x.Z,weight:"fill"}),loading:te,onClick:ae(K.submit),children:l("Next")})})]})},E=(0,j.ZP)((e=>{const{className:n}=e,t=(0,g.useContext)(l.R0);return(0,L.jsx)(r.FE,{className:n,resolve:t.awaitStores(["nft"]),children:(0,L.jsx)(Z,{modalContent:e.modalContent,nftDetail:e.nftDetail})})})).withConfig({displayName:"SendNFT",componentId:"sc-13wb87a-0"})((({theme:{token:e}})=>({flex:1,display:"flex",flexDirection:"column",overflow:"hidden",".__web-content":{padding:0},".nft_item_detail h5":{marginTop:e.marginXS,marginBottom:e.margin},".__modal-ui":{padding:0,"&.transaction-footer":{margin:0,".ant-btn":{margin:"32px 0 0"}},"&.form-container":{display:"flex",flexDirection:"column-reverse"},"&.send-nft-transaction-footer":{"& > .ant-btn":{width:"100%"}},"&.nft_item_detail":{img:{aspectRatio:"1"}}}})))},58584:(e,n,t)=>{t.d(n,{Z:()=>c});var i=t(2784),o=t(21890),r=t(76712),l=new Map;l.set("bold",(function(e){return i.createElement(i.Fragment,null,i.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),i.createElement("polyline",{points:"134.1 161.9 168 128 134.1 94.1",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),i.createElement("line",{x1:"88",y1:"128",x2:"168",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))})),l.set("duotone",(function(e){return i.createElement(i.Fragment,null,i.createElement("circle",{cx:"128",cy:"128",r:"96",opacity:"0.2"}),i.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeMiterlimit:"10",strokeWidth:"16"}),i.createElement("polyline",{points:"134.1 161.9 168 128 134.1 94.1",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),i.createElement("line",{x1:"88",y1:"128",x2:"168",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))})),l.set("fill",(function(){return i.createElement(i.Fragment,null,i.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.2,104.2,0,0,0,128,24Zm47.4,107.1a8.7,8.7,0,0,1-1.8,2.6l-33.9,33.9a7.6,7.6,0,0,1-5.6,2.3,7.8,7.8,0,0,1-5.7-2.3,8,8,0,0,1,0-11.3L148.7,136H88a8,8,0,0,1,0-16h60.7L128.4,99.7a8,8,0,0,1,11.3-11.3l33.9,33.9a8.7,8.7,0,0,1,1.8,2.6A8.3,8.3,0,0,1,175.4,131.1Z"}))})),l.set("light",(function(e){return i.createElement(i.Fragment,null,i.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),i.createElement("polyline",{points:"134.1 161.9 168 128 134.1 94.1",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),i.createElement("line",{x1:"88",y1:"128",x2:"168",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))})),l.set("thin",(function(e){return i.createElement(i.Fragment,null,i.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),i.createElement("polyline",{points:"134.1 161.9 168 128 134.1 94.1",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),i.createElement("line",{x1:"88",y1:"128",x2:"168",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))})),l.set("regular",(function(e){return i.createElement(i.Fragment,null,i.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeMiterlimit:"10",strokeWidth:"16"}),i.createElement("polyline",{points:"134.1 161.9 168 128 134.1 94.1",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),i.createElement("line",{x1:"88",y1:"128",x2:"168",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}));var a=function(e,n){return(0,o._)(e,n,l)},s=(0,i.forwardRef)((function(e,n){return i.createElement(r.Z,Object.assign({ref:n},e,{renderPath:a}))}));s.displayName="ArrowCircleRight";const c=s}}]);