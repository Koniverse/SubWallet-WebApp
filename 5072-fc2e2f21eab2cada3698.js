"use strict";(("undefined"!=typeof self?self:this).webpackChunk_subwallet_web_runner=("undefined"!=typeof self?self:this).webpackChunk_subwallet_web_runner||[]).push([[5072],{5072:(e,t,s)=>{s.r(t),s.d(t,{default:()=>R});var n,a=s(25601),o=s(18488),i=s(68627),r=s(67145),c=s(3612),l=s(43246),d=s(70497),p=s(92936),u=s(48062),m=s(96701),h=s(33932),g=s(99656),w=s(12162),f=s(12798),x=s(95023),S=s(25356),b=s(92280),j=s(80039),y=s(72779),C=s.n(y),v=s(75720),Z=s(93452),I=s(28394),P=s(2784),k=s(35185),W=s(73557),A=s(38338),N=s(48118),_=s(52322);!function(e){e.PASSWORD="password",e.CONFIRM_PASSWORD="confirm_password"}(n||(n={}));const D=(0,_.jsx)(g.Z,{phosphorIcon:v.Z,weight:"fill"}),O="create-password-instruction-modal",R=(0,A.ZP)((({className:e})=>{const{t}=(0,l.Z)(),{activeModal:s,checkActive:y,inactiveModal:v}=(0,P.useContext)(w.t),{isWebUI:A}=(0,P.useContext)(c.sG),R=(0,W.s0)(),F=(0,W.TH)().state,{accounts:H}=(0,k.v9)((e=>e.accountState)),[M]=(0,P.useState)((0,u.MS)(H)),B=(0,P.useMemo)((()=>(0,h.tK)(t("Password"),t)),[t]),T=(0,P.useMemo)((()=>(0,h._B)(n.PASSWORD,t)),[t]),[z]=f.Z.useForm(),[E,U]=(0,P.useState)(!0),[V,Y]=(0,P.useState)(""),[$,G]=(0,P.useState)(!1),K=(0,P.useMemo)((()=>[{title:"Why do I need to enter a password?",description:"For your wallet protection, SubWallet locks your wallet after 15 minutes of inactivity. You will need this password to unlock it.",type:A?"warning":"info"},{title:"Can I recover a password?",description:"The password is stored securely on your device. We will not be able to recover it for you, so make sure you remember it!",type:A?"warning":"info"}]),[A]),L=(0,P.useCallback)((()=>{null!=F&&F.prevPathname?R(F.prevPathname,{state:F.prevState}):R(r.Y)}),[R,null==F?void 0:F.prevPathname,null==F?void 0:F.prevState]),X=(0,P.useCallback)((e=>{const t=e[n.PASSWORD];t&&(G(!0),(0,p.jS)({createNew:!0,newPassword:t}).then((e=>{null!=e&&e.status?L():Y(e.errors[0])})).catch((e=>{Y(e.message)})).finally((()=>{G(!1)})))}),[L]),q=(0,P.useCallback)(((e,t)=>{const{empty:s,error:n}=(0,m.ij)(t);Y(""),U(n||s)}),[]),J=(0,P.useCallback)((()=>{z.resetFields([n.CONFIRM_PASSWORD])}),[z]),Q=(0,P.useCallback)((()=>{s(O)}),[s]),ee=(0,P.useCallback)((()=>{v(O)}),[v]);return(0,P.useEffect)((()=>{M||s(i.hD)}),[s,M]),(0,d.Z)(z,n.PASSWORD,!y(i.hD)),(0,_.jsx)(a.FE,{className:C()(e),children:(0,_.jsx)(a.Ar.Base,{...A?{headerList:["Simple"],showWebHeader:!0}:{rightFooterButton:{children:t("Continue"),onClick:z.submit,loading:$,disabled:E,icon:D},showBackButton:!0,subHeaderPaddingVertical:!0,showSubHeader:!0,subHeaderCenter:!0,subHeaderBackground:"transparent"},subHeaderIcons:[{icon:(0,_.jsx)(o.Z,{}),onClick:Q}],title:t("Create a password"),children:(0,_.jsxs)("div",{className:C()("body-container",{"__web-ui":A}),children:[!A&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("div",{className:"page-icon",children:(0,_.jsx)(x.Z,{color:"var(--page-icon-color)",iconProps:{weight:"fill",phosphorIcon:Z.Z}})}),(0,_.jsx)("div",{className:"title",children:t("Create a password")})]}),(0,_.jsx)("div",{className:"form-container",children:(0,_.jsxs)(f.Z,{form:z,initialValues:{[n.PASSWORD]:"",[n.CONFIRM_PASSWORD]:""},name:"create-password-form",onFieldsChange:q,onFinish:X,children:[(0,_.jsx)(f.Z.Item,{name:n.PASSWORD,rules:B,statusHelpAsTooltip:!0,children:(0,_.jsx)(S.Z,{onChange:J,placeholder:t("Enter password"),type:"password"})}),(0,_.jsx)(f.Z.Item,{name:n.CONFIRM_PASSWORD,rules:T,statusHelpAsTooltip:!0,children:(0,_.jsx)(S.Z,{placeholder:t("Confirm password"),type:"password"})}),(0,_.jsx)(f.Z.Item,{children:(0,_.jsx)(a.e3,{description:t("8 characters at least. Uppercase, numbers, and special characters are recommended."),title:t("Always choose a strong password!"),type:"warning"})}),V&&(0,_.jsx)(f.Z.Item,{help:V,validateStatus:"error"}),A&&(0,_.jsx)(b.Z,{disabled:E,icon:D,loading:$,onClick:z.submit,children:t("Import Account")})]})}),(0,_.jsx)("div",{className:"instruction-container",children:A?(0,_.jsx)(N.Z,{contents:K}):(0,_.jsx)(j.ZP,{closeIcon:(0,_.jsx)(g.Z,{phosphorIcon:I.Z,size:"sm"}),id:O,onCancel:ee,rightIconProps:{icon:(0,_.jsx)(o.Z,{})},title:t("Instructions"),wrapClassName:e,children:(0,_.jsx)(N.Z,{contents:K})})})]})})})})).withConfig({displayName:"CreatePassword",componentId:"sc-y8wcce-0"})((({theme:{token:e}})=>({".__web-ui":{display:"flex",justifyContent:"center",gap:16,"& > *":{flex:1},".form-container":{".ant-btn":{width:"100%"}}},".body-container":{padding:`0 ${e.padding}px`,textAlign:"center",maxWidth:768,margin:"0 auto",".page-icon":{display:"flex",justifyContent:"center",marginTop:e.margin,"--page-icon-color":e.colorSecondary},".title":{marginTop:e.margin,marginBottom:2*e.margin,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeHeading3,lineHeight:e.lineHeightHeading3,color:e.colorTextBase}},".ant-form-item:last-child":{marginBottom:0},".instruction-container":{display:"flex",flexDirection:"column",gap:e.sizeXS}})))},48118:(e,t,s)=>{s.d(t,{Z:()=>l});var n=s(25601),a=s(72779),o=s.n(a),i=s(21427),r=s(38338),c=s(52322);const l=(0,r.ZP)((({className:e,contents:t})=>{const{t:s}=(0,i.$)();return t.length<=0?(0,c.jsx)(c.Fragment,{}):(0,c.jsx)("div",{className:o()("instruction-container",e),children:t.map(((e,t)=>(0,c.jsx)(n.e3,{description:"string"==typeof e.description?s(e.description):e.description,title:s(e.title),type:e.type||"warning"})))})})).withConfig({displayName:"InstructionContainer",componentId:"sc-1tjn6f7-0"})((({theme:{token:e}})=>({display:"flex",flexDirection:"column",gap:10})))}}]);