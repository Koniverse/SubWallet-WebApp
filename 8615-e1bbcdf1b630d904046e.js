"use strict";(("undefined"!=typeof self?self:this).webpackChunk_subwallet_web_runner=("undefined"!=typeof self?self:this).webpackChunk_subwallet_web_runner||[]).push([[8615],{38615:(e,n,t)=>{t.r(n),t.d(n,{default:()=>b});var o=t(53334),r=t(48118),s=t(3612),i=t(33283),a=t(92936),l=t(95798),c=t(12798),d=t(99656),p=t(90809),u=t(95023),h=t(25356),m=t(92280),k=t(72779),f=t.n(k),g=t(21218),w=t(15322),y=t(2784),j=t(73557),x=t(38338),S=t(52322),L=function(e){return e.PASSWORD="password",e.OLD_PASSWORD="old_password",e.CONFIRM_PASSWORD="confirm_password",e}(L||{});const W=(0,l.tK)("New password"),A=(0,l._B)(L.PASSWORD),b=(0,x.ZP)((({className:e})=>{const{t:n}=(0,i.$G)(),t=(0,j.s0)(),{goHome:k}=(0,i.yu)(),{isWebUI:x}=(0,y.useContext)(s.sG),[b]=c.Z.useForm(),[Z,O]=(0,y.useState)(!0),[C,D]=(0,y.useState)(""),[H,E]=(0,y.useState)(!1),_=(0,y.useCallback)((()=>{t("/settings/security")}),[t]),P=(0,y.useCallback)((e=>{const n=e[L.PASSWORD],t=e[L.OLD_PASSWORD];n&&t&&(E(!0),setTimeout((()=>{(0,a.jS)({createNew:!1,newPassword:n,oldPassword:t}).then((e=>{null!=e&&e.status?k():b.setFields([{name:L.OLD_PASSWORD,errors:e.errors}])})).catch((e=>{b.setFields([{name:L.OLD_PASSWORD,errors:[e.message]}])})).finally((()=>{E(!1)}))}),1e3))}),[b,k]),R=(0,y.useCallback)(((e,n)=>{const{empty:t,error:o}=(0,l.ij)(n);D(""),O(o||t)}),[]),F=(0,y.useCallback)((()=>{b.resetFields([L.CONFIRM_PASSWORD])}),[b]);return(0,i.uy)(b,L.OLD_PASSWORD),(0,S.jsx)(o.FE,{className:f()(e),children:(0,S.jsxs)(o.Ar.WithSubHeaderOnly,{onBack:_,rightFooterButton:{children:n("Save"),onClick:b.submit,loading:H,disabled:Z,icon:(0,S.jsx)(d.Z,{phosphorIcon:g.Z,weight:"fill"})},withSideMenu:!0,subHeaderIcons:[{icon:(0,S.jsx)(o.Tw,{}),onClick:k}],title:n("Change password"),children:[x&&(0,S.jsx)(p.Z,{title:n("Change password"),background:"transparent",center:!1,onBack:()=>t(-1),showBackButton:!0}),(0,S.jsxs)("div",{className:f()("body-container",{"__web-ui":x}),children:[!x&&(0,S.jsxs)("div",{children:[(0,S.jsx)("div",{className:"page-icon",children:(0,S.jsx)(u.Z,{color:"var(--page-icon-color)",iconProps:{weight:"fill",phosphorIcon:w.Z}})}),(0,S.jsx)("div",{className:"title",children:n("Change your password")})]}),(0,S.jsxs)("div",{className:"form-container",children:[(0,S.jsx)(o.e3,{title:n("Always choose a strong password!"),description:n("Recommended security practice"),type:"warning"}),(0,S.jsxs)(c.Z,{form:b,initialValues:{[L.OLD_PASSWORD]:"",[L.PASSWORD]:"",[L.CONFIRM_PASSWORD]:""},name:"change-password-form",onFieldsChange:R,onFinish:P,children:[(0,S.jsx)(c.Z.Item,{name:L.OLD_PASSWORD,rules:[{message:"Password is required",required:!0}],statusHelpAsTooltip:!0,children:(0,S.jsx)(h.Z,{disabled:H,placeholder:n("Current password"),type:"password"})}),(0,S.jsx)(c.Z.Item,{name:L.PASSWORD,rules:W,statusHelpAsTooltip:!0,children:(0,S.jsx)(h.Z,{disabled:H,onChange:F,placeholder:n("New password"),type:"password"})}),(0,S.jsx)(c.Z.Item,{name:L.CONFIRM_PASSWORD,rules:A,statusHelpAsTooltip:!0,children:(0,S.jsx)(h.Z,{disabled:H,placeholder:n("Confirm new password"),type:"password"})}),C&&(0,S.jsx)(c.Z.Item,{help:C,validateStatus:C&&"error"}),x&&(0,S.jsx)(m.Z,{onClick:b.submit,loading:H,disabled:Z,icon:(0,S.jsx)(d.Z,{phosphorIcon:g.Z,weight:"fill"}),children:n("Save")})]})]}),x&&(0,S.jsx)("div",{className:"instruction-container",children:(0,S.jsx)(r.Z,{contents:[{title:"Why do I need to enter a password?",description:"For your wallet protection, SubWallet locks your wallet after 15 minutes of inactivity. You will need this password to unlock it.",type:"warning"},{title:"Can I recover a password?",description:"The password is stored securely on your device. We will not be able to recover it for you, so make sure you remember it!",type:"warning"}]})})]})]})})})).withConfig({displayName:"ChangePassword",componentId:"sc-ge77kh-0"})((({theme:{token:e}})=>({".body-container":{padding:`0 ${e.padding}px`,textAlign:"center","&.__web-ui":{padding:`${e.padding+24}px ${e.padding}px ${e.padding}px`,maxWidth:"70%",display:"flex",margin:"0 auto",gap:16,".form-container":{display:"flex",flexDirection:"column",gap:16,".ant-btn":{width:"100%"}},"& > *":{flex:1}},".page-icon":{display:"flex",justifyContent:"center",marginTop:e.margin,"--page-icon-color":e.colorSecondary},".title":{marginTop:e.margin,marginBottom:2*e.margin,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeHeading3,lineHeight:e.lineHeightHeading3,color:e.colorTextBase}}})))},48118:(e,n,t)=>{t.d(n,{Z:()=>c});var o=t(53334),r=t(72779),s=t.n(r),i=t(96217),a=t(38338),l=t(52322);const c=(0,a.ZP)((({className:e,contents:n})=>{const{t}=(0,i.$)();return n.length<=0?(0,l.jsx)(l.Fragment,{}):(0,l.jsx)("div",{className:s()("instruction-container",e),children:n.map(((e,n)=>(0,l.jsx)(o.e3,{title:t(e.title),description:"string"==typeof e.description?t(e.description):e.description,type:e.type||"warning"})))})})).withConfig({displayName:"InstructionContainer",componentId:"sc-1tjn6f7-0"})((({theme:{token:e}})=>({display:"flex",flexDirection:"column",gap:10})))},21218:(e,n,t)=>{t.d(n,{Z:()=>c});var o=t(2784),r=t(21890),s=t(76712),i=new Map;i.set("bold",(function(e){return o.createElement(o.Fragment,null,o.createElement("path",{d:"M40,91.3V208a8,8,0,0,0,8,8H208a8,8,0,0,0,8-8V48a8,8,0,0,0-8-8H91.3a7.9,7.9,0,0,0-5.6,2.3L42.3,85.7A7.9,7.9,0,0,0,40,91.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),o.createElement("circle",{cx:"128",cy:"148",r:"28",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),o.createElement("polyline",{points:"104 80 160 80 160 40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))})),i.set("duotone",(function(e){return o.createElement(o.Fragment,null,o.createElement("path",{d:"M208,40H91.3a7.9,7.9,0,0,0-5.6,2.3L42.3,85.7A7.9,7.9,0,0,0,40,91.3V208a8,8,0,0,0,8,8H208a8,8,0,0,0,8-8V48A8,8,0,0,0,208,40ZM128,176a28,28,0,1,1,28-28A28,28,0,0,1,128,176Z",opacity:"0.2"}),o.createElement("path",{d:"M40,91.3V208a8,8,0,0,0,8,8H208a8,8,0,0,0,8-8V48a8,8,0,0,0-8-8H91.3a7.9,7.9,0,0,0-5.6,2.3L42.3,85.7A7.9,7.9,0,0,0,40,91.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),o.createElement("circle",{cx:"128",cy:"148",r:"28",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),o.createElement("polyline",{points:"96 80 160 80 160 40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))})),i.set("fill",(function(){return o.createElement(o.Fragment,null,o.createElement("path",{d:"M208,32H172a4,4,0,0,0-4,4V80a8,8,0,0,1-8,8H96.3A8.2,8.2,0,0,1,88,80.5,8,8,0,0,1,96,72h56V36a4,4,0,0,0-4-4H91.3A15.9,15.9,0,0,0,80,36.7L36.7,80A15.9,15.9,0,0,0,32,91.3V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32ZM128,176a28,28,0,1,1,28-28A28.1,28.1,0,0,1,128,176Z"}))})),i.set("light",(function(e){return o.createElement(o.Fragment,null,o.createElement("path",{d:"M40,91.3V208a8,8,0,0,0,8,8H208a8,8,0,0,0,8-8V48a8,8,0,0,0-8-8H91.3a7.9,7.9,0,0,0-5.6,2.3L42.3,85.7A7.9,7.9,0,0,0,40,91.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),o.createElement("circle",{cx:"128",cy:"148",r:"28",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),o.createElement("polyline",{points:"96 80 160 80 160 40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))})),i.set("thin",(function(e){return o.createElement(o.Fragment,null,o.createElement("path",{d:"M40,91.3V208a8,8,0,0,0,8,8H208a8,8,0,0,0,8-8V48a8,8,0,0,0-8-8H91.3a7.9,7.9,0,0,0-5.6,2.3L42.3,85.7A7.9,7.9,0,0,0,40,91.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),o.createElement("circle",{cx:"128",cy:"148",r:"28",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),o.createElement("polyline",{points:"96 80 160 80 160 40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))})),i.set("regular",(function(e){return o.createElement(o.Fragment,null,o.createElement("path",{d:"M40,91.3V208a8,8,0,0,0,8,8H208a8,8,0,0,0,8-8V48a8,8,0,0,0-8-8H91.3a7.9,7.9,0,0,0-5.6,2.3L42.3,85.7A7.9,7.9,0,0,0,40,91.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),o.createElement("circle",{cx:"128",cy:"148",r:"28",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),o.createElement("polyline",{points:"96 80 160 80 160 40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}));var a=function(e,n){return(0,r._)(e,n,i)},l=(0,o.forwardRef)((function(e,n){return o.createElement(s.Z,Object.assign({ref:n},e,{renderPath:a}))}));l.displayName="FloppyDiskBack";const c=l}}]);