"use strict";(("undefined"!=typeof self?self:this).webpackChunk_subwallet_web_runner=("undefined"!=typeof self?self:this).webpackChunk_subwallet_web_runner||[]).push([[9786],{79786:(e,t,n)=>{n.r(t),n.d(t,{default:()=>V});var o=n(53334),s=n(18608),a=n(64483),l=n(41803),i=n(26754),r=n(66846),c=n(75576),u=n(57190),d=n(3612),p=n(33283),m=n(43246),g=n(80039),h=n(25690),x=n(72558),f=n(2784),y=n(38338),k=n(52322);const b=(0,y.ZP)((function({className:e="",currentTokenInfo:t,id:n,onCancel:o,tokenBalanceMap:s}){const{t:a}=(0,m.Z)(),l=(()=>{const e=(null==t?void 0:t.symbol)||"",n=t?s[t.slug]:void 0;return[{key:"transferable",symbol:e,label:a("Transferable"),value:n?n.free.value:new x.Z(0)},{key:"locked",symbol:e,label:a("Locked"),value:n?n.locked.value:new x.Z(0)}]})();return(0,k.jsx)(g.ZP,{className:e,id:n,onCancel:o,title:a("Token details"),children:(0,k.jsx)("div",{className:"__container",children:l.map((e=>(0,k.jsxs)("div",{className:"__row",children:[(0,k.jsx)("div",{className:"__label",children:e.label}),(0,k.jsx)(h.Z,{className:"__value",decimal:0,decimalOpacity:.45,intOpacity:.85,size:14,suffix:e.symbol,unitOpacity:.85,value:e.value})]},e.key)))})})})).withConfig({displayName:"DetailModal",componentId:"sc-6oss6y-0"})((({theme:{token:e}})=>({".__container":{borderRadius:e.borderRadiusLG,backgroundColor:e.colorBgSecondary,padding:"12px 12px 4px"},".__row":{display:"flex",justifyContent:"space-between",marginBottom:e.marginSM},".__label":{paddingRight:e.paddingSM}})));var v=n(71846),_=n(48062),w=n(92280),j=n(99656),S=n(28394),C=n(4762),N=n(62982),T=n(90766),z=n(35185);const Z=(0,y.ZP)((function({balanceValue:e,className:t="",isShrink:n,onClickBack:o,onOpenBuyTokens:s,onOpenReceive:a,onOpenSendFund:l,symbol:i}){const{t:r}=(0,m.Z)(),c=(0,z.v9)((e=>e.accountState.accounts)),u=(0,z.v9)((e=>e.accountState.currentAccount)),d=(0,z.v9)((e=>e.accountState.isAllAccount)),p=(0,f.useMemo)((()=>{if(v.r[i]){const e=v.r[i].support;if(d){for(const t of c)if(e===(0,_.lx)(t.address))return!0}else if(null!=u&&u.address&&e===(0,_.lx)(null==u?void 0:u.address))return!0}return!1}),[c,null==u?void 0:u.address,d,i]);return(0,k.jsxs)("div",{className:`tokens-upper-block ${t} ${n?"-shrink":""}`,children:[(0,k.jsxs)("div",{className:"__top",children:[(0,k.jsx)(w.Z,{className:"__back-button",icon:(0,k.jsx)(j.Z,{customSize:"24px",phosphorIcon:S.Z}),onClick:o,size:"xs",type:"ghost"}),(0,k.jsxs)("div",{className:"__token-display",children:[r("Token"),": ",i]})]}),(0,k.jsxs)("div",{className:"__bottom",children:[(0,k.jsx)(h.Z,{className:"__balance-value",decimal:0,decimalOpacity:.45,prefix:"$",size:38,subFloatNumber:!0,value:e}),(0,k.jsxs)("div",{className:"__action-button-container",children:[(0,k.jsx)(w.Z,{icon:(0,k.jsx)(j.Z,{phosphorIcon:C.Z,size:n?"sm":"md",weight:"duotone"}),onClick:a,shape:"squircle",size:n?"xs":"sm"}),(0,k.jsx)("div",{className:"__button-space"}),(0,k.jsx)(w.Z,{icon:(0,k.jsx)(j.Z,{phosphorIcon:N.Z,size:n?"sm":"md",weight:"duotone"}),onClick:l,shape:"squircle",size:n?"xs":"sm"}),(0,k.jsx)("div",{className:"__button-space"}),(0,k.jsx)(w.Z,{disabled:!p,icon:(0,k.jsx)(j.Z,{phosphorIcon:T.Z,size:n?"sm":"md",weight:"duotone"}),onClick:s,shape:"squircle",size:n?"xs":"sm"})]})]})]})})).withConfig({displayName:"DetailUpperBlock",componentId:"sc-bgq49z-0"})((({theme:{token:e}})=>({padding:"0px 8px 24px 8px",display:"flex",flexDirection:"column",".__top":{display:"flex",marginBottom:16,alignItems:"center"},".__token-display":{textAlign:"center",flex:1,fontSize:e.fontSizeHeading4,lineHeight:e.lineHeightHeading4,marginRight:40},".ant-btn":{transition:"width, height, padding 0s"},".__back-button":{color:e.colorTextLight1,"&:hover":{color:e.colorTextLight3},"&:active":{color:e.colorTextLight4}},".__balance-value":{textAlign:"center",padding:"0px 8px",lineHeight:e.lineHeightHeading1,fontSize:e.fontSizeHeading1,whiteSpace:"nowrap",overflow:"hidden",".ant-typography":{lineHeight:"inherit"}},".__action-button-container":{display:"flex",justifyContent:"center",padding:"24px 8px 0 8px"},".__button-space":{width:e.size},"&.-shrink":{".__bottom":{display:"flex"},".__balance-value":{textAlign:"left",lineHeight:e.lineHeightHeading2,fontSize:e.fontSizeHeading2,flex:1,".ant-number-prefix, .ant-number-integer":{fontSize:"inherit !important"}},".__action-button-container":{paddingTop:0},".__button-space":{width:e.sizeXS}}})));var I=n(12162),B=n(72779),R=n.n(B),M=n(96217),H=n(73557),O=n(60241);const $="tokenDetailModalId";function L(){const{slug:e}=(0,H.UO)(),t=(0,H.bx)(),n=(0,p.lm)(),{t:s}=(0,M.$)(),c=(0,H.s0)(),{goHome:m}=(0,p.yu)(),{activeModal:g,inactiveModal:h}=(0,f.useContext)(I.t),{isWebUI:x}=(0,f.useContext)(d.sG),{accountBalance:{tokenBalanceMap:y,tokenGroupBalanceMap:v},tokenGroupStructure:{tokenGroupMap:_}}=(0,f.useContext)(u.Q),w=(0,p.v9)((e=>e.assetRegistry.assetRegistry)),j=(0,p.v9)((e=>e.assetRegistry.multiChainAssetMap)),S=(0,p.v9)((e=>e.accountState.currentAccount)),C=(0,f.useRef)(null),N=(0,f.useRef)(null),{accountSelectorItems:T,onOpenReceive:z,openSelectAccount:B,openSelectToken:L,selectedAccount:V,selectedNetwork:A,tokenSelectorItems:D}=(0,p.gV)(e);(0,p.qg)("/home/tokens");const E=(0,f.useMemo)((()=>{if(e){if(j[e])return j[e].symbol;if(w[e])return w[e].symbol}return""}),[e,w,j]),F=(0,f.useMemo)((()=>{if(e){if(v[e])return v[e].total.convertedValue;if(y[e])return y[e].total.convertedValue}return"0"}),[e,y,v]),G=(0,f.useMemo)((()=>{if(e){if(_[e]){const t=[];return _[e].forEach((e=>{y[e]&&t.push(y[e])})),t}if(y[e])return[y[e]]}return[]}),[e,_,y]),[q,P]=(0,f.useState)(void 0),[K,U]=(0,f.useState)(!1),X=(0,f.useCallback)((e=>{const t=e.currentTarget.scrollTop;U(t>60?e=>{if(!e&&N.current&&C.current){const e=C.current.getBoundingClientRect();N.current.style.position="fixed",N.current.style.opacity="0",N.current.style.paddingTop="0",N.current.style.top=`${e.top}px`,N.current.style.left=`${e.left}px`,N.current.style.right=`${e.right}px`,N.current.style.width=`${e.width}px`,setTimeout((()=>{N.current&&(N.current.style.paddingTop="8px",N.current.style.opacity="1")}),100)}return!0}:e=>(e&&N.current&&(N.current.style.position="absolute",N.current.style.top="0",N.current.style.left="0",N.current.style.right="0",N.current.style.width="100%",N.current.style.opacity="0",setTimeout((()=>{N.current&&(N.current.style.opacity="1")}),100)),!1))}),[]),J=(0,f.useCallback)((()=>{var e;if(((null===(e=C.current)||void 0===e?void 0:e.scrollTop)||0)>60){if(N.current&&C.current){const e=C.current.getBoundingClientRect();N.current.style.top=`${e.top}px`,N.current.style.left=`${e.left}px`,N.current.style.right=`${e.right}px`,N.current.style.width=`${e.width}px`}}else N.current&&(N.current.style.top="0",N.current.style.left="0",N.current.style.right="0",N.current.style.width="100%")}),[]),Q=(0,f.useCallback)((()=>{P(void 0)}),[]),W=(0,f.useCallback)((e=>{P({slug:e.slug,symbol:e.symbol})}),[]),Y=(0,f.useCallback)((()=>{S&&S.isReadOnly?n({message:s("The account you are using is read-only, you cannot send assets with it"),type:"info",duration:3}):c("/transaction/send-fund",e?{state:{slug:e}}:void 0)}),[S,c,n,s,e]),ee=(0,f.useCallback)((()=>{c("/buy-tokens",{state:{symbol:E}})}),[c,E]);return(0,f.useEffect)((()=>{q?g($):h($)}),[g,q,h]),(0,f.useEffect)((()=>{U(!1)}),[e]),(0,f.useEffect)((()=>{G.length||m()}),[m,G.length]),(0,f.useEffect)((()=>(window.addEventListener("resize",J),()=>{window.removeEventListener("resize",J)})),[J]),(0,f.useEffect)((()=>{null==t||t.setDetailTitle((0,k.jsxs)("div",{className:"header-content",children:[s("Token"),": ",E]}))}),[E,t]),(0,k.jsxs)("div",{className:R()("token-detail-container",{"__web-ui":x}),onScroll:X,ref:C,children:[!x&&(0,k.jsx)("div",{className:R()("__upper-block-wrapper",{"-is-shrink":K}),ref:N,children:(0,k.jsx)(Z,{balanceValue:F,className:"__static-block",isShrink:K,onClickBack:m,onOpenBuyTokens:ee,onOpenReceive:z,onOpenSendFund:Y,symbol:E})}),x?(0,k.jsx)(O.Z,{columns:[{title:"Token name",dataIndex:"name",key:"name",render:(e,t)=>(0,k.jsx)(o.J9,{logoKey:t.logoKey,symbol:t.symbol,chainDisplayName:t.chainDisplayName||"",chain:t.chain,slug:t.slug})},{title:"Transferable",dataIndex:"percentage",key:"percentage",render:(e,t)=>(0,k.jsx)(o.F5,{value:t.free.value,convertedValue:t.free.convertedValue,symbol:t.symbol})},{title:"Locked",dataIndex:"price",key:"price",render:(e,t)=>(0,k.jsx)(o.F5,{value:t.locked.value,convertedValue:t.locked.convertedValue,symbol:t.symbol})},{title:"Balance",dataIndex:"balance",key:"balance",render:(e,t)=>(0,k.jsx)(o.F5,{value:t.total.value,convertedValue:t.total.convertedValue,symbol:t.symbol})}],dataSource:G,onClick:W}):(0,k.jsx)("div",{className:"__scroll-container",children:G.map((e=>(0,k.jsx)(r.H,{...e,onClick:()=>W(e)},e.slug)))}),(0,k.jsx)(b,{currentTokenInfo:q,id:$,onCancel:Q,tokenBalanceMap:y}),(0,k.jsx)(a.C,{items:T,onSelectItem:B}),(0,k.jsx)(i.F,{address:V,items:D,onSelectItem:L}),(0,k.jsx)(l.Z,{address:V,selectedNetwork:A})]})}const V=(0,y.ZP)((function({className:e=""}){const t=(0,f.useContext)(c.R0);return(0,k.jsx)(s.Z,{className:`tokens ${e}`,resolve:t.awaitStores(["price","chainStore","assetRegistry","balance"]),children:(0,k.jsx)(L,{})})})).withConfig({displayName:"DetailList__Tokens",componentId:"sc-9cj0x6-0"})((({theme:{extendToken:e,token:t}})=>({overflow:"hidden",".token-detail-container":{height:"100%",overflow:"auto",color:t.colorTextLight1,fontSize:t.fontSizeLG,position:"relative",display:"flex",flexDirection:"column",paddingTop:210,"&.__web-ui":{padding:0}},".__scroll-container":{flex:1,paddingLeft:t.size,paddingRight:t.size},".__upper-block-wrapper":{position:"absolute",backgroundColor:t.colorBgDefault,zIndex:10,height:206,paddingTop:8,top:0,left:0,right:0,display:"flex",alignItems:"center",backgroundImage:e.tokensScreenInfoBackgroundColor,transition:"opacity, padding-top 0.27s ease","&.-is-shrink":{height:128}},".tokens-upper-block":{flex:1},".__scrolling-block":{display:"none"},".token-balance-detail-item":{marginBottom:t.sizeXS}})))},60241:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(63220),s=n(52322);const a=({columns:e,dataSource:t,onClick:n})=>(0,s.jsx)(o.Z,{rowKey:e=>e.slug,dataSource:t,columns:e,pagination:!1,onRow:(e,t)=>({onClick:()=>{n&&n(e)}})})}}]);