"use strict";(("undefined"!=typeof self?self:this).webpackChunk_subwallet_web_runner=("undefined"!=typeof self?self:this).webpackChunk_subwallet_web_runner||[]).push([[9815,9801],{19815:(e,t,n)=>{n.r(t),n.d(t,{default:()=>w});var o=n(53334),r=n(75576),l=n(3612),a=n(33283),i=n(92936),s=n(37586),c=n(99656),d=n(12162),u=n(96108),m=n(17446),h=n(92280),p=n(94344),f=n(72779),k=n.n(f),g=n(16418),x=n(50094),y=n(82524),b=n(2784),j=n(73557),C=n(38338),L=n(29801),E=n(52322);const I=(0,E.jsx)(c.Z,{phosphorIcon:g.Z,size:"sm",type:"phosphor"}),_=(0,E.jsx)(c.Z,{phosphorIcon:x.Z,size:"sm",type:"phosphor"}),N="import-nft-modal",w=(0,C.ZP)((function({className:e=""}){const{t}=(0,a.$G)(),n=(0,j.s0)(),f=(0,j.bx)(),g=(0,b.useContext)(r.R0),{isWebUI:x}=(0,b.useContext)(l.sG),{nftCollections:C,nftItems:w}=(0,a.Nw)(),[v,F]=b.useState(!1),Z=(0,a.lm)(),{activeModal:W,inactiveModal:S}=(0,b.useContext)(d.t);(0,b.useEffect)((()=>{(null==f?void 0:f.setSearchPlaceholder)&&f.setSearchPlaceholder("Collectible name")}),[null==f?void 0:f.setSearchPlaceholder]);const T=[{icon:I,disabled:v,size:"sm",onClick:()=>{F(!0),Z({icon:(0,E.jsx)(u.Z,{size:32}),style:{top:210},direction:"vertical",duration:1.8,message:t("Reloading")}),(0,i.TU)({data:"nft"}).then((()=>{F(!1)})).catch(console.error)}},{icon:_,onClick:()=>{n("/settings/tokens/import-nft",{state:{isExternalRequest:!1}})}}],P=(0,b.useCallback)(((e,t)=>{var n;const o=t.toLowerCase();return(null===(n=e.collectionName)||void 0===n?void 0:n.toLowerCase().includes(o))||e.collectionId.toLowerCase().includes(o)}),[]),A=(0,b.useCallback)((e=>{const t=[];return w.forEach((n=>{n.collectionId===e.collectionId&&n.chain===e.chain&&t.push(n)})),t}),[w]),M=(0,b.useCallback)((e=>{n("/home/nfts/collection-detail",{state:e})}),[n]),z=(0,b.useCallback)((e=>{const t=A(e);let n;for(const e of t)if(e.image){n=e.image;break}const o={collectionInfo:e,nftList:t};return(0,E.jsx)(s.n,{fallbackImage:n,handleOnClick:M,image:e.image,itemCount:t.length,routingParams:o,title:e.collectionName||e.collectionId},`${e.collectionId}_${e.chain}`)}),[A,M]),B=(0,b.useCallback)((()=>(0,E.jsx)(o.rf,{emptyMessage:t("Your NFT collectible will appear here!"),emptyTitle:t("No NFT collectible"),phosphorIcon:y.Z})),[t]),R=(0,b.useMemo)((()=>x?(0,E.jsx)(m.Z,{list:C,searchBy:P,searchTerm:null==f?void 0:f.searchInput,renderItem:z,renderWhenEmpty:B,gridGap:"14px",minColumnWidth:"160px",displayGrid:!0,renderOnScroll:!0}):(0,E.jsx)(m.Z.Section,{className:k()("nft_collection_list__container"),displayGrid:!0,enableSearchInput:!0,gridGap:"14px",list:C,minColumnWidth:"160px",renderItem:z,renderOnScroll:!0,renderWhenEmpty:B,searchFunction:P,searchMinCharactersCount:2,searchPlaceholder:t("Search collection name")})),[C,z,P,x,null==f?void 0:f.searchInput,B]);return(0,E.jsxs)(o.FE,{className:`nft_container ${e}`,resolve:g.awaitStores(["nft"]),children:[(0,E.jsxs)(o.Ar.Base,{...!x&&{showSubHeader:!0,subHeaderBackground:"transparent",subHeaderCenter:!1,subHeaderIcons:T,subHeaderPaddingVertical:!0,title:t("Collectibles")},children:[R,(0,E.jsx)(h.Z,{type:"ghost",icon:(0,E.jsx)(c.Z,{phosphorIcon:p.Z,size:"xs"}),onClick:()=>W(N),children:t("Import collectible"),block:!0})]}),(0,E.jsx)(o.P0,{id:N,onCancel:()=>S(N),title:t("Import NFT"),children:(0,E.jsx)(L.default,{modalContent:!0})})]})})).withConfig({displayName:"NftCollections",componentId:"sc-3r07z1-0"})((({theme:{token:e}})=>({color:e.colorTextLight1,fontSize:e.fontSizeLG,"&__inner":{display:"flex",flexDirection:"column"},".nft_collection_list__container":{height:"100%",flex:1,".ant-sw-list":{paddingBottom:1,marginBottom:-1}}})))},29801:(e,t,n)=>{n.r(t),n.d(t,{default:()=>L});var o=n(80949),r=n(36926),l=n(56858),a=n(53334),i=n(75576),s=n(33283),c=n(92936),d=n(95798),u=n(12798),m=n(99656),h=n(90809),p=n(25356),f=n(94344),k=n(2784),g=n(73557),x=n(38338),y=n(61162),b=n(68774),j=n(52322);function C(e){if(!e)return[];const t=(0,r.g6)(e),n=[];return t.forEach((e=>{n.push({label:e.toString(),value:e})})),n}const L=(0,x.ZP)((function({className:e="",modalContent:t}){const{t:n}=(0,s.$G)(),x=(0,s.lm)(),L=(0,g.s0)(),E=(0,k.useContext)(i.R0),I=(0,s.c_)(),[_]=u.Z.useForm(),N=u.Z.useWatch("chain",_),w=u.Z.useWatch("type",_),v=u.Z.useWatch("collectionName",_),F=(0,k.useMemo)((()=>Object.values(I)),[I]),[Z,W]=(0,k.useState)(!1),[S,T]=(0,k.useState)(!0),[P,A]=(0,k.useState)(!0),M=(0,k.useMemo)((()=>C(I[N])),[I,N]),z=(0,s.vI)(),B=(0,k.useCallback)((()=>{L("/home/nfts/collections")}),[L]),R=(0,k.useCallback)(((e,t)=>{const{error:n}=(0,d.ij)(t),o=(0,d.eW)(e),r=(0,d.eW)(t),l=(0,d.s_)(t),a=Object.entries(r).some((([e,t])=>"symbol"!==e&&!t)),{chain:i,type:s}=o;if(i){const e=C(I[i]);1===e.length?_.setFieldValue("type",e[0].value):_.resetFields(["type"]),_.resetFields(["contractAddress","collectionName"])}s&&_.resetFields(["contractAddress","collectionName"]),l.contractAddress.length>0&&_.resetFields(["collectionName"]),A(!r.chain||!r.type||l.contractAddress.length>0),T(a||n)}),[I,_]),G=(0,k.useCallback)((e=>{const{chain:t,contractAddress:o,symbol:l,type:a}=e,i=v.replaceAll(" ","").toUpperCase();W(!0),setTimeout((()=>{(0,c.fx)({originChain:t,slug:"",name:v,symbol:""!==l?l:i,decimals:null,priceId:null,minAmount:null,assetType:a,metadata:(0,r.ST)(o),multiChainAsset:null,hasValue:(0,r.nO)(I[t]),icon:""}).then((e=>{e?(x({message:n("Imported NFT successfully")}),B()):x({message:n("An error occurred, please try again")})})).catch((()=>{x({message:n("An error occurred, please try again")})})).finally((()=>{W(!1)}))}),300)}),[v,I,x,n,B]),H=(0,k.useCallback)(((e,t)=>new Promise(((e,o)=>{t.replaceAll(" ","").length>=3?e():o(new Error(n("Collection name must have at least 3 characters")))}))),[n]),O=(0,k.useCallback)(((e,t)=>new Promise(((e,r)=>{if((0,y.U)(t)){const a=[o.Ym.ERC721].includes(w)&&(0,b.u)(t),i=[o.Ym.PSP34].includes(w)&&(0,l.NJ)(t);a||i?(W(!0),(0,c.Uj)({contractAddress:t,originChain:N,type:w}).then((t=>{W(!1),t.isExist&&r(n("Existed NFT")),t.contractError&&r(n("Invalid contract for the selected chain")),t.isExist||t.contractError||(_.setFieldValue("collectionName",t.name),_.setFieldValue("symbol",t.symbol),e())})).catch((()=>{W(!1),r(n("Invalid contract for the selected chain"))}))):r(n("Invalid contract address"))}else r(n("Invalid contract address"))}))),[_,N,w,n]);return(0,k.useEffect)((()=>{N&&z(N)}),[N,z]),(0,j.jsx)(a.FE,{className:e,resolve:E.awaitStores(["nft"]),children:(0,j.jsxs)(a.Ar.Base,{onBack:B,rightFooterButton:{disabled:S,icon:(0,j.jsx)(m.Z,{phosphorIcon:f.Z,weight:"fill"}),loading:Z,onClick:_.submit,children:n("Import")},title:n("Import NFT"),children:[!t&&(0,j.jsx)(h.Z,{background:"transparent",center:!0,className:"transaction-header",onBack:B,paddingVertical:!0,showBackButton:!0,title:n("Import NFT")}),(0,j.jsx)("div",{className:"nft_import__container",children:(0,j.jsxs)(u.Z,{className:"form-space-xs",form:_,initialValues:{contractAddress:"",chain:"",collectionName:"",type:""},name:"nft-import",onFieldsChange:R,onFinish:G,children:[(0,j.jsx)(u.Z.Item,{name:"chain",children:(0,j.jsx)(a.oT,{items:F,label:n("Network"),placeholder:n("Select network"),title:n("Select network")})}),(0,j.jsx)(u.Z.Item,{name:"type",children:(0,j.jsx)(a.Rf,{className:e,disabled:!N,items:M,label:n("NFT type"),placeholder:n("Select NFT type"),title:n("Select NFT type")})}),(0,j.jsx)(u.Z.Item,{name:"contractAddress",rules:[{validator:O}],statusHelpAsTooltip:!0,children:(0,j.jsx)(a.Jg,{disabled:!w,label:n("NFT contract address"),showScanner:!0})}),(0,j.jsx)(u.Z.Item,{name:"collectionName",required:!0,rules:[{validator:H}],statusHelpAsTooltip:!0,children:(0,j.jsx)(p.Z,{disabled:P,label:n("NFT collection name")})})]})})]})})})).withConfig({displayName:"NftImport",componentId:"sc-h8ppt5-0"})((({theme:{token:e}})=>({".nft_import__container":{marginTop:e.margin,paddingLeft:e.padding,paddingRight:e.padding},".nft_import__Qr":{cursor:"pointer"},".ant-web3-block-right-item":{marginRight:0},".ant-input-suffix":{marginRight:0},".nft_import__selected_option":{color:e.colorTextHeading},".nft-type-item":{"--nft-type-icon-bg-color":e["orange-6"],"--nft-type-icon-color":e.colorWhite,"--nft-selected-icon-color":e.colorSuccess,".ant-web3-block-right-item":{marginRight:0}}})))},37586:(e,t,n)=>{n.d(t,{n:()=>c});var o=n(96108),r=n(97730),l=n(2784),a=n(47176),i=n(38338),s=n(52322);const c=(0,i.ZP)((function({className:e="",fallbackImage:t,handleOnClick:n,image:c,itemCount:d,routingParams:u,title:m}){const{extendToken:h}=(0,i.Fg)(),[p,f]=(0,l.useState)(!0),[k,g]=(0,l.useState)(!1),x=(0,l.useCallback)((()=>{n&&n(u)}),[n,u]),y=(0,l.useCallback)((()=>{f(!1),g(!0)}),[]),b=(0,l.useCallback)((()=>{g(!1)}),[]),j=(0,l.useCallback)((()=>c||t||h.defaultImagePlaceholder),[h.defaultImagePlaceholder,t,c]),C=(0,l.useCallback)((()=>(0,s.jsx)("div",{className:"nft_gallery_wrapper__loading",children:(0,s.jsx)(o.Z,{existIcon:!0,prefixCls:""})})),[]),L=(0,l.useCallback)((()=>p?(0,s.jsx)(a.LazyLoadImage,{delayTime:1e4,height:"100%",onError:y,placeholder:C(),src:j(),width:"100%"}):k?(0,s.jsx)(a.LazyLoadComponent,{children:(0,s.jsx)("video",{autoPlay:!0,height:"124",loop:!0,muted:!0,onError:b,width:"124",children:(0,s.jsx)("source",{src:j(),type:"video/mp4"})})}):(0,s.jsx)(a.LazyLoadImage,{src:h.defaultImagePlaceholder,visibleByDefault:!0})),[p,k,h.defaultImagePlaceholder,y,C,j,b]);return(0,s.jsx)(r.Z,{className:`nft_gallery_wrapper ${e}`,count:d,customImageNode:L(),onClick:x,title:m})})).withConfig({displayName:"NftGalleryWrapper",componentId:"sc-o2t73q-0"})((({theme:{token:e}})=>({color:e.colorTextLight1,fontSize:e.fontSizeLG,".__image-wrapper":{overflow:"hidden"},".nft_gallery_wrapper__loading":{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}})))},16418:(e,t,n)=>{n.d(t,{Z:()=>c});var o=n(2784),r=n(21890),l=n(76712),a=new Map;a.set("bold",(function(e){return o.createElement(o.Fragment,null,o.createElement("polyline",{points:"176.2 99.7 224.2 99.7 224.2 51.7",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),o.createElement("path",{d:"M190.2,190.2a88,88,0,1,1,0-124.4l34,33.9",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))})),a.set("duotone",(function(e){return o.createElement(o.Fragment,null,o.createElement("polyline",{points:"176.2 99.7 224.2 99.7 224.2 51.7",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),o.createElement("path",{d:"M190.2,190.2a88,88,0,1,1,0-124.4l34,33.9",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))})),a.set("fill",(function(){return o.createElement(o.Fragment,null,o.createElement("path",{d:"M232.2,51.7v48a8,8,0,0,1-8,8h-48a8,8,0,0,1-5.7-13.6l18.4-18.4-4.3-4.3a80,80,0,1,0,0,113.2,7.9,7.9,0,0,1,11.3,0,8,8,0,0,1,0,11.3,96,96,0,1,1,0-135.8l4.3,4.3,18.3-18.3a8,8,0,0,1,8.7-1.8A8.2,8.2,0,0,1,232.2,51.7Z"}))})),a.set("light",(function(e){return o.createElement(o.Fragment,null,o.createElement("polyline",{points:"176.2 99.7 224.2 99.7 224.2 51.7",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),o.createElement("path",{d:"M190.2,190.2a88,88,0,1,1,0-124.4l34,33.9",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))})),a.set("thin",(function(e){return o.createElement(o.Fragment,null,o.createElement("polyline",{points:"176.2 99.7 224.2 99.7 224.2 51.7",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),o.createElement("path",{d:"M190.2,190.2a88,88,0,1,1,0-124.4l34,33.9",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))})),a.set("regular",(function(e){return o.createElement(o.Fragment,null,o.createElement("polyline",{points:"176.2 99.7 224.2 99.7 224.2 51.7",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),o.createElement("path",{d:"M190.2,190.2a88,88,0,1,1,0-124.4l34,33.9",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}));var i=function(e,t){return(0,r._)(e,t,a)},s=(0,o.forwardRef)((function(e,t){return o.createElement(l.Z,Object.assign({ref:t},e,{renderPath:i}))}));s.displayName="ArrowClockwise";const c=s},50094:(e,t,n)=>{n.d(t,{Z:()=>c});var o=n(2784),r=n(21890),l=n(76712),a=new Map;a.set("bold",(function(e){return o.createElement(o.Fragment,null,o.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),o.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))})),a.set("duotone",(function(e){return o.createElement(o.Fragment,null,o.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),o.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))})),a.set("fill",(function(){return o.createElement(o.Fragment,null,o.createElement("path",{d:"M216,120H136V40a8,8,0,0,0-16,0v80H40a8,8,0,0,0,0,16h80v80a8,8,0,0,0,16,0V136h80a8,8,0,0,0,0-16Z"}))})),a.set("light",(function(e){return o.createElement(o.Fragment,null,o.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),o.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))})),a.set("thin",(function(e){return o.createElement(o.Fragment,null,o.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),o.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))})),a.set("regular",(function(e){return o.createElement(o.Fragment,null,o.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),o.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}));var i=function(e,t){return(0,r._)(e,t,a)},s=(0,o.forwardRef)((function(e,t){return o.createElement(l.Z,Object.assign({ref:t},e,{renderPath:i}))}));s.displayName="Plus";const c=s}}]);