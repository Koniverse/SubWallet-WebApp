"use strict";(("undefined"!=typeof self?self:this).webpackChunk_subwallet_web_runner=("undefined"!=typeof self?self:this).webpackChunk_subwallet_web_runner||[]).push([[9815,9801],{19815:(e,t,n)=>{n.r(t),n.d(t,{default:()=>S});var o=n(25601),l=n(33624),a=n(75576),s=n(3612),i=n(33283),c=n(92936),r=n(37586),d=n(99656),h=n(12162),m=n(96108),p=n(17446),u=n(92280),f=n(72779),g=n.n(f),x=n(16418),b=n(50094),y=n(82524),C=n(94344),N=n(2784),I=n(73557),j=n(38338),k=n(29801),w=n(52322);const _=(0,w.jsx)(d.Z,{phosphorIcon:x.Z,size:"sm",type:"phosphor"}),v=(0,w.jsx)(d.Z,{phosphorIcon:b.Z,size:"sm",type:"phosphor"}),Z="import-nft-modal",S=(0,j.ZP)((function({className:e=""}){const{t}=(0,i.$G)(),n=(0,I.s0)(),f=(0,I.bx)(),x=(0,N.useContext)(a.R0),{isWebUI:b}=(0,N.useContext)(s.sG),{nftCollections:j,nftItems:S}=(0,i.Nw)(),[T,F]=N.useState(!1),E=(0,i.lm)(),{activeModal:A,inactiveModal:P}=(0,N.useContext)(h.t);(0,N.useEffect)((()=>{(null==f?void 0:f.setSearchPlaceholder)&&f.setSearchPlaceholder("Collectible name")}),[f,null==f?void 0:f.setSearchPlaceholder]);const L=[{icon:_,disabled:T,size:"sm",onClick:()=>{F(!0),E({icon:(0,w.jsx)(m.Z,{size:32}),style:{top:210},direction:"vertical",duration:1.8,message:t("Reloading")}),(0,c.TU)({data:"nft"}).then((()=>{F(!1)})).catch(console.error)}},{icon:v,onClick:()=>{n("/settings/tokens/import-nft",{state:{isExternalRequest:!1}})}}],R=(0,N.useCallback)(((e,t)=>{var n;const o=t.toLowerCase();return(null===(n=e.collectionName)||void 0===n?void 0:n.toLowerCase().includes(o))||e.collectionId.toLowerCase().includes(o)}),[]),z=(0,N.useCallback)((e=>{const t=[];return S.forEach((n=>{n.collectionId===e.collectionId&&n.chain===e.chain&&t.push(n)})),t}),[S]),O=(0,N.useCallback)((e=>{n("/home/nfts/collection-detail",{state:e})}),[n]),H=(0,N.useCallback)((e=>{const t=z(e);let n;for(const e of t)if(e.image){n=e.image;break}const o={collectionInfo:e,nftList:t};return(0,w.jsx)(r.n,{fallbackImage:n,handleOnClick:O,image:e.image,itemCount:t.length,routingParams:o,title:e.collectionName||e.collectionId},`${e.collectionId}_${e.chain}`)}),[z,O]),W=(0,N.useCallback)((()=>(0,w.jsx)(o.rf,{emptyMessage:t("Your NFT collectible will appear here!"),emptyTitle:t("No NFT collectible"),phosphorIcon:y.Z})),[t]),B=(0,N.useMemo)((()=>b?j.length>0?(0,w.jsx)(p.Z,{displayGrid:!0,gridGap:"14px",list:j,minColumnWidth:"160px",renderItem:H,renderOnScroll:!0,renderWhenEmpty:W,searchBy:R,searchTerm:null==f?void 0:f.searchInput}):(0,w.jsx)(l.Z,{pageType:l.G.NFT}):(0,w.jsx)(p.Z.Section,{className:g()("nft_collection_list__container"),displayGrid:!0,enableSearchInput:!0,gridGap:"14px",list:j,minColumnWidth:"160px",renderItem:H,renderOnScroll:!0,renderWhenEmpty:W,searchFunction:R,searchMinCharactersCount:2,searchPlaceholder:t("Search collection name")})),[b,j,H,W,R,null==f?void 0:f.searchInput,t]);return(0,w.jsxs)(o.FE,{className:`nft_container ${e}`,resolve:x.awaitStores(["nft"]),children:[(0,w.jsxs)(o.Ar.Base,{...!b&&{showSubHeader:!0,subHeaderBackground:"transparent",subHeaderCenter:!1,subHeaderIcons:L,subHeaderPaddingVertical:!0,title:t("Collectibles")},children:[B,(0,w.jsx)(u.Z,{block:!0,children:t("Import collectible"),icon:(0,w.jsx)(d.Z,{phosphorIcon:C.Z,size:"xs"}),onClick:()=>A(Z),type:"ghost"})]}),(0,w.jsx)(o.P0,{id:Z,onCancel:()=>P(Z),title:t("Import NFT"),children:(0,w.jsx)(k.default,{modalContent:!0})})]})})).withConfig({displayName:"NftCollections",componentId:"sc-3r07z1-0"})((({theme:{token:e}})=>({color:e.colorTextLight1,fontSize:e.fontSizeLG,"&__inner":{display:"flex",flexDirection:"column"},".nft_collection_list__container":{height:"100%",flex:1,".ant-sw-list":{paddingBottom:1,marginBottom:-1}}})))},29801:(e,t,n)=>{n.r(t),n.d(t,{default:()=>j});var o=n(80949),l=n(36926),a=n(56858),s=n(25601),i=n(75576),c=n(33283),r=n(92936),d=n(95798),h=n(12798),m=n(99656),p=n(90809),u=n(25356),f=n(94344),g=n(2784),x=n(73557),b=n(38338),y=n(61162),C=n(68774),N=n(52322);function I(e){if(!e)return[];const t=(0,l.g6)(e),n=[];return t.forEach((e=>{n.push({label:e.toString(),value:e})})),n}const j=(0,b.ZP)((function({className:e="",modalContent:t}){const{t:n}=(0,c.$G)(),b=(0,c.lm)(),j=(0,x.s0)(),k=(0,g.useContext)(i.R0),w=(0,c.c_)(),[_]=h.Z.useForm(),v=h.Z.useWatch("chain",_),Z=h.Z.useWatch("type",_),S=h.Z.useWatch("collectionName",_),T=(0,g.useMemo)((()=>Object.values(w)),[w]),[F,E]=(0,g.useState)(!1),[A,P]=(0,g.useState)(!0),[L,R]=(0,g.useState)(!0),z=(0,g.useMemo)((()=>I(w[v])),[w,v]),O=(0,c.vI)(),H=(0,g.useCallback)((()=>{j("/home/nfts/collections")}),[j]),W=(0,g.useCallback)(((e,t)=>{const{error:n}=(0,d.ij)(t),o=(0,d.eW)(e),l=(0,d.eW)(t),a=(0,d.s_)(t),s=Object.entries(l).some((([e,t])=>"symbol"!==e&&!t)),{chain:i,type:c}=o;if(i){const e=I(w[i]);1===e.length?_.setFieldValue("type",e[0].value):_.resetFields(["type"]),_.resetFields(["contractAddress","collectionName"])}c&&_.resetFields(["contractAddress","collectionName"]),a.contractAddress.length>0&&_.resetFields(["collectionName"]),R(!l.chain||!l.type||a.contractAddress.length>0),P(s||n)}),[w,_]),B=(0,g.useCallback)((e=>{const{chain:t,contractAddress:o,symbol:a,type:s}=e,i=S.replaceAll(" ","").toUpperCase();E(!0),setTimeout((()=>{(0,r.fx)({originChain:t,slug:"",name:S,symbol:""!==a?a:i,decimals:null,priceId:null,minAmount:null,assetType:s,metadata:(0,l.ST)(o),multiChainAsset:null,hasValue:(0,l.nO)(w[t]),icon:""}).then((e=>{e?(b({message:n("Imported NFT successfully")}),H()):b({message:n("An error occurred, please try again")})})).catch((()=>{b({message:n("An error occurred, please try again")})})).finally((()=>{E(!1)}))}),300)}),[S,w,b,n,H]),G=(0,g.useCallback)(((e,t)=>new Promise(((e,o)=>{t.replaceAll(" ","").length>=3?e():o(new Error(n("Collection name must have at least 3 characters")))}))),[n]),Y=(0,g.useCallback)(((e,t)=>new Promise(((e,l)=>{if((0,y.U)(t)){const s=[o.Ym.ERC721].includes(Z)&&(0,C.u)(t),i=[o.Ym.PSP34].includes(Z)&&(0,a.NJ)(t);s||i?(E(!0),(0,r.Uj)({contractAddress:t,originChain:v,type:Z}).then((t=>{E(!1),t.isExist&&l(n("Existed NFT")),t.contractError&&l(n("Invalid contract for the selected chain")),t.isExist||t.contractError||(_.setFieldValue("collectionName",t.name),_.setFieldValue("symbol",t.symbol),e())})).catch((()=>{E(!1),l(n("Invalid contract for the selected chain"))}))):l(n("Invalid contract address"))}else l(n("Invalid contract address"))}))),[_,v,Z,n]);return(0,g.useEffect)((()=>{v&&O(v)}),[v,O]),(0,N.jsx)(s.FE,{className:e,resolve:k.awaitStores(["nft"]),children:(0,N.jsxs)(s.Ar.Base,{onBack:H,rightFooterButton:{disabled:A,icon:(0,N.jsx)(m.Z,{phosphorIcon:f.Z,weight:"fill"}),loading:F,onClick:_.submit,children:n("Import")},title:n("Import NFT"),children:[!t&&(0,N.jsx)(p.Z,{background:"transparent",center:!0,className:"transaction-header",onBack:H,paddingVertical:!0,showBackButton:!0,title:n("Import NFT")}),(0,N.jsx)("div",{className:"nft_import__container",children:(0,N.jsxs)(h.Z,{className:"form-space-xs",form:_,initialValues:{contractAddress:"",chain:"",collectionName:"",type:""},name:"nft-import",onFieldsChange:W,onFinish:B,children:[(0,N.jsx)(h.Z.Item,{name:"chain",children:(0,N.jsx)(s.oT,{items:T,label:n("Network"),placeholder:n("Select network"),title:n("Select network")})}),(0,N.jsx)(h.Z.Item,{name:"type",children:(0,N.jsx)(s.Rf,{className:e,disabled:!v,items:z,label:n("Type"),placeholder:n("Select NFT type"),title:n("Select NFT type")})}),(0,N.jsx)(h.Z.Item,{name:"contractAddress",rules:[{validator:Y}],statusHelpAsTooltip:!0,children:(0,N.jsx)(s.Jg,{disabled:!Z,label:n("Contract address"),placeholder:n("Enter or paste an address"),showScanner:!0})}),(0,N.jsx)(h.Z.Item,{name:"collectionName",required:!0,rules:[{validator:G}],statusHelpAsTooltip:!0,children:(0,N.jsx)(u.Z,{disabled:L,label:n("NFT collection name")})})]})})]})})})).withConfig({displayName:"NftImport",componentId:"sc-h8ppt5-0"})((({theme:{token:e}})=>({".nft_import__container":{marginTop:e.margin,paddingLeft:e.padding,paddingRight:e.padding},".nft_import__Qr":{cursor:"pointer"},".ant-web3-block-right-item":{marginRight:0},".ant-input-suffix":{marginRight:0},".nft_import__selected_option":{color:e.colorTextHeading},".nft-type-item":{"--nft-type-icon-bg-color":e["orange-6"],"--nft-type-icon-color":e.colorWhite,"--nft-selected-icon-color":e.colorSuccess,".ant-web3-block-right-item":{marginRight:0}}})))},37586:(e,t,n)=>{n.d(t,{n:()=>r});var o=n(96108),l=n(97730),a=n(2784),s=n(47176),i=n(38338),c=n(52322);const r=(0,i.ZP)((function({className:e="",fallbackImage:t,handleOnClick:n,image:r,itemCount:d,routingParams:h,title:m}){const{extendToken:p}=(0,i.Fg)(),[u,f]=(0,a.useState)(!0),[g,x]=(0,a.useState)(!1),b=(0,a.useCallback)((()=>{n&&n(h)}),[n,h]),y=(0,a.useCallback)((()=>{f(!1),x(!0)}),[]),C=(0,a.useCallback)((()=>{x(!1)}),[]),N=(0,a.useCallback)((()=>r||t||p.defaultImagePlaceholder),[p.defaultImagePlaceholder,t,r]),I=(0,a.useCallback)((()=>(0,c.jsx)("div",{className:"nft_gallery_wrapper__loading",children:(0,c.jsx)(o.Z,{existIcon:!0,prefixCls:""})})),[]),j=(0,a.useCallback)((()=>u?(0,c.jsx)(s.LazyLoadImage,{delayTime:1e4,height:"100%",onError:y,placeholder:I(),src:N(),width:"100%"}):g?(0,c.jsx)(s.LazyLoadComponent,{children:(0,c.jsx)("video",{autoPlay:!0,height:"124",loop:!0,muted:!0,onError:C,width:"124",children:(0,c.jsx)("source",{src:N(),type:"video/mp4"})})}):(0,c.jsx)(s.LazyLoadImage,{src:p.defaultImagePlaceholder,visibleByDefault:!0})),[u,g,p.defaultImagePlaceholder,y,I,N,C]);return(0,c.jsx)(l.Z,{className:`nft_gallery_wrapper ${e}`,count:d,customImageNode:j(),onClick:b,title:m})})).withConfig({displayName:"NftGalleryWrapper",componentId:"sc-o2t73q-0"})((({theme:{token:e}})=>({color:e.colorTextLight1,fontSize:e.fontSizeLG,".__image-wrapper":{overflow:"hidden"},".nft_gallery_wrapper__loading":{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}})))},33624:(e,t,n)=>{n.d(t,{G:()=>f,Z:()=>x});var o=n(99656),l=n(99338),a=n(72779),s=n.n(a),i=n(82524),c=n(1780),r=n(86267),d=n(74711),h=n(95414),m=n(56899),p=(n(2784),n(38338)),u=n(52322);let f;!function(e){e.NFT="nft",e.TOKEN="token",e.SEARCH="search",e.CROWDLOANS="crowdloans",e.HISTORY="history"}(f||(f={}));const g={[f.NFT]:{icon:i.Z,title:"No collectible found",content:"Your collectibles will appear here"},[f.TOKEN]:{icon:c.Z,title:"No token found",content:"Your token will appear here"},[f.SEARCH]:{icon:r.Z,title:"No results found",content:"Please change your search criteria and try again",button:{label:"Manage token list",icon:d.Z}},[f.CROWDLOANS]:{icon:h.Z,title:"You’ve not participated in any crowdloans",content:"Your crowdloans portfolio will appear here"},[f.HISTORY]:{icon:m.Z,title:"No transaction found",content:"Your transaction history will appear here"}},x=(0,p.ZP)((({className:e,pageType:t})=>{const{content:n,icon:a,title:i}=g[t];return(0,u.jsx)("div",{className:s()(e),children:(0,u.jsxs)("div",{className:s()("message-wrapper"),children:[(0,u.jsxs)("div",{className:"message-icon",children:[(0,u.jsx)(o.Z,{iconColor:"#737373",phosphorIcon:a,weight:"fill"}),(0,u.jsx)("div",{className:"shape"})]}),(0,u.jsxs)("div",{className:s()("flex-col","message-content"),children:[(0,u.jsx)(l.Z.Title,{className:"title",children:i}),n&&(0,u.jsx)(l.Z.Text,{className:"content",children:n})]})]})})})).withConfig({displayName:"NoContent",componentId:"sc-oeplvg-0"})((()=>({height:"100%",".message-wrapper":{flex:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"50px 0 40px",".message-icon":{display:"flex",justifyContent:"center",alignItems:"center",fontSize:60,height:"fit-content",width:"fit-content",padding:"28px",position:"relative",".shape":{opacity:.3,background:"#4D4D4D",borderRadius:"50%",position:"absolute",top:0,left:0,bottom:0,right:0}},".message-content":{marginTop:16,justifyContent:"center",alignItems:"center",display:"flex",flexDirection:"column","& > *":{margin:0},".title":{fontSize:16,lineHeight:"24px"},".content":{fontSize:14,lineHeight:"22px",color:"rgba(255, 255, 255, 0.45)"}}},".action-button":{opacity:.45}})))}}]);