"use strict";(("undefined"!=typeof self?self:this).webpackChunk_subwallet_web_runner=("undefined"!=typeof self?self:this).webpackChunk_subwallet_web_runner||[]).push([[2382],{62382:(e,n,s)=>{s.r(n),s.d(n,{default:()=>B});var t=s(56858),o=s(3401),a=s(76806),r=s(36774),i=s(11638),l=s(71846),c=s(27498),u=s(43246),d=s(47088),p=s(95798),m=s(48062),h=s(48685),f=s(32897),g=s(12798),b=s(90809),y=s(99656),k=s(92280),v=s(72779),E=s.n(v),x=s(90766),w=s(56642),T=s(2784),N=s(35185),_=s(73557),j=s(38338),R=s(68774),A=s(52322);function I(e,n){const s=[];return Object.values(l.r).forEach((t=>{n?t.chain===n&&s.push({name:t.symbol,slug:t.slug,symbol:t.symbol,originChain:t.chain}):"ALL"!==e&&e!==t.support||s.push({name:t.symbol,slug:t.slug,symbol:t.symbol,originChain:t.chain})})),s}const S=(()=>{const e={};return Object.values(l.r).forEach((n=>{e[n.slug]="ETHEREUM"===n.support})),e})(),B=(0,j.ZP)((function({className:e}){var n;const s=(0,_.TH)().state,[v]=(0,T.useState)(null==s?void 0:s.symbol),j=v?null===(n=l.r[v])||void 0===n?void 0:n.slug:void 0,{accounts:B,currentAccount:C,isAllAccount:M}=(0,N.v9)((e=>e.accountState)),{chainInfoMap:Z}=(0,N.v9)((e=>e.chainStore)),V=(0,c.Z)(),[U]=(0,T.useState)(null==C?void 0:C.address),{t:O}=(0,u.Z)(),{goBack:L}=(0,d.Z)(),[H]=g.Z.useForm(),K={address:M?"":(null==C?void 0:C.address)||"",tokenKey:j||"",service:"transak"},F=g.Z.useWatch("address",H),G=g.Z.useWatch("tokenKey",H),D=g.Z.useWatch("service",H),W=F?(0,m.lx)(F):"",P=(0,T.useMemo)((()=>{const e=(0,p.Jd)(B,F);var n;if(null!=e&&e.originGenesisHash)return null===(n=(0,f.E_)(Z,e.originGenesisHash))||void 0===n?void 0:n.slug}),[B,Z,F]);(0,T.useEffect)((()=>{G&&V(G)}),[V,G]);const X=(0,T.useMemo)((()=>j?I("ALL",P):W?I(W,P):[]),[W,j,P]),z=(0,T.useCallback)((()=>{const{address:e,service:n,tokenKey:s}=H.getFieldsValue();if("transak"===n){var t;const n=l.V[G];if(!n)return;const{chain:o,symbol:a,transakNetwork:r}=n,i=null===(t=Z[o].substrateInfo)||void 0===t?void 0:t.addressPrefix,c={apiKey:"4b3bfb00-7f7c-44b3-844f-d4504f1065be",defaultCryptoCurrency:a,networks:r,cryptoCurrencyList:a,walletAddress:S[s]?e:(0,h.Z)(e,void 0===i?-1:i)},u=w.stringify(c);(0,p.YQ)(`https://global.transak.com?${u}`)()}}),[H,G,Z]),Y=(0,T.useMemo)((()=>{if("transak"===D&&F&&G){const e=l.V[G],n=(0,m.lx)(F);return e&&e.support===n&&X.find((e=>e.slug===G))}return!1}),[D,F,G,X]);(0,T.useEffect)((()=>{U!==(null==C?void 0:C.address)&&L()}),[null==C?void 0:C.address,U,L]),(0,T.useEffect)((()=>{if(!j&&X.length){const{tokenKey:e}=H.getFieldsValue();e&&X.some((n=>n.slug===e))||H.setFieldsValue({tokenKey:X[0].slug})}}),[X,j,H]);const J=(0,T.useCallback)((e=>!(0,t.W_)(e.address)&&(!j||(S[j]?(0,R.u)(e.address):!(0,R.u)(e.address)))),[j]);return(0,A.jsx)(o.Ar.Home,{showFilterIcon:!0,showTabBar:!1,children:(0,A.jsxs)(o.FE,{className:E()(e,"transaction-wrapper"),children:[(0,A.jsx)(b.Z,{background:"transparent",center:!0,className:"transaction-header",onBack:L,paddingVertical:!0,showBackButton:!0,title:O("Buy tokens")}),(0,A.jsxs)("div",{className:"__scroll-container",children:[(0,A.jsx)("div",{className:"__buy-icon-wrapper",children:(0,A.jsx)(y.Z,{className:"__buy-icon",phosphorIcon:x.Z,weight:"fill"})}),(0,A.jsxs)(g.Z,{className:"__form-container form-space-sm",form:H,initialValues:K,children:[(0,A.jsx)(g.Z.Item,{className:E()({hidden:!M}),name:"address",children:(0,A.jsx)(a.p,{disabled:!M,filter:J,label:O("Select account")})}),(0,A.jsxs)("div",{className:"form-row",children:[(0,A.jsx)(g.Z.Item,{name:"tokenKey",children:(0,A.jsx)(i.k,{disabled:!!j||!X.length,items:X,showChainInSelected:!1})}),(0,A.jsx)(g.Z.Item,{name:"service",children:(0,A.jsx)(r.m,{})})]})]}),(0,A.jsx)("div",{className:"common-text __note",children:O("You will be taken to independent provider to complete this transaction")})]}),(0,A.jsx)("div",{className:"__layout-footer",children:(0,A.jsx)(k.Z,{disabled:!Y,icon:(0,A.jsx)(y.Z,{phosphorIcon:x.Z,weight:"fill"}),onClick:z,children:O("Buy now")})})]})})})).withConfig({displayName:"BuyTokens",componentId:"sc-mzp0st-0"})((({theme:{token:e}})=>({display:"flex",flexDirection:"column",".__scroll-container":{flex:1,overflow:"auto",paddingLeft:e.padding,paddingRight:e.padding},".__buy-icon-wrapper":{position:"relative",width:112,height:112,display:"flex",justifyContent:"center",alignItems:"center",marginLeft:"auto",marginRight:"auto",marginTop:e.margin,marginBottom:e.marginLG,"&:before":{content:'""',backgroundColor:e.colorSuccess,inset:0,position:"absolute",display:"block",borderRadius:"100%",opacity:"0.1"}},".__buy-icon":{fontSize:64,color:e.colorSuccess},".__note":{paddingTop:e.paddingXXS,paddingBottom:e.padding,color:e.colorTextLight5,textAlign:"center"},".__layout-footer":{display:"flex",padding:e.paddingMD,paddingBottom:e.paddingLG,gap:e.paddingXS,".ant-btn":{flex:1},".full-width":{minWidth:"100%"}}})))},71846:(e,n,s)=>{s.d(n,{V:()=>o,r:()=>t});const t={DOT:{transakNetwork:"mainnet",chain:"polkadot",slug:"polkadot-NATIVE-DOT",symbol:"DOT",support:"SUBSTRATE"},KSM:{transakNetwork:"mainnet",chain:"kusama",slug:"kusama-NATIVE-KSM",symbol:"KSM",support:"SUBSTRATE"},ASTR:{transakNetwork:"astar",chain:"astar",slug:"astar-NATIVE-ASTR",symbol:"ASTR",support:"SUBSTRATE"},GLMR:{transakNetwork:"mainnet",chain:"moonbeam",slug:"moonbeam-NATIVE-GLMR",symbol:"GLMR",support:"ETHEREUM"},MOVR:{transakNetwork:"moonriver",chain:"moonriver",slug:"moonriver-NATIVE-MOVR",symbol:"MOVR",support:"ETHEREUM"},ETH:{transakNetwork:"ethereum",chain:"ethereum",slug:"ethereum-NATIVE-ETH",symbol:"ETH",support:"ETHEREUM"},BNB:{transakNetwork:"bsc",chain:"binance",slug:"binance-NATIVE-BNB",symbol:"BNB",support:"ETHEREUM"}},o=Object.fromEntries(Object.values(t).map((e=>[e.slug,e])))},92808:e=>{function n(e,n){return Object.prototype.hasOwnProperty.call(e,n)}e.exports=function(e,s,t,o){s=s||"&",t=t||"=";var a={};if("string"!=typeof e||0===e.length)return a;var r=/\+/g;e=e.split(s);var i=1e3;o&&"number"==typeof o.maxKeys&&(i=o.maxKeys);var l=e.length;i>0&&l>i&&(l=i);for(var c=0;c<l;++c){var u,d,p,m,h=e[c].replace(r,"%20"),f=h.indexOf(t);f>=0?(u=h.substr(0,f),d=h.substr(f+1)):(u=h,d=""),p=decodeURIComponent(u),m=decodeURIComponent(d),n(a,p)?Array.isArray(a[p])?a[p].push(m):a[p]=[a[p],m]:a[p]=m}return a}},31368:e=>{var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,s,t,o){return s=s||"&",t=t||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(o){var a=encodeURIComponent(n(o))+t;return Array.isArray(e[o])?e[o].map((function(e){return a+encodeURIComponent(n(e))})).join(s):a+encodeURIComponent(n(e[o]))})).filter(Boolean).join(s):o?encodeURIComponent(n(o))+t+encodeURIComponent(n(e)):""}},56642:(e,n,s)=>{n.decode=n.parse=s(92808),n.encode=n.stringify=s(31368)}}]);