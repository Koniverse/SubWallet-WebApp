"use strict";(("undefined"!=typeof self?self:this).webpackChunk_subwallet_web_runner=("undefined"!=typeof self?self:this).webpackChunk_subwallet_web_runner||[]).push([[8615],{38615:(e,n,t)=>{t.r(n),t.d(n,{default:()=>W});var o,r=t(25601),s=t(48118),i=t(3612),a=t(33283),l=t(92936),c=t(95798),d=t(12798),p=t(99656),u=t(90809),m=t(95023),h=t(25356),k=t(92280),f=t(72779),g=t.n(f),w=t(21218),y=t(15322),j=t(2784),x=t(73557),S=t(38338),L=t(52322);!function(e){e.PASSWORD="password",e.OLD_PASSWORD="old_password",e.CONFIRM_PASSWORD="confirm_password"}(o||(o={}));const W=(0,S.ZP)((({className:e})=>{const{t:n}=(0,a.$G)(),t=(0,x.s0)(),{goHome:f}=(0,a.yu)(),{isWebUI:S}=(0,j.useContext)(i.sG),[W]=d.Z.useForm(),[A,b]=(0,j.useState)(!0),[Z,O]=(0,j.useState)(""),[C,D]=(0,j.useState)(!1),H=(0,j.useMemo)((()=>(0,c.tK)(n("New password"),n)),[n]),E=(0,j.useMemo)((()=>(0,c._B)(o.PASSWORD,n)),[n]),_=(0,j.useCallback)((()=>{t("/settings/security")}),[t]),P=(0,j.useCallback)((e=>{const n=e[o.PASSWORD],t=e[o.OLD_PASSWORD];n&&t&&(D(!0),setTimeout((()=>{(0,l.jS)({createNew:!1,newPassword:n,oldPassword:t}).then((e=>{null!=e&&e.status?f():W.setFields([{name:o.OLD_PASSWORD,errors:e.errors}])})).catch((e=>{W.setFields([{name:o.OLD_PASSWORD,errors:[e.message]}])})).finally((()=>{D(!1)}))}),1e3))}),[W,f]),R=(0,j.useCallback)(((e,n)=>{const{empty:t,error:o}=(0,c.ij)(n);O(""),b(o||t)}),[]),F=(0,j.useCallback)((()=>{W.resetFields([o.CONFIRM_PASSWORD])}),[W]);return(0,a.uy)(W,o.OLD_PASSWORD),(0,L.jsx)(r.FE,{className:g()(e),children:(0,L.jsxs)(r.Ar.WithSubHeaderOnly,{onBack:_,rightFooterButton:{children:n("Save"),onClick:W.submit,loading:C,disabled:A,icon:(0,L.jsx)(p.Z,{phosphorIcon:w.Z,weight:"fill"})},subHeaderIcons:[{icon:(0,L.jsx)(r.Tw,{}),onClick:f}],title:n("Change password"),withSideMenu:!0,children:[S&&(0,L.jsx)(u.Z,{background:"transparent",center:!1,onBack:_,showBackButton:!0,title:n("Change password")}),(0,L.jsxs)("div",{className:g()("body-container",{"__web-ui":S}),children:[!S&&(0,L.jsxs)("div",{children:[(0,L.jsx)("div",{className:"page-icon",children:(0,L.jsx)(m.Z,{color:"var(--page-icon-color)",iconProps:{weight:"fill",phosphorIcon:y.Z}})}),(0,L.jsx)("div",{className:"title",children:n("Change your password")})]}),(0,L.jsxs)("div",{className:"form-container",children:[(0,L.jsx)(r.e3,{description:n("Recommended security practice"),title:n("Always choose a strong password!"),type:"warning"}),(0,L.jsxs)(d.Z,{form:W,initialValues:{[o.OLD_PASSWORD]:"",[o.PASSWORD]:"",[o.CONFIRM_PASSWORD]:""},name:"change-password-form",onFieldsChange:R,onFinish:P,children:[(0,L.jsx)(d.Z.Item,{name:o.OLD_PASSWORD,rules:[{message:"Password is required",required:!0}],statusHelpAsTooltip:!0,children:(0,L.jsx)(h.Z,{disabled:C,placeholder:n("Current password"),type:"password"})}),(0,L.jsx)(d.Z.Item,{name:o.PASSWORD,rules:H,statusHelpAsTooltip:!0,children:(0,L.jsx)(h.Z,{disabled:C,onChange:F,placeholder:n("New password"),type:"password"})}),(0,L.jsx)(d.Z.Item,{name:o.CONFIRM_PASSWORD,rules:E,statusHelpAsTooltip:!0,children:(0,L.jsx)(h.Z,{disabled:C,placeholder:n("Confirm new password"),type:"password"})}),Z&&(0,L.jsx)(d.Z.Item,{help:Z,validateStatus:Z&&"error"}),S&&(0,L.jsx)(k.Z,{disabled:A,icon:(0,L.jsx)(p.Z,{phosphorIcon:w.Z,weight:"fill"}),loading:C,onClick:W.submit,children:n("Save")})]})]}),S&&(0,L.jsx)("div",{className:"instruction-container",children:(0,L.jsx)(s.Z,{contents:[{title:"Why do I need to enter a password?",description:"For your wallet protection, SubWallet locks your wallet after 15 minutes of inactivity. You will need this password to unlock it.",type:"warning"},{title:"Can I recover a password?",description:"The password is stored securely on your device. We will not be able to recover it for you, so make sure you remember it!",type:"warning"}]})})]})]})})})).withConfig({displayName:"ChangePassword",componentId:"sc-ge77kh-0"})((({theme:{token:e}})=>({".body-container":{padding:`0 ${e.padding}px`,textAlign:"center","&.__web-ui":{padding:`${e.padding+24}px ${e.padding}px ${e.padding}px`,maxWidth:"70%",display:"flex",margin:"0 auto",gap:16,".form-container":{display:"flex",flexDirection:"column",gap:16,".ant-btn":{width:"100%"}},"& > *":{flex:1}},".page-icon":{display:"flex",justifyContent:"center",marginTop:e.margin,"--page-icon-color":e.colorSecondary},".title":{marginTop:e.margin,marginBottom:2*e.margin,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeHeading3,lineHeight:e.lineHeightHeading3,color:e.colorTextBase}}})))},48118:(e,n,t)=>{t.d(n,{Z:()=>c});var o=t(25601),r=t(72779),s=t.n(r),i=t(21427),a=t(38338),l=t(52322);const c=(0,a.ZP)((({className:e,contents:n})=>{const{t}=(0,i.$)();return n.length<=0?(0,l.jsx)(l.Fragment,{}):(0,l.jsx)("div",{className:s()("instruction-container",e),children:n.map(((e,n)=>(0,l.jsx)(o.e3,{description:"string"==typeof e.description?t(e.description):e.description,title:t(e.title),type:e.type||"warning"})))})})).withConfig({displayName:"InstructionContainer",componentId:"sc-1tjn6f7-0"})((({theme:{token:e}})=>({display:"flex",flexDirection:"column",gap:10})))},21218:(e,n,t)=>{t.d(n,{Z:()=>c});var o=t(2784),r=t(21890),s=t(76712),i=new Map;i.set("bold",(function(e){return o.createElement(o.Fragment,null,o.createElement("path",{d:"M40,91.3V208a8,8,0,0,0,8,8H208a8,8,0,0,0,8-8V48a8,8,0,0,0-8-8H91.3a7.9,7.9,0,0,0-5.6,2.3L42.3,85.7A7.9,7.9,0,0,0,40,91.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),o.createElement("circle",{cx:"128",cy:"148",r:"28",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),o.createElement("polyline",{points:"104 80 160 80 160 40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))})),i.set("duotone",(function(e){return o.createElement(o.Fragment,null,o.createElement("path",{d:"M208,40H91.3a7.9,7.9,0,0,0-5.6,2.3L42.3,85.7A7.9,7.9,0,0,0,40,91.3V208a8,8,0,0,0,8,8H208a8,8,0,0,0,8-8V48A8,8,0,0,0,208,40ZM128,176a28,28,0,1,1,28-28A28,28,0,0,1,128,176Z",opacity:"0.2"}),o.createElement("path",{d:"M40,91.3V208a8,8,0,0,0,8,8H208a8,8,0,0,0,8-8V48a8,8,0,0,0-8-8H91.3a7.9,7.9,0,0,0-5.6,2.3L42.3,85.7A7.9,7.9,0,0,0,40,91.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),o.createElement("circle",{cx:"128",cy:"148",r:"28",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),o.createElement("polyline",{points:"96 80 160 80 160 40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))})),i.set("fill",(function(){return o.createElement(o.Fragment,null,o.createElement("path",{d:"M208,32H172a4,4,0,0,0-4,4V80a8,8,0,0,1-8,8H96.3A8.2,8.2,0,0,1,88,80.5,8,8,0,0,1,96,72h56V36a4,4,0,0,0-4-4H91.3A15.9,15.9,0,0,0,80,36.7L36.7,80A15.9,15.9,0,0,0,32,91.3V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32ZM128,176a28,28,0,1,1,28-28A28.1,28.1,0,0,1,128,176Z"}))})),i.set("light",(function(e){return o.createElement(o.Fragment,null,o.createElement("path",{d:"M40,91.3V208a8,8,0,0,0,8,8H208a8,8,0,0,0,8-8V48a8,8,0,0,0-8-8H91.3a7.9,7.9,0,0,0-5.6,2.3L42.3,85.7A7.9,7.9,0,0,0,40,91.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),o.createElement("circle",{cx:"128",cy:"148",r:"28",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),o.createElement("polyline",{points:"96 80 160 80 160 40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))})),i.set("thin",(function(e){return o.createElement(o.Fragment,null,o.createElement("path",{d:"M40,91.3V208a8,8,0,0,0,8,8H208a8,8,0,0,0,8-8V48a8,8,0,0,0-8-8H91.3a7.9,7.9,0,0,0-5.6,2.3L42.3,85.7A7.9,7.9,0,0,0,40,91.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),o.createElement("circle",{cx:"128",cy:"148",r:"28",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),o.createElement("polyline",{points:"96 80 160 80 160 40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))})),i.set("regular",(function(e){return o.createElement(o.Fragment,null,o.createElement("path",{d:"M40,91.3V208a8,8,0,0,0,8,8H208a8,8,0,0,0,8-8V48a8,8,0,0,0-8-8H91.3a7.9,7.9,0,0,0-5.6,2.3L42.3,85.7A7.9,7.9,0,0,0,40,91.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),o.createElement("circle",{cx:"128",cy:"148",r:"28",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),o.createElement("polyline",{points:"96 80 160 80 160 40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}));var a=function(e,n){return(0,r._)(e,n,i)},l=(0,o.forwardRef)((function(e,n){return o.createElement(s.Z,Object.assign({ref:n},e,{renderPath:a}))}));l.displayName="FloppyDiskBack";const c=l}}]);