"use strict";(("undefined"!=typeof self?self:this).webpackChunk_subwallet_web_runner=("undefined"!=typeof self?self:this).webpackChunk_subwallet_web_runner||[]).push([[3738],{13738:(e,t,n)=>{n.r(t),n.d(t,{TransactionContext:()=>S,default:()=>k});var a=n(9661),s=n(18906),r=n(11637),o=n(87574),c=n(75576),i=n(33283),d=n(12162),l=n(90809),u=n(72779),h=n.n(u),p=n(2784),m=n(35185),g=n(73557),f=n(38338),w=n(68774),A=n(52322);const S=p.createContext({transactionType:a.Vv.TRANSFER_BALANCE,from:"",setFrom:e=>{},chain:"",setChain:e=>{},asset:"",setAsset:e=>{},onDone:e=>{},onClickRightBtn:()=>{},setShowRightBtn:e=>{},setDisabledRightBtn:e=>{}}),k=(0,f.ZP)((function({className:e}){const{t}=(0,i.$G)(),n=(0,g.TH)(),u=(0,g.s0)(),{activeModal:f}=(0,p.useContext)(d.t),k=(0,p.useContext)(c.R0),{currentAccount:x,isAllAccount:N}=(0,m.v9)((e=>e.accountState)),C=(0,p.useMemo)((()=>{switch(n.pathname.split("/")[2]||""){case"stake":return a.Vv.STAKING_JOIN_POOL;case"unstake":return a.Vv.STAKING_LEAVE_POOL;case"cancel-unstake":return a.Vv.STAKING_CANCEL_UNSTAKE;case"claim-reward":return a.Vv.STAKING_CLAIM_REWARD;case"withdraw":return a.Vv.STAKING_WITHDRAW;case"compound":return a.Vv.STAKING_COMPOUNDING;case"send-nft":return a.Vv.SEND_NFT;default:return a.Vv.TRANSFER_BALANCE}}),[n.pathname]),_=(0,p.useMemo)((()=>{switch(n.pathname.split("/")[2]||""){case"stake":case"unstake":case"cancel-unstake":case"claim-reward":case"withdraw":case"compound":return"/home/staking";case"send-nft":return"/home/nfts/collections";default:return"/home/tokens"}}),[n.pathname]),v=(0,p.useMemo)((()=>{const e={};for(const[n,a]of Object.entries(o.mG))e[n]=t(a);return e}),[t]);(0,i.qg)(_);const[b,T]=(0,p.useState)(N?"":(null==x?void 0:x.address)||""),[R,B]=(0,p.useState)(""),[I,E]=(0,p.useState)(""),[O,V]=(0,p.useState)(!1),[D,G]=(0,p.useState)(!1),M=(0,i.xC)(),j=(0,p.useCallback)((()=>{u(_)}),[_,u]),L=(0,p.useCallback)((e=>{const t=(0,w.u)(b)?"ethereum":"substrate";u(`/transaction-done/${t}/${R}/${e}`,{replace:!0})}),[b,R,u]),y=(0,p.useCallback)((()=>{C===a.Vv.STAKING_JOIN_POOL&&f(r.p)}),[f,C]),K=(0,p.useMemo)((()=>O?[{disabled:D,icon:(0,A.jsx)(s.sz,{}),onClick:()=>y()}]:[]),[D,y,O]);return(0,p.useEffect)((()=>{""!==I&&M(I)}),[I,M]),(0,A.jsx)(s.Ar.Home,{showFilterIcon:!0,showTabBar:!1,children:(0,A.jsx)(S.Provider,{value:{transactionType:C,from:b,setFrom:T,chain:R,setChain:B,onDone:L,onClickRightBtn:y,setShowRightBtn:V,setDisabledRightBtn:G,asset:I,setAsset:E},children:(0,A.jsx)(s.FE,{resolve:k.awaitStores(["chainStore","assetRegistry","balance"]),children:(0,A.jsxs)("div",{className:h()(e,"transaction-wrapper"),children:[(0,A.jsx)(l.Z,{background:"transparent",center:!0,className:"transaction-header",onBack:j,rightButtons:K,showBackButton:!0,title:v[C]}),(0,A.jsx)(g.j3,{})]})})})})})).withConfig({displayName:"Transaction",componentId:"sc-1qz55vb-0"})((({theme:e})=>{const t=e.token;return{height:"100%",display:"flex",flexDirection:"column",".transaction-header":{paddingTop:t.paddingSM,paddingBottom:t.paddingSM,flexShrink:0},".transaction-content":{flex:"1 1 400px",paddingLeft:t.padding,paddingRight:t.padding,overflow:"auto"},".transaction-footer":{display:"flex",flexWrap:"wrap",padding:`${t.paddingMD}px ${t.padding}px ${t.padding}px`,marginBottom:t.padding,gap:t.paddingXS,".error-messages":{width:"100%",color:t.colorError},".warning-messages":{width:"100%",color:t.colorWarning},".ant-btn":{flex:1},".full-width":{minWidth:"100%"}}}}))}}]);