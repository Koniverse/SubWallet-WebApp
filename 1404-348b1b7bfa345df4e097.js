(("undefined"!=typeof self?self:this).webpackChunk_subwallet_web_runner=("undefined"!=typeof self?self:this).webpackChunk_subwallet_web_runner||[]).push([[1404],{1404:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>B});var o=n(53334),s=n(94716),r=n(80855),i=n(5769),a=n(67145),l=n(86041),c=n(18742),d=n(70497),u=n(47088),p=n(92936),h=n(99656),m=n(12798),f=n(90809),g=n(25356),x=n(1072),E=n(58094),k=n(19201),y=n(92280),v=n(64161),j=n(95023),b=n(72779),S=n.n(b),w=n(46782),L=n(75720),A=n(12029),R=n(54105),Z=n(47856),P=n(18332),N=n(11283),_=n(13739),H=n(2784),O=n(96217),I=n(73557),T=n(38338),C=n(68774),D=n(52322),F=function(e){return e.JSON_FILE="json-file",e.PRIVATE_KEY="private-key",e.QR_CODE="qr-code",e.SEED_PHRASE="seed-phrase",e}(F||{});const W={[F.JSON_FILE]:"Successful",[F.QR_CODE]:"Your QR code",[F.PRIVATE_KEY]:"Your private key",[F.SEED_PHRASE]:"Your recovery phrase"};var M=function(e){return e.PASSWORD="password",e.TYPES="types",e}(M||{});const V=(e,t)=>()=>{if(e){const n=new Blob([JSON.stringify(e)],{type:"application/json; charset=utf-8"});(0,w.saveAs)(n,`${t}.json`)}},Y=(0,D.jsx)(h.Z,{phosphorIcon:L.Z,weight:"fill"}),B=(0,T.ZP)((e=>{const{className:t,modalContent:n,accountAddress:b}=e,{t:w}=(0,O.$)(),T=(0,I.s0)(),{goHome:B}=(0,u.Z)(),{accountAddress:z}=(0,I.UO)(),K=(0,H.useMemo)((()=>b&&n?b:z),[b,z,n]),J=(0,l.Z)(K),[$]=m.Z.useForm(),[Q,U]=(0,H.useState)([]),q=Q.length<=1,[G,X]=(0,H.useState)(!0),[ee,te]=(0,H.useState)(!0),[ne,oe]=(0,H.useState)(!1),[se,re]=(0,H.useState)(""),[ie,ae]=(0,H.useState)(""),[le,ce]=(0,H.useState)(null),[de,ue]=(0,H.useState)(""),pe=(0,H.useMemo)((()=>{const e=["secret",se||"",ie];return null!=J&&J.name&&e.push(J.name),e.join(":")}),[null==J?void 0:J.name,ie,se]),he=(0,c.Z)(se),me=(0,H.useCallback)(((e,t)=>{const n=t.map((e=>e.errors||[])).reduce(((e,t)=>[...e,...t])).some((e=>!!e)),o=t.map((e=>e.value)).some((e=>!e));te(n||o)}),[]),fe=(0,H.useCallback)((e=>{const t=e[M.PASSWORD],n=e[M.TYPES],o=n.length<=1;if(!n.length)return;if(!J)return;const s=J.address;s&&(oe(!0),setTimeout((()=>{new Promise(((e,r)=>{const i={privateKey:!1,seedPhrase:!1,jsonFile:!1},a=()=>{Object.values(i).every((e=>e))&&e()};n.includes(F.PRIVATE_KEY)||n.includes(F.QR_CODE)?(0,p.T7)(s,t).then((e=>{re(e.privateKey),ae(e.publicKey),i.privateKey=!0,a()})).catch((e=>{r(new Error(e.message))})):i.privateKey=!0,n.includes(F.SEED_PHRASE)&&null!=J&&J.isMasterAccount?(0,p.dr)({address:s,password:t}).then((e=>{ue(e.result),i.seedPhrase=!0,a()})).catch((e=>{r(new Error(e.message))})):i.seedPhrase=!0,n.includes(F.JSON_FILE)?(0,p.ON)(s,t).then((e=>{ce(e.exportedJson),i.jsonFile=!0,a(),o&&V(e.exportedJson,s)()})).catch((e=>{r(new Error(e.message))})):i.jsonFile=!0})).then((()=>{X(!1)})).catch((e=>{$.setFields([{name:M.PASSWORD,errors:[e.message]}])})).finally((()=>{oe(!1)}))}),500))}),[J,$]),ge=(0,H.useCallback)((e=>()=>{const t=$.getFieldValue(M.TYPES);let n;n=t.includes(e)?t.filter((t=>t!==e)):[...t,e],$.setFieldValue(M.TYPES,n),U(n)}),[$]),xe=(0,H.useMemo)((()=>[{disable:!J||J.isExternal||!J.isMasterAccount,hidden:!1,icon:A.Z,label:"Export Seed Phrase",type:F.SEED_PHRASE},{disable:!J||!!J.isExternal,hidden:!1,icon:R.Z,label:"Export JSON file",type:F.JSON_FILE},{disable:!J||J.isExternal||!(0,C.u)(J.address),hidden:!(0,C.u)((null==J?void 0:J.address)||""),icon:Z.Z,label:"Export Private key",type:F.PRIVATE_KEY},{disable:!J||!(null==J||!J.isExternal),hidden:!1,icon:P.Z,label:"Export QR Code",type:F.QR_CODE}]),[J]),Ee=(0,H.useCallback)((()=>{T(K?`/accounts/detail/${K}`:a.Y)}),[K,T]);return(0,H.useEffect)((()=>{J||B()}),[J,B,T]),(0,H.useEffect)((()=>{null!=J&&J.address&&$.resetFields()}),[null==J?void 0:J.address,$]),(0,d.Z)($,M.PASSWORD),J?(0,D.jsx)(o.FE,{className:S()(t),children:(0,D.jsxs)(o.Ar.Base,{disableBack:ne,onBack:Ee,rightFooterButton:{children:w(G?"Confirm":"Finish"),icon:G?void 0:Y,disabled:ee||!Q.length,loading:ne,onClick:G?$.submit:B},subHeaderIcons:[{icon:(0,D.jsx)(r.Z,{}),onClick:B,disabled:ne}],title:w(G?"Export account":q?W[Q[0]]:"Export successful"),children:[!n&&(0,D.jsx)(f.Z,{background:"transparent",center:!0,className:"transaction-header",onBack:Ee,paddingVertical:!0,showBackButton:!0,title:w(G?"Export account":q?W[Q[0]]:"Export successful"),rightButtons:[{icon:(0,D.jsx)(r.Z,{}),onClick:B,disabled:ne}]}),(0,D.jsxs)("div",{className:"body-container",children:[(0,D.jsx)("div",{className:S()("notice",{"mb-large":!G}),children:(0,D.jsx)(s.Z,{description:w("Anyone with your  keys can steal any assets held in your account."),title:w("Warning: Never disclose this key"),type:"warning"})}),G&&(0,D.jsxs)(m.Z,{form:$,initialValues:{[M.PASSWORD]:"",[M.TYPES]:[]},name:"account-export-form",onFieldsChange:me,onFinish:fe,children:[(0,D.jsx)(m.Z.Item,{name:M.PASSWORD,rules:[{message:"Password is required",required:!0}],statusHelpAsTooltip:!0,children:(0,D.jsx)(g.Z,{disabled:ne,placeholder:w("Type your SubWallet password"),suffix:(0,D.jsx)("span",{}),type:"password"})}),(0,D.jsx)(m.Z.Item,{className:"mb-0",name:M.TYPES,children:(0,D.jsx)("div",{className:"export-types-container",children:xe.map((e=>{const t=null==Q?void 0:Q.includes(e.type);return e.hidden?null:(0,D.jsx)(x.Z,{className:S()("export-item",`export-${e.type}`,{selected:t,disabled:e.disable}),leftItemIcon:(0,D.jsx)(E.Z,{backgroundColor:"var(--icon-bg-color)",phosphorIcon:e.icon,size:"sm",weight:"fill"}),name:w(e.label),onPressItem:e.disable||ne?void 0:ge(e.type),rightItem:(0,D.jsx)(h.Z,{className:"setting-item-right-icon",iconColor:"var(--selected-icon-color)",phosphorIcon:L.Z,size:"sm",weight:"fill"})},e.type)}))})})]}),!G&&(0,D.jsxs)("div",{className:S()("result-container",{"export-single":q}),children:[Q.includes(F.PRIVATE_KEY)&&(0,D.jsxs)("div",{className:"result-content",children:[(0,D.jsx)("div",{className:"result-title",children:w(W[F.PRIVATE_KEY])}),(0,D.jsx)(k.Z,{className:"private-key-field",content:se,maxLine:10}),(0,D.jsx)(y.Z,{icon:(0,D.jsx)(h.Z,{phosphorIcon:N.Z}),onClick:he,type:"ghost",children:w("Copy to clipboard")})]}),Q.includes(F.SEED_PHRASE)&&(0,D.jsxs)("div",{className:"result-content",children:[(0,D.jsx)("div",{className:"result-title",children:w(W[F.SEED_PHRASE])}),(0,D.jsx)(i.Z,{seedPhrase:de})]}),Q.includes(F.QR_CODE)&&(0,D.jsxs)("div",{className:"result-content",children:[(0,D.jsx)("div",{className:"result-title",children:w(W[F.QR_CODE])}),(0,D.jsx)("div",{className:"qr-area",children:(0,D.jsx)(v.Z,{errorLevel:"Q",size:264,value:pe})})]}),Q.includes(F.JSON_FILE)&&le&&(0,D.jsxs)("div",{className:"result-content",children:[(0,D.jsx)("div",{className:"result-title",children:w("Your json file")}),q&&(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("div",{className:"page-icon",children:(0,D.jsx)(j.Z,{color:"var(--page-icon-color)",iconProps:{phosphorIcon:L.Z,weight:"fill"}})}),(0,D.jsx)("div",{className:"json-done-tile",children:w("Success!")}),(0,D.jsx)("div",{className:"json-done-description",children:w("You have successfully export JSON file for your accounts")})]}),!q&&(0,D.jsx)(x.Z,{className:"download-json",leftItemIcon:(0,D.jsx)(E.Z,{backgroundColor:"var(--icon-bg-color)",phosphorIcon:R.Z,size:"sm",weight:"fill"}),name:`${J.address}.json`,onPressItem:V(le,J.address),rightItem:(0,D.jsx)(h.Z,{className:"setting-item-right-icon",phosphorIcon:_.Z,size:"sm",weight:"fill"})})]})]})]})]})}):null})).withConfig({displayName:"AccountExport",componentId:"sc-nxcsoe-0"})((({theme:{token:e}})=>({".body-container":{padding:`0 ${e.padding}px`},".notice":{marginTop:e.margin,marginBottom:e.margin,"&.mb-large":{marginBottom:e.marginLG}},".export-types-container":{display:"flex",flexDirection:"column",gap:e.sizeXS},".export-item":{"--selected-icon-color":e["gray-4"],textAlign:"start","&.selected":{"--selected-icon-color":e.colorSecondary},"&.disabled":{opacity:.4,".ant-web3-block":{cursor:"not-allowed","&:hover":{backgroundColor:e["gray-1"]}}}},".setting-item-right-icon":{paddingRight:8},".download-json":{".ant-web3-block-middle-item":{overflow:"hidden",".ant-setting-item-name":{textOverflow:"ellipsis",width:"100%",overflow:"hidden",paddingRight:e.paddingXS}}},[`.export-${F.SEED_PHRASE}`]:{"--icon-bg-color":e["green-7"]},[`.export-${F.JSON_FILE}, .download-json`]:{"--icon-bg-color":e["orange-7"]},[`.export-${F.PRIVATE_KEY}`]:{"--icon-bg-color":e["gray-3"]},[`.export-${F.QR_CODE}`]:{"--icon-bg-color":e["geekblue-7"]},".result-container":{display:"flex",flexDirection:"column",gap:e.sizeLG},".result-content":{display:"flex",flexDirection:"column",gap:e.size,".result-title":{fontWeight:e.fontWeightStrong,fontSize:e.fontSizeHeading6,lineHeight:e.lineHeightHeading6,color:e.colorTextLabel,textTransform:"uppercase"},".private-key-field":{".ant-field-wrapper":{alignItems:"start",textAlign:"center"}},".qr-area":{display:"flex",flexDirection:"row",justifyContent:"center"}},".export-single":{".result-title":{display:"none"}},".page-icon":{display:"flex",justifyContent:"center","--page-icon-color":e.colorSecondary},".json-done-tile":{color:e.colorTextHeading,textAlign:"center",fontWeight:e.fontWeightStrong,fontSize:e.fontSizeHeading3,lineHeight:e.lineHeightHeading3},".json-done-description":{padding:`0 ${e.controlHeightLG-e.padding}px`,color:e.colorTextLabel,textAlign:"center",fontSize:e.fontSizeHeading5,lineHeight:e.lineHeightHeading5}})))},46782:function(e,t,n){var o,s;void 0===(s="function"==typeof(o=function(){"use strict";function t(e,t,n){var o=new XMLHttpRequest;o.open("GET",e),o.responseType="blob",o.onload=function(){a(o.response,t,n)},o.onerror=function(){console.error("could not download file")},o.send()}function o(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function s(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var r="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,i=r.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=r.saveAs||("object"!=typeof window||window!==r?function(){}:"download"in HTMLAnchorElement.prototype&&!i?function(e,n,i){var a=r.URL||r.webkitURL,l=document.createElement("a");n=n||e.name||"download",l.download=n,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?s(l):o(l.href)?t(e,n,i):s(l,l.target="_blank")):(l.href=a.createObjectURL(e),setTimeout((function(){a.revokeObjectURL(l.href)}),4e4),setTimeout((function(){s(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,r){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,r),n);else if(o(e))t(e,n,r);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout((function(){s(i)}))}}:function(e,n,o,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),"string"==typeof e)return t(e,n,o);var a="application/octet-stream"===e.type,l=/constructor/i.test(r.HTMLElement)||r.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||a&&l||i)&&"undefined"!=typeof FileReader){var d=new FileReader;d.onloadend=function(){var e=d.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=e:location=e,s=null},d.readAsDataURL(e)}else{var u=r.URL||r.webkitURL,p=u.createObjectURL(e);s?s.location=p:location.href=p,s=null,setTimeout((function(){u.revokeObjectURL(p)}),4e4)}});r.saveAs=a.saveAs=a,e.exports=a})?o.apply(t,[]):o)||(e.exports=s)},13739:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var o=n(2784),s=n(21890),r=n(76712),i=new Map;i.set("bold",(function(e){return o.createElement(o.Fragment,null,o.createElement("polyline",{points:"86 110 128 152 170 110",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),o.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"152",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),o.createElement("path",{d:"M216,152v56a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V152",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))})),i.set("duotone",(function(e){return o.createElement(o.Fragment,null,o.createElement("polyline",{points:"86 110 128 152 170 110",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),o.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"152",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),o.createElement("path",{d:"M216,152v56a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V152",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))})),i.set("fill",(function(){return o.createElement(o.Fragment,null,o.createElement("path",{d:"M80.3,115.7a8.2,8.2,0,0,1-1.7-8.7,8,8,0,0,1,7.4-5h34V40a8,8,0,0,1,16,0v62h34a8,8,0,0,1,7.4,5,8.2,8.2,0,0,1-1.7,8.7l-42,42a8.2,8.2,0,0,1-11.4,0ZM216,144a8,8,0,0,0-8,8v56H48V152a8,8,0,0,0-16,0v56a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V152A8,8,0,0,0,216,144Z"}))})),i.set("light",(function(e){return o.createElement(o.Fragment,null,o.createElement("polyline",{points:"86 110 128 152 170 110",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),o.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"152",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),o.createElement("path",{d:"M216,152v56a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V152",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))})),i.set("thin",(function(e){return o.createElement(o.Fragment,null,o.createElement("polyline",{points:"86 110 128 152 170 110",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),o.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"152",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),o.createElement("path",{d:"M216,152v56a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V152",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))})),i.set("regular",(function(e){return o.createElement(o.Fragment,null,o.createElement("polyline",{points:"86 110 128 152 170 110",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),o.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"152",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),o.createElement("path",{d:"M216,152v56a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V152",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}));var a=function(e,t){return(0,s._)(e,t,i)},l=(0,o.forwardRef)((function(e,t){return o.createElement(r.Z,Object.assign({ref:t},e,{renderPath:a}))}));l.displayName="DownloadSimple";const c=l}}]);