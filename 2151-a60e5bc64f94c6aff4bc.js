"use strict";(("undefined"!=typeof self?self:this).webpackChunk_subwallet_web_runner=("undefined"!=typeof self?self:this).webpackChunk_subwallet_web_runner||[]).push([[2151],{60241:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(63220),a=n(52322);const s=({columns:e,dataSource:t,onClick:n})=>(0,a.jsx)(o.Z,{rowKey:e=>e.slug,dataSource:t,columns:e,pagination:!1,onRow:(e,t)=>({onClick:()=>{n&&n(e)}})})},22151:(e,t,n)=>{n.r(t),n.d(t,{default:()=>R});var o=n(53334),a=n(64483),s=n(41803),r=n(26754),i=n(31343),l=n(75576),c=n(57190),u=n(3612),d=n(99828),p=n(43246),h=n(56547),g=n(25690),m=n(14993),x=n(92280),y=n(99656),f=n(4762),k=n(62982),b=n(90766),_=n(2784),v=n(38338),S=n(52322);const w=(0,v.ZP)((function({className:e="",isPriceDecrease:t,isShrink:n,onOpenBuyTokens:o,onOpenReceive:a,onOpenSendFund:s,totalChangePercent:r,totalChangeValue:i,totalValue:l}){return(0,S.jsxs)("div",{className:`tokens-upper-block ${e} ${n?"-shrink":""}`,children:[(0,S.jsx)(g.Z,{className:"__total-balance-value",decimal:0,decimalOpacity:.45,prefix:"$",size:38,subFloatNumber:!0,value:l}),!n&&(0,S.jsxs)("div",{className:"__balance-change-container",children:[(0,S.jsx)(g.Z,{className:"__balance-change-value",decimal:0,decimalOpacity:1,prefix:t?"- $":"+ $",value:i}),(0,S.jsx)(m.Z,{className:"__balance-change-percent "+(t?"-decrease":""),shape:"round",children:(0,S.jsx)(g.Z,{decimal:0,decimalOpacity:1,prefix:t?"-":"+",suffix:"%",value:r,weight:700})})]}),(0,S.jsxs)("div",{className:"__action-button-container",children:[(0,S.jsx)(x.Z,{icon:(0,S.jsx)(y.Z,{phosphorIcon:f.Z,size:n?"sm":"md",weight:"duotone"}),onClick:a,shape:"squircle",size:n?"xs":"sm"}),(0,S.jsx)("div",{className:"__button-space"}),(0,S.jsx)(x.Z,{icon:(0,S.jsx)(y.Z,{phosphorIcon:k.Z,size:n?"sm":"md",weight:"duotone"}),onClick:s,shape:"squircle",size:n?"xs":"sm"}),(0,S.jsx)("div",{className:"__button-space"}),(0,S.jsx)(x.Z,{icon:(0,S.jsx)(y.Z,{phosphorIcon:b.Z,size:n?"sm":"md",weight:"duotone"}),onClick:o,shape:"squircle",size:n?"xs":"sm"})]})]})})).withConfig({displayName:"UpperBlock",componentId:"sc-12e0a6v-0"})((({theme:{token:e}})=>({padding:"0px 8px 24px 8px",display:"flex",flexDirection:"column",".__total-balance-value":{textAlign:"center",padding:"0px 8px",lineHeight:e.lineHeightHeading1,fontSize:e.fontSizeHeading1,whiteSpace:"nowrap",overflow:"hidden",".ant-typography":{lineHeight:"inherit"}},".ant-btn":{transition:"width, height, padding 0s"},".__balance-change-container":{display:"flex",justifyContent:"center",alignItems:"flex-end",paddingTop:e.sizeSM,".ant-typography":{lineHeight:"inherit",color:"inherit !important",fontSize:"inherit !important"}},".__balance-change-value":{marginRight:e.sizeSM,lineHeight:e.lineHeight},".__balance-change-percent":{backgroundColor:e["cyan-6"],color:e["green-1"],marginInlineEnd:0,display:"flex","&.-decrease":{backgroundColor:e.colorError,color:e.colorTextLight1},".ant-number":{fontSize:e.fontSizeXS}},".__action-button-container":{display:"flex",justifyContent:"center",padding:"26px 8px 0 8px"},".__button-space":{width:e.size},"&.-shrink":{paddingBottom:32,flexDirection:"row",".__total-balance-value":{textAlign:"left",lineHeight:e.lineHeightHeading2,fontSize:e.fontSizeHeading2,flex:1,".ant-number-prefix, .ant-number-integer":{fontSize:"inherit !important"}},".__balance-change-container":{display:"none"},".__action-button-container":{paddingTop:0},".__button-space":{width:e.sizeXS}}})));var j=n(72779),C=n.n(j),z=n(75679),I=n(39359),Z=n(74711),T=n(35185),N=n(73557),B=n(60241);const $=()=>{const{t:e}=(0,p.Z)(),[t,n]=(0,_.useState)(!1),l=(0,N.s0)(),g=(0,_.useRef)(null),m=(0,_.useRef)(null),{accountBalance:{tokenGroupBalanceMap:f,totalBalanceInfo:k},tokenGroupStructure:{sortedTokenGroups:b}}=(0,_.useContext)(c.Q),v=(0,T.v9)((e=>e.accountState.currentAccount)),j=(0,N.bx)();(0,_.useEffect)((()=>{(null==j?void 0:j.setSearchPlaceholder)&&j.setSearchPlaceholder("Token name")}),[null==j?void 0:j.setSearchPlaceholder]);const Z=(0,d.Z)(),{accountSelectorItems:$,onOpenReceive:R,openSelectAccount:H,openSelectToken:P,selectedAccount:O,selectedNetwork:M,tokenSelectorItems:V}=(0,h.Z)(),{isWebUI:D}=(0,_.useContext)(u.sG),E=(0,_.useCallback)((e=>{const t=e.currentTarget.scrollTop;n(t>80?e=>{if(!e&&m.current&&g.current){const e=g.current.getBoundingClientRect();m.current.style.position="fixed",m.current.style.top=`${Math.floor(e.top)}px`,m.current.style.left=`${e.left}px`,m.current.style.right=`${e.right}px`,m.current.style.width=`${e.width}px`,m.current.style.opacity="0",m.current.style.paddingTop="0",setTimeout((()=>{m.current&&(m.current.style.opacity="1",m.current.style.paddingTop="32px")}),100)}return!0}:e=>(e&&m.current&&(m.current.style.position="absolute",m.current.style.top="0",m.current.style.left="0",m.current.style.right="0",m.current.style.width="100%",m.current.style.opacity="0",m.current.style.paddingTop="0",setTimeout((()=>{m.current&&(m.current.style.opacity="1",m.current.style.paddingTop="32px")}),100)),!1))}),[]),L=(0,_.useCallback)((()=>{var e;if(((null===(e=g.current)||void 0===e?void 0:e.scrollTop)||0)>80){if(m.current&&g.current){const e=g.current.getBoundingClientRect();m.current.style.top=`${Math.floor(e.top)}px`,m.current.style.left=`${e.left}px`,m.current.style.right=`${e.right}px`,m.current.style.width=`${e.width}px`}}else m.current&&(m.current.style.top="0",m.current.style.left="0",m.current.style.right="0",m.current.style.width="100%")}),[]),F="decrease"===k.change.status,A=(0,_.useCallback)((e=>{l(`/home/tokens/detail/${e.slug}`)}),[l]),G=(0,_.useCallback)((()=>{l("/settings/tokens/manage")}),[l]),X=(0,_.useCallback)((()=>{v&&v.isReadOnly?Z({message:e("The account you are using is read-only, you cannot send assets with it"),type:"info",duration:3}):l("/transaction/send-fund")}),[v,l,Z,e]),q=(0,_.useCallback)((()=>{l("/buy-tokens")}),[l]),K=(0,_.useMemo)((()=>{var e;const t=[],n=(null==j||null===(e=j.searchInput)||void 0===e?void 0:e.toLowerCase())||"";return b.forEach((e=>{f[e]&&t.push(f[e])})),t.filter((e=>e.symbol.toLowerCase().includes(n)))}),[b,f,null==j?void 0:j.searchInput]);return(0,_.useEffect)((()=>(window.addEventListener("resize",L),()=>{window.removeEventListener("resize",L)})),[L]),D?(0,S.jsx)(B.Z,{columns:[{title:"Token name",dataIndex:"name",key:"name",render:(e,t)=>(0,S.jsx)(o.J9,{logoKey:t.logoKey,symbol:t.symbol,chainDisplayName:t.chainDisplayName||"",chain:t.chain,slug:t.slug})},{title:"Portfolio %",dataIndex:"percentage",key:"percentage",render:()=>(0,S.jsx)(S.Fragment,{children:"85%"})},{title:"Price",dataIndex:"price",key:"price",render:(e,t)=>(0,S.jsx)(o.GI,{value:t.priceValue,priceChangeStatus:t.priceChangeStatus,pastValue:t.price24hValue})},{title:"Balance",dataIndex:"balance",key:"balance",render:(e,t)=>(0,S.jsx)(o.F5,{value:t.total.value,convertedValue:t.total.convertedValue,symbol:t.symbol})}],dataSource:K,onClick:A}):(0,S.jsxs)("div",{className:"tokens-screen-container",onScroll:E,ref:g,children:[(0,S.jsx)("div",{className:C()("__upper-block-wrapper",{"-is-shrink":t,"-decrease":F}),ref:m,children:(0,S.jsx)(w,{isPriceDecrease:F,isShrink:t,onOpenBuyTokens:q,onOpenReceive:R,onOpenSendFund:X,totalChangePercent:k.change.percent,totalChangeValue:k.change.value,totalValue:k.convertedValue})}),(0,S.jsxs)("div",{className:"__scroll-container",children:[K.map((e=>(0,S.jsx)(i.b,{...e,onPressItem:()=>A(e)},e.slug))),!K.length&&(0,S.jsx)(o.rf,{className:"__empty-list",emptyMessage:e("Add tokens to get started."),emptyTitle:e("No tokens found"),phosphorIcon:z.Z}),(0,S.jsx)("div",{className:"__scroll-footer",children:(0,S.jsx)(x.Z,{icon:(0,S.jsx)(y.Z,{phosphorIcon:I.Z}),onClick:G,size:"xs",type:"ghost",children:e("Manage token list")})})]}),(0,S.jsx)(a.C,{items:$,onSelectItem:H}),(0,S.jsx)(r.F,{address:O,items:V,onSelectItem:P}),(0,S.jsx)(s.Z,{address:O,selectedNetwork:M})]})},R=(0,v.ZP)((({className:e="",searchInput:t})=>{const n=(0,_.useContext)(l.R0),{t:a}=(0,p.Z)();return(0,S.jsxs)(o.FE,{className:`tokens ${e}`,resolve:n.awaitStores(["price","chainStore","assetRegistry","balance"]),children:[(0,S.jsx)($,{}),(0,S.jsx)(x.Z,{type:"ghost",icon:(0,S.jsx)(y.Z,{phosphorIcon:Z.Z,size:"xs"}),onClick:()=>{},children:a("Import "),block:!0})]})})).withConfig({displayName:"Tokens",componentId:"sc-xas0kf-0"})((({theme:{extendToken:e,token:t}})=>({overflow:"hidden",".__empty-list":{marginTop:t.marginSM,marginBottom:t.marginSM},".tokens-screen-container":{height:"100%",color:t.colorTextLight1,fontSize:t.fontSizeLG,position:"relative",display:"flex",flexDirection:"column",overflowY:"auto",overflowX:"hidden",paddingTop:210},".__scroll-container":{paddingLeft:t.size,paddingRight:t.size},".__upper-block-wrapper":{backgroundColor:t.colorBgDefault,position:"absolute",paddingTop:"32px",height:210,zIndex:10,top:0,left:0,width:"100%",display:"flex",alignItems:"center",backgroundImage:e.tokensScreenSuccessBackgroundColor,transition:"opacity, padding-top 0.27s ease","&.-is-shrink":{height:104},"&.-decrease":{backgroundImage:e.tokensScreenDangerBackgroundColor}},".tokens-upper-block":{flex:1},".__scroll-footer":{display:"flex",justifyContent:"center",marginBottom:t.size},".token-group-balance-item":{marginBottom:t.sizeXS},".__upper-block-wrapper.-is-shrink":{".__static-block":{display:"none"},".__scrolling-block":{display:"flex"}}})))}}]);