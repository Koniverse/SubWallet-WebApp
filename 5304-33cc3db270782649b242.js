"use strict";(("undefined"!=typeof self?self:this).webpackChunk_subwallet_web_runner=("undefined"!=typeof self?self:this).webpackChunk_subwallet_web_runner||[]).push([[5304,7043],{15304:(e,t,n)=>{n.r(t),n.d(t,{default:()=>P});var i=n(53334),o=n(75576),r=n(33283),l=n(99828),a=n(43246),s=n(47088),c=n(71871),d=n(51952),m=n(16678),_=n(48685),f=n(99656),h=n(12162),u=n(88976),p=n(92280),x=n(19201),g=n(80039),k=n(58094),j=n(40194),b=n(14546),w=n(72779),y=n.n(w),v=n(28394),C=n(78166),I=n(62982),L=n(2784),S=n(35185),Z=n(73557),N=n(38338),E=n(68774),W=n(89335),T=n(3612),F=n(55446),z=n(17043),D=n(52322);const H="transfer-nft-modal",B=(0,D.jsx)(f.Z,{customSize:"24px",phosphorIcon:v.Z,type:"phosphor",weight:"light"}),P=(0,N.ZP)((function({className:e=""}){var t;const n=(0,Z.TH)(),{collectionInfo:w,nftItem:v}=n.state,P=(0,Z.bx)(),{isWebUI:R}=(0,L.useContext)(T.sG),{t:M}=(0,a.Z)(),A=(0,l.Z)(),X=(0,Z.s0)(),{goBack:G}=(0,s.Z)(),{token:U}=(0,N.Fg)(),$=(0,L.useContext)(o.R0),{activeModal:O,inactiveModal:V}=(0,L.useContext)(h.t),q=(0,S.v9)((e=>e.accountState.accounts)),K=(0,c.Z)(v.chain),J=(0,d.Z)(v.owner||""),Y=(0,m.Z)(v.chain,v.owner);(0,r.qg)("/home/nfts/collections");const Q=(0,L.useCallback)((()=>{if(v&&v.owner){const e=(0,_.Z)(v.owner,42),t=q.find((t=>t.address===e));if(null!=t&&t.isReadOnly)return void A({message:M("The NFT owner is a read-only account, you cannot send the NFT with it"),type:"info",duration:3})}R?O(H):X(`/transaction/send-nft/${v.owner}/${v.chain}/${v.collectionId}/${v.id}`)}),[q,X,v,R,O,A,M]),ee=[{children:M("Send"),onClick:Q}],te=(0,L.useCallback)((()=>{if(v.owner){var e;const t=(0,E.u)(v.owner)?"ethereum":"polkadot";return(0,D.jsx)(j.Z,{identPrefix:null===(e=K.substrateInfo)||void 0===e?void 0:e.addressPrefix,size:U.fontSizeXL,theme:t,value:v.owner})}return(0,D.jsx)("div",{})}),[v.owner,null===(t=K.substrateInfo)||void 0===t?void 0:t.addressPrefix,U.fontSizeXL]),ne=(0,L.useCallback)((()=>(0,D.jsx)(u.Z,{height:U.fontSizeXL,shape:"circle",src:W.ZP[v.chain],width:U.fontSizeXL})),[v.chain,U.fontSizeXL]),ie=(0,L.useCallback)((()=>(0,D.jsxs)("span",{children:[(0,D.jsx)("span",{children:null==J?void 0:J.name})," ",(0,D.jsxs)("span",{className:"nft_item_detail__owner_address",children:["(",`${null==v?void 0:v.owner.slice(0,4)}...${null==v?void 0:v.owner.slice(-4)}`,")"]})]})),[null==v?void 0:v.owner,null==J?void 0:J.name]),oe=(0,L.useCallback)((()=>{try{chrome.tabs.create({url:Y,active:!0}).then((()=>console.log("redirecting")))}catch(e){console.log("error redirecting to a new tab")}}),[Y]),re=(0,L.useCallback)((()=>{try{chrome.tabs.create({url:v.externalUrl,active:!0}).then((()=>console.log("redirecting")))}catch(e){console.log("error redirecting to a new tab")}}),[v.externalUrl]),le=(0,L.useCallback)((e=>(0,D.jsx)("div",{className:"nft_item_detail__external_icon",onClick:"account"===e?oe:re,children:(0,D.jsx)(f.Z,{customSize:"20px",phosphorIcon:C.Z,type:"phosphor",weight:"light"})})),[oe,re]),ae=(0,L.useCallback)((()=>{null!=v&&v.description&&v.description.length>70&&O("nftItemDescription")}),[O,v.description]),se=(0,L.useCallback)((()=>{V("nftItemDescription")}),[V]),ce=(0,L.useCallback)((()=>{v.externalUrl&&chrome.tabs.create({url:v.externalUrl,active:!0}).then((()=>console.log("redirecting"))).catch(console.error)}),[v.externalUrl]);return(0,L.useEffect)((()=>{null==P||P.setDetailTitle(v.name||v.id)}),[v,P]),(0,D.jsx)(i.FE,{className:`${e}`,resolve:$.awaitStores(["nft","accountState","chainStore"]),children:(0,D.jsxs)(i.Ar.Base,{...!R&&{onBack:G,showBackButton:!0,showSubHeader:!0,subHeaderBackground:"transparent",subHeaderCenter:!1,subHeaderIcons:ee,subHeaderPaddingVertical:!0,title:v.name||v.id},children:[(0,D.jsxs)("div",{className:y()("nft_item_detail__container",{"__web-ui":R}),children:[(0,D.jsxs)("div",{className:"nft_item_detail__nft_image",children:[(0,D.jsx)(u.Z,{className:y()({clickable:v.externalUrl}),height:358,onClick:ce,src:v.image}),R&&(0,D.jsx)(p.Z,{block:!0,icon:(0,D.jsx)(f.Z,{phosphorIcon:I.Z,type:"phosphor",weight:"fill"}),onClick:Q,children:(0,D.jsx)("span",{className:"nft_item_detail__send_text",children:"Send"})})]}),(0,D.jsxs)("div",{className:"nft_item_detail_field_container",children:[(0,D.jsxs)("div",{className:"nft_item_detail__info_container",children:[!R&&(0,D.jsx)("div",{className:"nft_item_detail__section_title",children:M("NFT information")}),v.description&&(0,D.jsxs)("div",{className:"nft_item_detail__description_container",onClick:ae,style:{cursor:v.description.length>70?"pointer":"auto"},children:[(0,D.jsx)("div",{className:"nft_item_detail__description_content",children:v.description.length>70?`${v.description.slice(0,70)}...`:v.description}),(0,D.jsxs)("div",{className:"nft_item_detail__description_title",children:[(0,D.jsx)(f.Z,{iconColor:U.colorIcon,phosphorIcon:C.Z,type:"phosphor",weight:"fill"}),(0,D.jsx)("div",{children:M("Description")})]})]}),(0,D.jsxs)("div",{className:"nft_item_detail__info_field_container",children:[(0,D.jsx)(x.Z,{content:w.collectionName||w.collectionId,label:M("NFT collection name"),suffix:v.externalUrl&&le("collection")}),(0,D.jsx)(x.Z,{content:ie(),label:M("Owned by"),prefix:v.owner&&te(),suffix:le("account")}),R&&(0,D.jsx)(x.Z,{content:"created by...",label:M("Created By"),prefix:v.owner&&te(),suffix:le("account")}),(0,D.jsx)(x.Z,{content:K.name,label:M("Chain"),prefix:ne()})]})]}),v.properties&&v.properties.length>0&&(0,D.jsxs)("div",{className:"nft_item_detail__prop_section",children:[(0,D.jsx)("div",{className:"nft_item_detail__section_title",children:M("Properties")}),(0,D.jsx)("div",{className:"nft_item_detail__atts_container",children:Object.entries(v.properties).map((([e,t],n)=>{const{value:i}=t;return(0,D.jsx)(x.Z,{content:i.toString(),label:e,width:"fit-content"},n)}))})]})]}),!R&&(0,D.jsx)(p.Z,{block:!0,icon:(0,D.jsx)(f.Z,{phosphorIcon:I.Z,type:"phosphor",weight:"fill"}),onClick:Q,children:(0,D.jsx)("span",{className:"nft_item_detail__send_text",children:"Send"})})]}),(0,D.jsx)(i.P0,{id:H,onCancel:()=>V(H),title:M("Transfer"),children:(0,D.jsx)(F.default,{modalContent:!0,children:(0,D.jsx)(z.default,{modalContent:!0,nftDetail:v})})}),(0,D.jsx)(g.ZP,{className:y()("nft_item_detail__description_modal"),closeIcon:B,id:"nftItemDescription",onCancel:se,title:M("Description"),wrapClassName:e,children:(0,D.jsxs)("div",{className:"nft_item_detail__description_modal_content",children:[(0,D.jsx)("div",{className:"nft_item_detail__description_modal_left_icon",children:(0,D.jsx)(k.Z,{backgroundColor:(0,b.If)(U.colorLink,.1),iconColor:U.colorLink,phosphorIcon:C.Z,size:"lg",type:"phosphor",weight:"fill"})}),(0,D.jsxs)("div",{className:"nft_item_detail_description_modal_container",children:[(0,D.jsx)("div",{className:"nft_item_detail__description_modal_title",children:v.name||v.id}),(0,D.jsx)("div",{className:"nft_item_detail__description_modal_detail",children:(0,D.jsx)("pre",{children:v.description})})]})]})})]})})})).withConfig({displayName:"NftItemDetail",componentId:"sc-1ffl3tk-0"})((({theme:{token:e}})=>({".nft_item_detail__container":{marginTop:e.marginSM,paddingRight:e.margin,paddingLeft:e.margin,paddingBottom:e.margin,".nft_item_detail__info_field_container":{gap:8,display:"flex",flexDirection:"column"},"&.__web-ui":{display:"flex",gap:16,paddingRight:0,".nft_item_detail__nft_image":{gap:16,flex:0,display:"flex",flexDirection:"column",justifyContent:"stretch",maxWidth:358,img:{aspectRatio:"1",objectFit:"cover"}},".nft_item_detail_field_container":{flex:1,".nft_item_detail__info_container":{margin:0,marginBottom:16,".nft_item_detail__info_field_container":{gap:8,display:"flex",flexWrap:"wrap",flexDirection:"row",".ant-field-container":{flex:"0 1",minWidth:"calc(50% - 4px)"}}}}}},".clickable":{cursor:"pointer"},".nft_item_detail__info_container":{display:"flex",flexDirection:"column",gap:e.marginXS,marginTop:e.margin,marginBottom:e.margin},".nft_item_detail__atts_container":{marginTop:e.margin,display:"flex",flexWrap:"wrap",gap:e.marginXS,overflow:"hidden"},".ant-field-container":{overflow:"hidden"},".nft_item_detail__section_title":{fontSize:e.fontSizeLG,color:e.colorTextHeading,lineHeight:e.lineHeightLG},".nft_item_detail__send_text":{fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG,color:e.colorTextLight1},".nft_item_detail__prop_section":{marginBottom:e.margin},".nft_item_detail__owner_address":{color:e.colorTextDescription},".nft_item_detail__external_icon":{cursor:"pointer"},".nft_item_detail__description_container":{padding:e.paddingSM,backgroundColor:e.colorBgSecondary,borderRadius:e.borderRadiusLG},".nft_item_detail__description_content":{color:e.colorTextDescription,fontSize:e.fontSize,fontWeight:e.bodyFontWeight,lineHeight:e.lineHeight,wordBreak:"break-all"},".nft_item_detail__description_title":{marginTop:e.margin,display:"flex",alignItems:"center",gap:e.marginXXS,color:e.colorTextLabel,fontSize:e.fontSize,fontWeight:e.headingFontWeight,lineHeight:e.lineHeight},".nft_item_detail__description_modal_content":{display:"flex",gap:e.marginXS,padding:e.paddingSM,backgroundColor:e.colorBgSecondary,borderRadius:e.borderRadiusLG},".nft_item_detail__description_modal_left_icon":{display:"flex",alignItems:"center"},".nft_item_detail__description_modal_title":{textAlign:"left",fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG,fontWeight:e.bodyFontWeight,color:e.colorTextLight1,wordBreak:"break-all"},".nft_item_detail__description_modal_detail":{textAlign:"justify",fontWeight:e.bodyFontWeight,fontSize:e.fontSizeHeading6,color:e.colorTextTertiary,wordBreak:"break-word"},".nft_item_detail__nft_image":{display:"flex",justifyContent:"center",width:"100%"}})))},17043:(e,t,n)=>{n.r(t),n.d(t,{default:()=>N});var i=n(56858),o=n(53334),r=n(75576),l=n(33283),a=n(92936),s=n(95798),c=n(12798),d=n(88976),m=n(96562),_=n(92280),f=n(99656),h=n(72779),u=n.n(h),p=n(58584),x=n(2784),g=n(96217),k=n(73557),j=n(38338),b=n(61162),w=n(68774),y=n(52274),v=n(94684),C=n(55446),I=n(52322);const L={collectionId:"unknown",chain:"unknown"},S={collectionId:"unknown",chain:"unknown",owner:"unknown",id:"unknown"},Z=({nftDetail:e=S,modalContent:t=!1})=>{const{t:n}=(0,g.$)(),r=(0,k.s0)(),{chain:h="",collectionId:j,itemId:Z,owner:N=""}=(0,k.UO)(),{chainInfoMap:E}=(0,l.v9)((e=>e.chainStore)),{nftCollections:W,nftItems:T}=(0,l.v9)((e=>e.nft)),[F,z]=(0,x.useState)(!0),D=(0,x.useMemo)((()=>t?{nftChain:e.chain,collectionId:e.collectionId,itemId:e.id,owner:e.owner}:{nftChain:h,collectionId:j,itemId:Z,owner:N}),[j,Z,h,T,N,t,e]),H=(0,x.useMemo)((()=>{const{nftChain:e,collectionId:t,itemId:n,owner:o}=D;return T.find((r=>(0,i.Wr)(r.owner,o)&&e===r.chain&&r.collectionId===t&&r.id===n))||S}),[D]),B=(0,x.useMemo)((()=>{const{nftChain:e,collectionId:t}=D;return W.find((n=>e===n.chain&&n.collectionId===t))||L}),[D,W]),P=(0,x.useMemo)((()=>E[h]),[E,h]),R=(0,l.xo)(h),{chain:M,from:A,onDone:X,setChain:G,setFrom:U}=(0,x.useContext)(C.TransactionContext);console.log("%c Rainbowww!","font-weight: bold; font-size: 50px;color: red; text-shadow: 3px 3px 0 rgb(217,31,38) , 6px 6px 0 rgb(226,91,14) , 9px 9px 0 rgb(245,221,8) , 12px 12px 0 rgb(5,148,68) , 15px 15px 0 rgb(2,135,206) , 18px 18px 0 rgb(4,77,145) , 21px 21px 0 rgb(42,21,113); margin-bottom: 12px; padding: 5%;"),console.log("==>>",{chain:M,from:A,onDone:X,setChain:G,setFrom:U});const{onError:$,onSuccess:O}=(0,l.Ls)(X),[V]=c.Z.useForm(),q=(0,x.useMemo)((()=>({from:A,chain:M,to:""})),[M,A]),[K,J]=(0,x.useState)(!0),[Y,Q]=(0,x.useState)(!1),ee=(0,x.useCallback)((({getFieldValue:e})=>({validator:(e,t)=>{if(!t)return Promise.reject(n("The recipient address is required"));if(!(0,b.U)(t))return Promise.reject(n("Invalid recipient address"));if((0,i.Wr)(t,A))return Promise.reject(n("The recipient address can not be the same as the sender address"));if((0,w.u)(t)!==(0,w.u)(A)){const e=(0,w.u)(A)?n("Receive address must be of evm account."):n("Receive address must be of substrate account.");return Promise.reject(e)}return Promise.resolve()}})),[n,A]),te=(0,x.useCallback)(((e,t)=>{const{error:n}=(0,s.ij)(t);J(n)}),[]),ne=(0,x.useCallback)((e=>{const t=(0,w.u)(A),{to:n}=e,i=(0,y.bO)(H,M);let o;o=t?(0,a.Y5)({senderAddress:A,networkKey:M,recipientAddress:n,nftItemName:null==H?void 0:H.name,params:i,nftItem:H}):(0,a.GW)({networkKey:M,recipientAddress:n,senderAddress:A,nftItemName:null==H?void 0:H.name,params:i,nftItem:H}),Q(!0),setTimeout((()=>{o.then(O).catch($).finally((()=>{Q(!1)}))}),300)}),[M,A,H,$,O]),ie=(0,l.Ey)(A);return(0,x.useEffect)((()=>{G(h),U(N)}),[h,N,G,U]),(0,x.useEffect)((()=>{H!==S&&B!==L||r("/home/nfts/collections")}),[B,r,H]),(0,l.uy)(V,"to"),(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(v.tc,{className:u()("-transaction-content"),children:[(0,I.jsxs)("div",{className:u()("nft_item_detail text-center",{"__modal-ui":t}),children:[(0,I.jsx)(d.Z,{height:t?180:120,src:H.image}),(0,I.jsx)(m.Z.Title,{level:5,children:H.name})]}),(0,I.jsxs)(c.Z,{className:u()("form-container form-space-sm",{"__modal-ui":t}),form:V,initialValues:q,onFieldsChange:te,onFinish:ne,children:[(0,I.jsx)(c.Z.Item,{name:"to",rules:[ee],statusHelpAsTooltip:!0,children:(0,I.jsx)(o.Jg,{addressPrefix:R,label:n("Send to account"),showAddressBook:!0,showScanner:!0})}),(0,I.jsx)(c.Z.Item,{children:(0,I.jsx)(o.oT,{disabled:!0,items:P?[{name:P.name,slug:P.slug}]:[],label:n("Network"),value:B.chain})})]}),(0,I.jsx)(v.ZL,{address:A,chain:M,onBalanceReady:z})]}),(0,I.jsx)(v.Xd,{className:u()("send-nft-transaction-footer",{"__modal-ui":t}),errors:[],warnings:[],children:(0,I.jsx)(_.Z,{disabled:K||!F,icon:(0,I.jsx)(f.Z,{phosphorIcon:p.Z,weight:"fill"}),loading:Y,onClick:ie(V.submit),children:n("Next")})})]})},N=(0,j.ZP)((e=>{const{className:t}=e,n=(0,x.useContext)(r.R0);return(0,I.jsx)(o.FE,{className:t,resolve:n.awaitStores(["nft"]),children:(0,I.jsx)(Z,{nftDetail:e.nftDetail,modalContent:e.modalContent})})})).withConfig({displayName:"SendNFT",componentId:"sc-13wb87a-0"})((({theme:{token:e}})=>({flex:1,display:"flex",flexDirection:"column",overflow:"hidden",".nft_item_detail h5":{marginTop:e.marginXS,marginBottom:e.margin},".__modal-ui":{"&.form-container":{display:"flex",flexDirection:"column-reverse"},"&.send-nft-transaction-footer":{"& > .ant-btn":{width:"100%"}},"&.nft_item_detail":{img:{aspectRatio:"1"}}}})))},58584:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(2784),o=n(21890),r=n(76712),l=new Map;l.set("bold",(function(e){return i.createElement(i.Fragment,null,i.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),i.createElement("polyline",{points:"134.1 161.9 168 128 134.1 94.1",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),i.createElement("line",{x1:"88",y1:"128",x2:"168",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))})),l.set("duotone",(function(e){return i.createElement(i.Fragment,null,i.createElement("circle",{cx:"128",cy:"128",r:"96",opacity:"0.2"}),i.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeMiterlimit:"10",strokeWidth:"16"}),i.createElement("polyline",{points:"134.1 161.9 168 128 134.1 94.1",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),i.createElement("line",{x1:"88",y1:"128",x2:"168",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))})),l.set("fill",(function(){return i.createElement(i.Fragment,null,i.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.2,104.2,0,0,0,128,24Zm47.4,107.1a8.7,8.7,0,0,1-1.8,2.6l-33.9,33.9a7.6,7.6,0,0,1-5.6,2.3,7.8,7.8,0,0,1-5.7-2.3,8,8,0,0,1,0-11.3L148.7,136H88a8,8,0,0,1,0-16h60.7L128.4,99.7a8,8,0,0,1,11.3-11.3l33.9,33.9a8.7,8.7,0,0,1,1.8,2.6A8.3,8.3,0,0,1,175.4,131.1Z"}))})),l.set("light",(function(e){return i.createElement(i.Fragment,null,i.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),i.createElement("polyline",{points:"134.1 161.9 168 128 134.1 94.1",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),i.createElement("line",{x1:"88",y1:"128",x2:"168",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))})),l.set("thin",(function(e){return i.createElement(i.Fragment,null,i.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),i.createElement("polyline",{points:"134.1 161.9 168 128 134.1 94.1",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),i.createElement("line",{x1:"88",y1:"128",x2:"168",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))})),l.set("regular",(function(e){return i.createElement(i.Fragment,null,i.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeMiterlimit:"10",strokeWidth:"16"}),i.createElement("polyline",{points:"134.1 161.9 168 128 134.1 94.1",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),i.createElement("line",{x1:"88",y1:"128",x2:"168",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}));var a=function(e,t){return(0,o._)(e,t,l)},s=(0,i.forwardRef)((function(e,t){return i.createElement(r.Z,Object.assign({ref:t},e,{renderPath:a}))}));s.displayName="ArrowCircleRight";const c=s}}]);