"use strict";(("undefined"!=typeof self?self:this).webpackChunk_subwallet_web_runner=("undefined"!=typeof self?self:this).webpackChunk_subwallet_web_runner||[]).push([[5072],{5072:(e,t,n)=>{n.r(t),n.d(t,{default:()=>H});var s=n(51076),o=n(18488),i=n(68627),a=n(67145),r=n(3612),l=n(43246),c=n(70497),d=n(92936),p=n(48062),u=n(96701),m=n(33932),h=n(99656),g=n(12162),w=n(12798),f=n(95023),x=n(25356),S=n(92280),y=n(80039),j=n(72779),C=n.n(j),b=n(75720),v=n(31053),Z=n(28394),I=n(2784),P=n(35185),k=n(73557),W=n(38338),A=n(48118),N=n(52322),_=function(e){return e.PASSWORD="password",e.CONFIRM_PASSWORD="confirm_password",e}(_||{});const O=(0,N.jsx)(h.Z,{phosphorIcon:b.Z,weight:"fill"}),R=(0,m.tK)("Password"),D=(0,m._B)(_.PASSWORD),F="create-password-instruction-modal",H=(0,W.ZP)((({className:e})=>{const{t}=(0,l.Z)(),{activeModal:n,checkActive:m,inactiveModal:j}=(0,I.useContext)(g.t),{isWebUI:b}=(0,I.useContext)(r.sG),W=(0,k.s0)(),H=(0,k.TH)().state,{accounts:M}=(0,P.v9)((e=>e.accountState)),[T]=(0,I.useState)((0,p.MS)(M)),[z]=w.Z.useForm(),[B,E]=(0,I.useState)(!0),[Y,$]=(0,I.useState)(""),[G,K]=(0,I.useState)(!1),U=(0,I.useMemo)((()=>[{title:"Why do I need to enter a password?",description:"For your wallet protection, SubWallet locks your wallet after 15 minutes of inactivity. You will need this password to unlock it.",type:b?"warning":"info"},{title:"Can I recover a password?",description:"The password is stored securely on your device. We will not be able to recover it for you, so make sure you remember it!",type:b?"warning":"info"}]),[b]),V=(0,I.useCallback)((()=>{null!=H&&H.prevPathname?W(H.prevPathname,{state:H.prevState}):W(a.Y)}),[W,null==H?void 0:H.prevPathname,null==H?void 0:H.prevState]),X=(0,I.useCallback)((e=>{const t=e[_.PASSWORD];t&&(K(!0),(0,d.jS)({createNew:!0,newPassword:t}).then((e=>{null!=e&&e.status?V():$(e.errors[0])})).catch((e=>{$(e.message)})).finally((()=>{K(!1)})))}),[V]),q=(0,I.useCallback)(((e,t)=>{const{empty:n,error:s}=(0,u.ij)(t);$(""),E(s||n)}),[]),J=(0,I.useCallback)((()=>{z.setFields([{name:_.CONFIRM_PASSWORD,value:"",errors:[]}])}),[z]),L=(0,I.useCallback)((()=>{n(F)}),[n]),Q=(0,I.useCallback)((()=>{j(F)}),[j]);return(0,I.useEffect)((()=>{T||n(i.hD)}),[n,T]),(0,c.Z)(z,_.PASSWORD,!m(i.hD)),(0,N.jsx)(s.FE,{className:C()(e),children:(0,N.jsx)(s.Ar.WithSubHeaderOnly,{...!b&&{rightFooterButton:{children:t("Continue"),onClick:z.submit,loading:G,disabled:B,icon:O}},subHeaderIcons:[{icon:(0,N.jsx)(o.Z,{}),onClick:L}],title:t("Create a password"),children:(0,N.jsxs)("div",{className:C()("body-container",{"__web-ui":b}),children:[!b&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("div",{className:"page-icon",children:(0,N.jsx)(f.Z,{color:"var(--page-icon-color)",iconProps:{weight:"fill",phosphorIcon:v.Z}})}),(0,N.jsx)("div",{className:"title",children:t("Create a password")})]}),(0,N.jsx)("div",{className:"form-container",children:(0,N.jsxs)(w.Z,{form:z,initialValues:{[_.PASSWORD]:"",[_.CONFIRM_PASSWORD]:""},name:"create-password-form",onFieldsChange:q,onFinish:X,children:[(0,N.jsx)(w.Z.Item,{name:_.PASSWORD,rules:R,statusHelpAsTooltip:!0,children:(0,N.jsx)(x.Z,{onChange:J,placeholder:t("Enter password"),type:"password"})}),(0,N.jsx)(w.Z.Item,{name:_.CONFIRM_PASSWORD,rules:D,statusHelpAsTooltip:!0,children:(0,N.jsx)(x.Z,{placeholder:t("Confirm password"),type:"password"})}),(0,N.jsx)(w.Z.Item,{children:(0,N.jsx)(s.e3,{description:t("Recommended security practice"),title:t("Always choose a strong password!"),type:"warning"})}),Y&&(0,N.jsx)(w.Z.Item,{help:Y,validateStatus:"error"}),b&&(0,N.jsx)(S.Z,{onClick:z.submit,loading:G,disabled:B,icon:O,children:t("Import Account")})]})}),(0,N.jsx)("div",{className:"instruction-container",children:b?(0,N.jsx)(A.Z,{contents:U}):(0,N.jsx)(y.ZP,{closeIcon:(0,N.jsx)(h.Z,{phosphorIcon:Z.Z,size:"sm"}),id:F,onCancel:Q,rightIconProps:{icon:(0,N.jsx)(o.Z,{})},title:t("Instructions"),wrapClassName:e,children:(0,N.jsx)(A.Z,{contents:U})})})]})})})})).withConfig({displayName:"CreatePassword",componentId:"sc-y8wcce-0"})((({theme:{token:e}})=>({".__web-ui":{display:"flex",justifyContent:"center",gap:16,"& > *":{flex:1},".form-container":{".ant-btn":{width:"100%"}}},".body-container":{padding:`0 ${e.padding}px`,textAlign:"center",maxWidth:768,margin:"0 auto",".page-icon":{display:"flex",justifyContent:"center",marginTop:e.margin,"--page-icon-color":e.colorSecondary},".title":{marginTop:e.margin,marginBottom:2*e.margin,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeHeading3,lineHeight:e.lineHeightHeading3,color:e.colorTextBase}},".instruction-container":{display:"flex",flexDirection:"column",gap:e.sizeXS}})))},48118:(e,t,n)=>{n.d(t,{Z:()=>c});var s=n(51076),o=n(72779),i=n.n(o),a=n(96217),r=n(38338),l=n(52322);const c=(0,r.ZP)((({className:e,contents:t})=>{const{t:n}=(0,a.$)();return t.length<=0?(0,l.jsx)(l.Fragment,{}):(0,l.jsx)("div",{className:i()("instruction-container",e),children:t.map(((e,t)=>(0,l.jsx)(s.e3,{title:n(e.title),description:"string"==typeof e.description?n(e.description):e.description,type:e.type||"warning"})))})})).withConfig({displayName:"InstructionContainer",componentId:"sc-1tjn6f7-0"})((({theme:{token:e}})=>({display:"flex",flexDirection:"column",gap:10})))}}]);