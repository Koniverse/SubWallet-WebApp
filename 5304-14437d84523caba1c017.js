"use strict";(("undefined"!=typeof self?self:this).webpackChunk_subwallet_web_runner=("undefined"!=typeof self?self:this).webpackChunk_subwallet_web_runner||[]).push([[5304,7043],{15304:(e,t,n)=>{n.r(t),n.d(t,{default:()=>R});var i=n(6723),o=n(53334),r=n(75576),l=n(3612),a=n(33283),s=n(99828),c=n(43246),d=n(47088),m=n(71871),_=n(51952),f=n(48685),u=n(99656),h=n(12162),p=n(66611),x=n(19138),g=n(92280),k=n(19201),b=n(80039),j=n(58094),w=n(74704),y=n(14546),v=n(72779),C=n.n(v),I=n(28394),L=n(78166),S=n(62982),N=n(2784),Z=n(35185),E=n(73557),W=n(38338),T=n(68774),F=n(55446),z=n(17043),D=n(52322);const H="transfer-nft-modal",B=(0,D.jsx)(u.Z,{customSize:"24px",phosphorIcon:I.Z,type:"phosphor",weight:"light"}),R=(0,W.ZP)((function({className:e=""}){var t;const n=(0,E.TH)(),{collectionInfo:v,nftItem:I}=n.state,R=(0,E.bx)(),{isWebUI:P}=(0,N.useContext)(l.sG),{t:M}=(0,c.Z)(),A=(0,s.Z)(),X=(0,E.s0)(),{goBack:G}=(0,d.Z)(),{token:U}=(0,W.Fg)(),$=(0,N.useContext)(r.R0),{activeModal:O,inactiveModal:V}=(0,N.useContext)(h.t),q=(0,Z.v9)((e=>e.accountState.accounts)),K=(0,m.Z)(I.chain),J=(0,_.Z)(I.owner||""),Y=(0,i.E)(K,I.owner,"account");(0,a.qg)("/home/nfts/collections");const Q=(0,N.useCallback)((()=>{if(I&&I.owner){const e=(0,f.Z)(I.owner,42),t=q.find((t=>t.address===e));if(null!=t&&t.isReadOnly)return void A({message:M("The NFT owner is a watch-only account, you cannot send the NFT with it"),type:"info",duration:3})}P?O(H):X(`/transaction/send-nft/${I.owner}/${I.chain}/${I.collectionId}/${I.id}`)}),[q,X,I,P,O,A,M]),ee=[{children:M("Send"),onClick:Q}],te=(0,N.useCallback)((()=>{if(I.owner){var e;const t=(0,T.u)(I.owner)?"ethereum":"polkadot";return(0,D.jsx)(w.Z,{identPrefix:null===(e=K.substrateInfo)||void 0===e?void 0:e.addressPrefix,size:U.fontSizeXL,theme:t,value:I.owner})}return(0,D.jsx)("div",{})}),[I.owner,null===(t=K.substrateInfo)||void 0===t?void 0:t.addressPrefix,U.fontSizeXL]),ne=(0,N.useCallback)((()=>(0,D.jsx)(p.Z,{network:K.slug,shape:"circle",size:U.fontSizeXL})),[K.slug,U.fontSizeXL]),ie=(0,N.useCallback)((()=>(0,D.jsxs)("span",{children:[(0,D.jsx)("span",{children:null==J?void 0:J.name})," ",(0,D.jsxs)("span",{className:"nft_item_detail__owner_address",children:["(",`${null==I?void 0:I.owner.slice(0,4)}...${null==I?void 0:I.owner.slice(-4)}`,")"]})]})),[null==I?void 0:I.owner,null==J?void 0:J.name]),oe=(0,N.useCallback)((()=>{try{chrome.tabs.create({url:Y,active:!0}).then((()=>console.log("redirecting")))}catch(e){console.log("error redirecting to a new tab")}}),[Y]),re=(0,N.useCallback)((()=>{try{chrome.tabs.create({url:I.externalUrl,active:!0}).then((()=>console.log("redirecting")))}catch(e){console.log("error redirecting to a new tab")}}),[I.externalUrl]),le=(0,N.useCallback)((e=>(0,D.jsx)("div",{className:"nft_item_detail__external_icon",onClick:"account"===e?oe:re,children:(0,D.jsx)(u.Z,{customSize:"20px",phosphorIcon:L.Z,type:"phosphor",weight:"light"})})),[oe,re]),ae=(0,N.useCallback)((()=>{null!=I&&I.description&&I.description.length>70&&O("nftItemDescription")}),[O,I.description]),se=(0,N.useCallback)((()=>{V("nftItemDescription")}),[V]),ce=(0,N.useCallback)((()=>{I.externalUrl&&chrome.tabs.create({url:I.externalUrl,active:!0}).then((()=>console.log("redirecting"))).catch(console.error)}),[I.externalUrl]);(0,N.useEffect)((()=>{null==R||R.setDetailTitle(I.name||I.id)}),[I,R]);const de=(0,N.useCallback)((()=>V(H)),[V]);return(0,D.jsx)(o.FE,{className:`${e}`,resolve:$.awaitStores(["nft","accountState","chainStore"]),children:(0,D.jsxs)(o.Ar.Base,{...!P&&{onBack:G,showBackButton:!0,showSubHeader:!0,subHeaderBackground:"transparent",subHeaderCenter:!1,subHeaderIcons:ee,subHeaderPaddingVertical:!0,title:I.name||I.id},children:[(0,D.jsxs)("div",{className:C()("nft_item_detail__container",{"__web-ui":P}),children:[(0,D.jsxs)("div",{className:"nft_item_detail__nft_image",children:[(0,D.jsx)(x.Z,{className:C()({clickable:I.externalUrl}),height:358,onClick:ce,src:I.image}),P&&(0,D.jsx)(g.Z,{block:!0,icon:(0,D.jsx)(u.Z,{phosphorIcon:S.Z,type:"phosphor",weight:"fill"}),onClick:Q,children:(0,D.jsx)("span",{className:"nft_item_detail__send_text",children:"Send"})})]}),(0,D.jsxs)("div",{className:"nft_item_detail_field_container",children:[(0,D.jsxs)("div",{className:"nft_item_detail__info_container",children:[!P&&(0,D.jsx)("div",{className:"nft_item_detail__section_title",children:M("NFT information")}),I.description&&(0,D.jsxs)("div",{className:"nft_item_detail__description_container",onClick:ae,style:{cursor:I.description.length>70?"pointer":"auto"},children:[(0,D.jsx)("div",{className:"nft_item_detail__description_content",children:I.description.length>70?`${I.description.slice(0,70)}...`:I.description}),(0,D.jsxs)("div",{className:"nft_item_detail__description_title",children:[(0,D.jsx)(u.Z,{iconColor:U.colorIcon,phosphorIcon:L.Z,type:"phosphor",weight:"fill"}),(0,D.jsx)("div",{children:M("Description")})]})]}),(0,D.jsxs)("div",{className:"nft_item_detail__info_field_container",children:[(0,D.jsx)(k.Z,{content:v.collectionName||v.collectionId,label:M("NFT collection name"),suffix:I.externalUrl&&le("collection")}),(0,D.jsx)(k.Z,{content:ie(),label:M("Owned by"),prefix:I.owner&&te(),suffix:le("account")}),P&&(0,D.jsx)(k.Z,{content:"created by...",label:M("Created By"),prefix:I.owner&&te(),suffix:le("account")}),(0,D.jsx)(k.Z,{content:K.name,label:M("Chain"),prefix:ne()})]})]}),I.properties&&I.properties.length>0&&(0,D.jsxs)("div",{className:"nft_item_detail__prop_section",children:[(0,D.jsx)("div",{className:"nft_item_detail__section_title",children:M("Properties")}),(0,D.jsx)("div",{className:"nft_item_detail__atts_container",children:Object.entries(I.properties).map((([e,t],n)=>{const{value:i}=t;return(0,D.jsx)(k.Z,{content:i.toString(),label:e,width:"fit-content"},n)}))})]})]}),!P&&(0,D.jsx)(g.Z,{block:!0,icon:(0,D.jsx)(u.Z,{phosphorIcon:S.Z,type:"phosphor",weight:"fill"}),onClick:Q,children:(0,D.jsx)("span",{className:"nft_item_detail__send_text",children:"Send"})})]}),(0,D.jsx)(o.P0,{id:H,onCancel:de,title:M("Transfer"),children:(0,D.jsx)(F.default,{modalContent:!0,children:(0,D.jsx)(z.default,{modalContent:!0,nftDetail:I})})}),(0,D.jsx)(b.ZP,{className:C()("nft_item_detail__description_modal"),closeIcon:B,id:"nftItemDescription",onCancel:se,title:M("Description"),wrapClassName:e,children:(0,D.jsxs)("div",{className:"nft_item_detail__description_modal_content",children:[(0,D.jsx)("div",{className:"nft_item_detail__description_modal_left_icon",children:(0,D.jsx)(j.Z,{backgroundColor:(0,y.If)(U.colorLink,.1),iconColor:U.colorLink,phosphorIcon:L.Z,size:"lg",type:"phosphor",weight:"fill"})}),(0,D.jsxs)("div",{className:"nft_item_detail_description_modal_container",children:[(0,D.jsx)("div",{className:"nft_item_detail__description_modal_title",children:I.name||I.id}),(0,D.jsx)("div",{className:"nft_item_detail__description_modal_detail",children:(0,D.jsx)("pre",{children:I.description})})]})]})})]})})})).withConfig({displayName:"NftItemDetail",componentId:"sc-1ffl3tk-0"})((({theme:{token:e}})=>({".nft_item_detail__container":{marginTop:e.marginSM,paddingRight:e.margin,paddingLeft:e.margin,paddingBottom:e.margin,".nft_item_detail__info_field_container":{gap:8,display:"flex",flexDirection:"column"},"&.__web-ui":{display:"flex",gap:16,paddingRight:0,".nft_item_detail__nft_image":{gap:16,flex:0,display:"flex",flexDirection:"column",justifyContent:"stretch",maxWidth:358,img:{aspectRatio:"1",objectFit:"cover"}},".nft_item_detail_field_container":{flex:1,".nft_item_detail__info_container":{margin:0,marginBottom:16,".nft_item_detail__info_field_container":{gap:8,display:"flex",flexWrap:"wrap",flexDirection:"row",".ant-field-container":{flex:"0 1",minWidth:"calc(50% - 4px)"}}}}}},".clickable":{cursor:"pointer"},".nft_item_detail__info_container":{display:"flex",flexDirection:"column",gap:e.marginXS,marginTop:e.margin,marginBottom:e.margin},".nft_item_detail__atts_container":{marginTop:e.margin,display:"flex",flexWrap:"wrap",gap:e.marginXS,overflow:"hidden"},".ant-field-container":{overflow:"hidden"},".nft_item_detail__section_title":{fontSize:e.fontSizeLG,color:e.colorTextHeading,lineHeight:e.lineHeightLG},".nft_item_detail__send_text":{fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG,color:e.colorTextLight1},".nft_item_detail__prop_section":{marginBottom:e.margin},".nft_item_detail__owner_address":{color:e.colorTextDescription},".nft_item_detail__external_icon":{cursor:"pointer"},".nft_item_detail__description_container":{padding:e.paddingSM,backgroundColor:e.colorBgSecondary,borderRadius:e.borderRadiusLG},".nft_item_detail__description_content":{color:e.colorTextDescription,fontSize:e.fontSize,fontWeight:e.bodyFontWeight,lineHeight:e.lineHeight,wordBreak:"break-all"},".nft_item_detail__description_title":{marginTop:e.margin,display:"flex",alignItems:"center",gap:e.marginXXS,color:e.colorTextLabel,fontSize:e.fontSize,fontWeight:e.headingFontWeight,lineHeight:e.lineHeight},".nft_item_detail__description_modal_content":{display:"flex",gap:e.marginXS,padding:e.paddingSM,backgroundColor:e.colorBgSecondary,borderRadius:e.borderRadiusLG},".nft_item_detail__description_modal_left_icon":{display:"flex",alignItems:"center"},".nft_item_detail__description_modal_title":{textAlign:"left",fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG,fontWeight:e.bodyFontWeight,color:e.colorTextLight1,wordBreak:"break-all"},".nft_item_detail__description_modal_detail":{textAlign:"justify",fontWeight:e.bodyFontWeight,fontSize:e.fontSizeHeading6,color:e.colorTextTertiary,wordBreak:"break-word"},".nft_item_detail__nft_image":{display:"flex",justifyContent:"center",width:"100%"}})))},17043:(e,t,n)=>{n.r(t),n.d(t,{default:()=>E});var i,o=n(56858),r=n(53334),l=n(75576),a=n(33283),s=n(92936),c=n(95798),d=n(12798),m=n(19138),_=n(99338),f=n(92280),u=n(99656),h=n(72779),p=n.n(h),x=n(58584),g=n(2784),k=n(21427),b=n(73557),j=n(38338),w=n(61162),y=n(68774),v=n(52274),C=n(94684),I=n(55446),L=n(52322);!function(e){e.TO="to"}(i||(i={}));const S={collectionId:"unknown",chain:"unknown"},N={collectionId:"unknown",chain:"unknown",owner:"unknown",id:"unknown"},Z=({modalContent:e=!1,nftDetail:t=N})=>{const{t:n}=(0,k.$)(),i=(0,b.s0)(),{chain:l="",collectionId:h,itemId:j,owner:Z=""}=(0,b.UO)(),{chainInfoMap:E}=(0,a.v9)((e=>e.chainStore)),{nftCollections:W,nftItems:T}=(0,a.v9)((e=>e.nft)),[F,z]=(0,g.useState)(!0),D=(0,g.useMemo)((()=>e?{nftChain:t.chain,collectionId:t.collectionId,itemId:t.id,owner:t.owner}:{nftChain:l,collectionId:h,itemId:j,owner:Z}),[h,j,l,T,Z,e,t]),H=(0,g.useMemo)((()=>{const{collectionId:e,itemId:t,nftChain:n,owner:i}=D;return T.find((r=>(0,o.Wr)(r.owner,i)&&n===r.chain&&r.collectionId===e&&r.id===t))||N}),[D]),B=(0,g.useMemo)((()=>{const{collectionId:e,nftChain:t}=D;return W.find((n=>t===n.chain&&n.collectionId===e))||S}),[D,W]),R=(0,g.useMemo)((()=>E[l]),[E,l]),P=(0,a.xo)(l),{chain:M,from:A,onDone:X,setChain:G,setFrom:U}=(0,g.useContext)(I.TransactionContext);console.log("%c Rainbowww!","font-weight: bold; font-size: 50px;color: red; text-shadow: 3px 3px 0 rgb(217,31,38) , 6px 6px 0 rgb(226,91,14) , 9px 9px 0 rgb(245,221,8) , 12px 12px 0 rgb(5,148,68) , 15px 15px 0 rgb(2,135,206) , 18px 18px 0 rgb(4,77,145) , 21px 21px 0 rgb(42,21,113); margin-bottom: 12px; padding: 5%;"),console.log("==>>",{chain:M,from:A,onDone:X,setChain:G,setFrom:U});const{onError:$,onSuccess:O}=(0,a.Ls)(X),[V]=d.Z.useForm(),q=(0,g.useMemo)((()=>({from:A,chain:M,to:""})),[M,A]),[K,J]=(0,g.useState)(!0),[Y,Q]=(0,g.useState)(!1),ee=(0,g.useCallback)((({getFieldValue:e})=>({validator:(e,t)=>{if(!t)return Promise.reject(n("The recipient address is required"));if(!(0,w.U)(t))return Promise.reject(n("Invalid recipient address"));if((0,o.Wr)(t,A))return Promise.reject(n("The recipient address can not be the same as the sender address"));if((0,y.u)(t)!==(0,y.u)(A)){const e=(0,y.u)(A)?n("Receive address must be of evm account."):n("Receive address must be of substrate account.");return Promise.reject(e)}return Promise.resolve()}})),[n,A]),te=(0,g.useCallback)(((e,t)=>{const{error:n}=(0,c.ij)(t);J(n)}),[]),ne=(0,g.useCallback)((e=>{const t=(0,y.u)(A),{to:n}=e,i=(0,v.bO)(H,M);let o;o=t?(0,s.Y5)({senderAddress:A,networkKey:M,recipientAddress:n,nftItemName:null==H?void 0:H.name,params:i,nftItem:H}):(0,s.GW)({networkKey:M,recipientAddress:n,senderAddress:A,nftItemName:null==H?void 0:H.name,params:i,nftItem:H}),Q(!0),setTimeout((()=>{o.then(O).catch($).finally((()=>{Q(!1)}))}),300)}),[M,A,H,$,O]),ie=(0,a.Ey)(A);return(0,g.useEffect)((()=>{G(l),U(Z)}),[l,Z,G,U]),(0,g.useEffect)((()=>{H!==N&&B!==S||i("/home/nfts/collections")}),[B,i,H]),(0,a.uy)(V,"to"),(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)(C.tc,{className:p()("-transaction-content"),children:[(0,L.jsxs)("div",{className:p()("nft_item_detail text-center",{"__modal-ui":e}),children:[(0,L.jsx)(m.Z,{height:e?180:120,src:H.image}),(0,L.jsx)(_.Z.Title,{level:5,children:H.name})]}),(0,L.jsxs)(d.Z,{className:p()("form-container form-space-sm",{"__modal-ui":e}),form:V,initialValues:q,onFieldsChange:te,onFinish:ne,children:[(0,L.jsx)(d.Z.Item,{name:"to",rules:[ee],statusHelpAsTooltip:!0,children:(0,L.jsx)(r.Jg,{addressPrefix:P,label:n("Send to"),placeholder:n("Account address"),saveAddress:!0,showAddressBook:!0,showScanner:!0})}),(0,L.jsx)(d.Z.Item,{children:(0,L.jsx)(r.oT,{disabled:!0,items:R?[{name:R.name,slug:R.slug}]:[],label:n("Network"),value:B.chain})})]}),(0,L.jsx)(C.ZL,{address:A,chain:M,label:n("Sender transferable balance")+":",onBalanceReady:z})]}),(0,L.jsx)(C.Xd,{className:p()("send-nft-transaction-footer",{"__modal-ui":e}),errors:[],warnings:[],children:(0,L.jsx)(f.Z,{disabled:K||!F,icon:(0,L.jsx)(u.Z,{phosphorIcon:x.Z,weight:"fill"}),loading:Y,onClick:ie(V.submit),children:n("Next")})})]})},E=(0,j.ZP)((e=>{const{className:t}=e,n=(0,g.useContext)(l.R0);return(0,L.jsx)(r.FE,{className:t,resolve:n.awaitStores(["nft"]),children:(0,L.jsx)(Z,{modalContent:e.modalContent,nftDetail:e.nftDetail})})})).withConfig({displayName:"SendNFT",componentId:"sc-13wb87a-0"})((({theme:{token:e}})=>({flex:1,display:"flex",flexDirection:"column",overflow:"hidden",".nft_item_detail h5":{marginTop:e.marginXS,marginBottom:e.margin},".__modal-ui":{"&.form-container":{display:"flex",flexDirection:"column-reverse"},"&.send-nft-transaction-footer":{"& > .ant-btn":{width:"100%"}},"&.nft_item_detail":{img:{aspectRatio:"1"}}}})))},58584:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(2784),o=n(21890),r=n(76712),l=new Map;l.set("bold",(function(e){return i.createElement(i.Fragment,null,i.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),i.createElement("polyline",{points:"134.1 161.9 168 128 134.1 94.1",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),i.createElement("line",{x1:"88",y1:"128",x2:"168",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))})),l.set("duotone",(function(e){return i.createElement(i.Fragment,null,i.createElement("circle",{cx:"128",cy:"128",r:"96",opacity:"0.2"}),i.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeMiterlimit:"10",strokeWidth:"16"}),i.createElement("polyline",{points:"134.1 161.9 168 128 134.1 94.1",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),i.createElement("line",{x1:"88",y1:"128",x2:"168",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))})),l.set("fill",(function(){return i.createElement(i.Fragment,null,i.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.2,104.2,0,0,0,128,24Zm47.4,107.1a8.7,8.7,0,0,1-1.8,2.6l-33.9,33.9a7.6,7.6,0,0,1-5.6,2.3,7.8,7.8,0,0,1-5.7-2.3,8,8,0,0,1,0-11.3L148.7,136H88a8,8,0,0,1,0-16h60.7L128.4,99.7a8,8,0,0,1,11.3-11.3l33.9,33.9a8.7,8.7,0,0,1,1.8,2.6A8.3,8.3,0,0,1,175.4,131.1Z"}))})),l.set("light",(function(e){return i.createElement(i.Fragment,null,i.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),i.createElement("polyline",{points:"134.1 161.9 168 128 134.1 94.1",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),i.createElement("line",{x1:"88",y1:"128",x2:"168",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))})),l.set("thin",(function(e){return i.createElement(i.Fragment,null,i.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),i.createElement("polyline",{points:"134.1 161.9 168 128 134.1 94.1",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),i.createElement("line",{x1:"88",y1:"128",x2:"168",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))})),l.set("regular",(function(e){return i.createElement(i.Fragment,null,i.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeMiterlimit:"10",strokeWidth:"16"}),i.createElement("polyline",{points:"134.1 161.9 168 128 134.1 94.1",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),i.createElement("line",{x1:"88",y1:"128",x2:"168",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}));var a=function(e,t){return(0,o._)(e,t,l)},s=(0,i.forwardRef)((function(e,t){return i.createElement(r.Z,Object.assign({ref:t},e,{renderPath:a}))}));s.displayName="ArrowCircleRight";const c=s}}]);